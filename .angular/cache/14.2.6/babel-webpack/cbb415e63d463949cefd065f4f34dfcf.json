{"ast":null,"code":"/**\n *\n * carbon-angular v0.0.0 | carbon-components-angular-dropdown.js\n *\n * Copyright 2014, 2022 IBM\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { position } from '@carbon/utils-position';\nimport { Subscription, of, fromEvent, Observable, isObservable } from 'rxjs';\nimport { debounceTime, map, filter, first } from 'rxjs/operators';\nimport { Input, Output, EventEmitter, Directive, Injectable, Component, ElementRef, ContentChild, ViewChild, HostListener, HostBinding, TemplateRef, ApplicationRef, ViewChildren, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NG_VALUE_ACCESSOR, FormsModule } from '@angular/forms';\nimport { I18n, I18nModule } from 'carbon-components-angular/i18n';\nimport { PlaceholderService, PlaceholderModule } from 'carbon-components-angular/placeholder';\nimport { AnimationFrameService, closestAttr, ElementService, getScrollableParents, hasScrollableParents, UtilsModule } from 'carbon-components-angular/utils';\nimport { IconModule } from 'carbon-components-angular/icon';\n/**\n * A component that intends to be used within `Dropdown` must provide an implementation that extends this base class.\n * It also must provide the base class in the `@Component` meta-data.\n * ex: `providers: [{provide: AbstractDropdownView, useExisting: forwardRef(() => MyDropdownView)}]`\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'carbon-components-angular/placeholder';\nimport * as ɵngcc2 from 'carbon-components-angular/utils';\nimport * as ɵngcc3 from 'carbon-components-angular/i18n';\nimport * as ɵngcc4 from '@angular/common';\nimport * as ɵngcc5 from 'carbon-components-angular/icon';\nconst _c0 = [\"dropdownButton\"];\nconst _c1 = [\"dropdownMenu\"];\n\nfunction Dropdown_label_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r13 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r13.label);\n  }\n}\n\nfunction Dropdown_label_0_2_ng_template_0_Template(rf, ctx) {}\n\nfunction Dropdown_label_0_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, Dropdown_label_0_2_ng_template_0_Template, 0, 0, \"ng-template\", 16);\n  }\n\n  if (rf & 2) {\n    const ctx_r14 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r14.label);\n  }\n}\n\nconst _c2 = function (a0) {\n  return {\n    \"bx--label--disabled\": a0\n  };\n};\n\nfunction Dropdown_label_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"label\", 15);\n    ɵngcc0.ɵɵtemplate(1, Dropdown_label_0_ng_container_1_Template, 2, 1, \"ng-container\", 6);\n    ɵngcc0.ɵɵtemplate(2, Dropdown_label_0_2_Template, 1, 1, null, 6);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"for\", ctx_r0.id)(\"ngClass\", ɵngcc0.ɵɵpureFunction1(4, _c2, ctx_r0.disabled));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r0.isTemplate(ctx_r0.label));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.isTemplate(ctx_r0.label));\n  }\n}\n\nfunction Dropdown_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"div\", 17);\n    ɵngcc0.ɵɵlistener(\"click\", function Dropdown_div_4_Template_div_click_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r17);\n      const ctx_r16 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r16.clearSelected());\n    })(\"keydown.enter\", function Dropdown_div_4_Template_div_keydown_enter_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r17);\n      const ctx_r18 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r18.clearSelected());\n    });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(2, \"svg\", 18);\n    ɵngcc0.ɵɵelement(3, \"path\", 19);\n    ɵngcc0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"title\", ctx_r2.clearText);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r2.getSelectedCount(), \" \");\n  }\n}\n\nfunction Dropdown_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 20);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵpipe(2, \"async\");\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(2, 1, ctx_r3.getDisplayStringValue()));\n  }\n}\n\nfunction Dropdown_6_ng_template_0_Template(rf, ctx) {}\n\nfunction Dropdown_6_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, Dropdown_6_ng_template_0_Template, 0, 0, \"ng-template\", 21);\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutletContext\", ctx_r4.getRenderTemplateContext())(\"ngTemplateOutlet\", ctx_r4.displayValue);\n  }\n}\n\nfunction Dropdown__svg_svg_7_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"svg\", 22);\n  }\n}\n\nfunction Dropdown__svg_svg_8_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"svg\", 23);\n  }\n}\n\nconst _c3 = function (a0) {\n  return {\n    \"bx--list-box__menu-icon--open\": a0\n  };\n};\n\nfunction Dropdown__svg_svg_10_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"svg\", 24);\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(2, _c3, !ctx_r7.menuIsClosed));\n    ɵngcc0.ɵɵattribute(\"aria-label\", ctx_r7.menuButtonLabel);\n  }\n}\n\nfunction Dropdown_ng_content_13_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵprojection(0, 0, [\"*ngIf\", \"!menuIsClosed\"]);\n  }\n}\n\nfunction Dropdown_div_14_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r20 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r20.helperText);\n  }\n}\n\nfunction Dropdown_div_14_2_ng_template_0_Template(rf, ctx) {}\n\nfunction Dropdown_div_14_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, Dropdown_div_14_2_ng_template_0_Template, 0, 0, \"ng-template\", 16);\n  }\n\n  if (rf & 2) {\n    const ctx_r21 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r21.helperText);\n  }\n}\n\nconst _c4 = function (a0) {\n  return {\n    \"bx--form__helper-text--disabled\": a0\n  };\n};\n\nfunction Dropdown_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 25);\n    ɵngcc0.ɵɵtemplate(1, Dropdown_div_14_ng_container_1_Template, 2, 1, \"ng-container\", 6);\n    ɵngcc0.ɵɵtemplate(2, Dropdown_div_14_2_Template, 1, 1, null, 6);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(3, _c4, ctx_r10.disabled));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r10.isTemplate(ctx_r10.helperText));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r10.isTemplate(ctx_r10.helperText));\n  }\n}\n\nfunction Dropdown_div_15_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r23 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r23.invalidText);\n  }\n}\n\nfunction Dropdown_div_15_2_ng_template_0_Template(rf, ctx) {}\n\nfunction Dropdown_div_15_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, Dropdown_div_15_2_ng_template_0_Template, 0, 0, \"ng-template\", 16);\n  }\n\n  if (rf & 2) {\n    const ctx_r24 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r24.invalidText);\n  }\n}\n\nfunction Dropdown_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 26);\n    ɵngcc0.ɵɵtemplate(1, Dropdown_div_15_ng_container_1_Template, 2, 1, \"ng-container\", 6);\n    ɵngcc0.ɵɵtemplate(2, Dropdown_div_15_2_Template, 1, 1, null, 6);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r11.isTemplate(ctx_r11.invalidText));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r11.isTemplate(ctx_r11.invalidText));\n  }\n}\n\nfunction Dropdown_div_16_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r26 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r26.warnText);\n  }\n}\n\nfunction Dropdown_div_16_2_ng_template_0_Template(rf, ctx) {}\n\nfunction Dropdown_div_16_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, Dropdown_div_16_2_ng_template_0_Template, 0, 0, \"ng-template\", 16);\n  }\n\n  if (rf & 2) {\n    const ctx_r27 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r27.warnText);\n  }\n}\n\nfunction Dropdown_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 26);\n    ɵngcc0.ɵɵtemplate(1, Dropdown_div_16_ng_container_1_Template, 2, 1, \"ng-container\", 6);\n    ɵngcc0.ɵɵtemplate(2, Dropdown_div_16_2_Template, 1, 1, null, 6);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r12.isTemplate(ctx_r12.warnText));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r12.isTemplate(ctx_r12.warnText));\n  }\n}\n\nconst _c5 = function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12) {\n  return {\n    \"bx--dropdown\": a0,\n    \"bx--multiselect\": a1,\n    \"bx--multi-select--selected\": a2,\n    \"bx--dropdown--light\": a3,\n    \"bx--list-box--light\": a4,\n    \"bx--list-box--inline\": a5,\n    \"bx--skeleton\": a6,\n    \"bx--dropdown--disabled bx--list-box--disabled\": a7,\n    \"bx--dropdown--invalid\": a8,\n    \"bx--dropdown--warning bx--list-box--warning\": a9,\n    \"bx--dropdown--xl bx--list-box--xl\": a10,\n    \"bx--dropdown--sm bx--list-box--sm\": a11,\n    \"bx--list-box--expanded\": a12\n  };\n};\n\nconst _c6 = function (a0) {\n  return {\n    \"a\": a0\n  };\n};\n\nconst _c7 = function (a0) {\n  return {\n    \"bx--list-box--up\": a0\n  };\n};\n\nconst _c8 = [\"*\"];\nconst _c9 = [\"list\"];\nconst _c10 = [\"listItem\"];\n\nfunction DropdownList_li_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 9)(1, \"label\", 10);\n    ɵngcc0.ɵɵelement(2, \"input\", 11)(3, \"span\", 12);\n    ɵngcc0.ɵɵelementStart(4, \"span\", 13);\n    ɵngcc0.ɵɵtext(5);\n    ɵngcc0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const item_r2 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵattribute(\"data-contained-checkbox-state\", item_r2.selected);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"checked\", item_r2.selected)(\"disabled\", item_r2.disabled);\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵtextInterpolate(item_r2.content);\n  }\n}\n\nfunction DropdownList_li_2_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r2 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(item_r2.content);\n  }\n}\n\nfunction DropdownList_li_2__svg_svg_5_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"svg\", 14);\n  }\n}\n\nfunction DropdownList_li_2_6_ng_template_0_Template(rf, ctx) {}\n\nconst _c11 = function (a0) {\n  return {\n    item: a0\n  };\n};\n\nfunction DropdownList_li_2_6_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, DropdownList_li_2_6_ng_template_0_Template, 0, 0, \"ng-template\", 15);\n  }\n\n  if (rf & 2) {\n    const item_r2 = ɵngcc0.ɵɵnextContext().$implicit;\n    const ctx_r8 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(2, _c11, item_r2))(\"ngTemplateOutlet\", ctx_r8.listTpl);\n  }\n}\n\nconst _c12 = function (a0, a1, a2) {\n  return {\n    \"bx--list-box__menu-item--active\": a0,\n    \"bx--list-box__menu-item--highlighted\": a1,\n    disabled: a2\n  };\n};\n\nfunction DropdownList_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"li\", 3);\n    ɵngcc0.ɵɵlistener(\"click\", function DropdownList_li_2_Template_li_click_0_listener($event) {\n      const restoredCtx = ɵngcc0.ɵɵrestoreView(_r14);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r13 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r13.doClick($event, item_r2));\n    });\n    ɵngcc0.ɵɵelementStart(1, \"div\", 4, 5);\n    ɵngcc0.ɵɵtemplate(3, DropdownList_li_2_div_3_Template, 6, 4, \"div\", 6);\n    ɵngcc0.ɵɵtemplate(4, DropdownList_li_2_ng_container_4_Template, 2, 1, \"ng-container\", 7);\n    ɵngcc0.ɵɵtemplate(5, DropdownList_li_2__svg_svg_5_Template, 1, 0, \"svg\", 8);\n    ɵngcc0.ɵɵtemplate(6, DropdownList_li_2_6_Template, 1, 4, null, 7);\n    ɵngcc0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"id\", ctx_r1.getItemId(i_r3))(\"ngClass\", ɵngcc0.ɵɵpureFunction3(8, _c12, item_r2.selected, ctx_r1.highlightedItem === ctx_r1.getItemId(i_r3), item_r2.disabled));\n    ɵngcc0.ɵɵattribute(\"aria-selected\", item_r2.selected)(\"title\", ctx_r1.showTitles ? item_r2.content : null);\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r1.listTpl && ctx_r1.type === \"multi\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r1.listTpl && ctx_r1.type === \"single\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r1.listTpl && ctx_r1.type === \"single\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.listTpl);\n  }\n}\n\nclass AbstractDropdownView {\n  constructor() {\n    /**\n     * Specifies whether or not the `DropdownList` supports selecting multiple items as opposed to single\n     * item selection.\n     */\n    this.type = \"single\";\n    /**\n     * Specifies the render size of the items within the `AbstractDropdownView`.\n     *\n     * @deprecated since v4\n     */\n\n    this.size = \"md\";\n  }\n  /**\n   * The items to be displayed in the list within the `AbstractDropDownView`.\n   */\n\n\n  set items(value) {}\n\n  get items() {\n    return;\n  }\n  /**\n   * Returns the `ListItem` that is subsequent to the selected item in the `DropdownList`.\n   */\n\n\n  getNextItem() {\n    return;\n  }\n  /**\n   * Returns a boolean if the currently selected item is preceded by another\n   */\n\n\n  hasNextElement() {\n    return;\n  }\n  /**\n   * Returns the `HTMLElement` for the item that is subsequent to the selected item.\n   */\n\n\n  getNextElement() {\n    return;\n  }\n  /**\n   * Returns the `ListItem` that precedes the selected item within `DropdownList`.\n   */\n\n\n  getPrevItem() {\n    return;\n  }\n  /**\n   * Returns a boolean if the currently selected item is followed by another\n   */\n\n\n  hasPrevElement() {\n    return;\n  }\n  /**\n   * Returns the `HTMLElement` for the item that precedes the selected item.\n   */\n\n\n  getPrevElement() {\n    return;\n  }\n  /**\n   * Returns the selected leaf level item(s) within the `DropdownList`.\n   */\n\n\n  getSelected() {\n    return;\n  }\n  /**\n   * Returns the `ListItem` that is selected within `DropdownList`.\n   */\n\n\n  getCurrentItem() {\n    return;\n  }\n  /**\n   * Returns the `HTMLElement` for the item that is selected within the `DropdownList`.\n   */\n\n\n  getCurrentElement() {\n    return;\n  }\n  /**\n   * Guaranteed to return the current items as an Array.\n   */\n\n\n  getListItems() {\n    return;\n  }\n  /**\n   * Transforms array input list of items to the correct state by updating the selected item(s).\n   */\n\n\n  propagateSelected(value) {}\n  /**\n   *\n   * @param value value to filter the list by\n   */\n\n\n  filterBy(value) {}\n  /**\n   * Initializes focus in the list\n   * In most cases this just calls `getCurrentElement().focus()`\n   */\n\n\n  initFocus() {}\n  /**\n   * Subscribe the function passed to an internal observable that will resolve once the items are ready\n   */\n\n\n  onItemsReady(subcription) {}\n  /**\n   * Reorder selected items bringing them to the top of the list\n   */\n\n\n  reorderSelected(moveFocus) {}\n\n}\n\nAbstractDropdownView.ɵfac = function AbstractDropdownView_Factory(t) {\n  return new (t || AbstractDropdownView)();\n};\n\nAbstractDropdownView.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n  type: AbstractDropdownView,\n  selectors: [[\"\", \"ibmAbstractDropdownView\", \"\"]],\n  inputs: {\n    items: \"items\"\n  },\n  outputs: {\n    select: \"select\",\n    blurIntent: \"blurIntent\"\n  }\n});\nAbstractDropdownView.propDecorators = {\n  items: [{\n    type: Input\n  }],\n  select: [{\n    type: Output\n  }],\n  blurIntent: [{\n    type: Output\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AbstractDropdownView, [{\n    type: Directive,\n    args: [{\n      selector: \"[ibmAbstractDropdownView]\"\n    }]\n  }], function () {\n    return [];\n  }, {\n    items: [{\n      type: Input\n    }],\n    select: [{\n      type: Output\n    }],\n    blurIntent: [{\n      type: Output\n    }]\n  });\n})();\n\nconst defaultOffset = {\n  top: 0,\n  left: 0\n};\n\nclass DropdownService {\n  constructor(placeholderService, animationFrameService) {\n    this.placeholderService = placeholderService;\n    this.animationFrameService = animationFrameService;\n    /**\n     * Maintains an Event Observable Subscription for the global requestAnimationFrame.\n     * requestAnimationFrame is tracked only if the `Dropdown` is appended to the body otherwise we don't need it\n     */\n\n    this.animationFrameSubscription = new Subscription();\n    this._offset = defaultOffset;\n  }\n\n  set offset(value) {\n    this._offset = Object.assign({}, defaultOffset, value);\n  }\n\n  get offset() {\n    return this._offset;\n  }\n  /**\n   * Appends the menu to the body, or a `ibm-placeholder` (if defined)\n   *\n   * @param parentRef container to position relative to\n   * @param menuRef menu to be appended to body\n   * @param classList any extra classes we should wrap the container with\n   */\n\n\n  appendToBody(parentRef, menuRef, classList) {\n    // build the dropdown list container\n    menuRef.style.display = \"block\";\n    const dropdownWrapper = document.createElement(\"div\");\n    dropdownWrapper.className = `dropdown ${classList}`;\n    dropdownWrapper.style.width = parentRef.offsetWidth + \"px\";\n    dropdownWrapper.style.position = \"absolute\";\n    dropdownWrapper.appendChild(menuRef); // append it to the placeholder\n\n    if (this.placeholderService.hasPlaceholderRef()) {\n      this.placeholderService.appendElement(dropdownWrapper); // or append it directly to the body\n    } else {\n      document.body.appendChild(dropdownWrapper);\n    }\n\n    this.menuInstance = dropdownWrapper;\n    this.animationFrameSubscription = this.animationFrameService.tick.subscribe(() => {\n      this.positionDropdown(parentRef, dropdownWrapper);\n    }); // run one position in sync, so we're less likely to have the view \"jump\" as we focus\n\n    this.positionDropdown(parentRef, dropdownWrapper);\n    return dropdownWrapper;\n  }\n  /**\n   * Reattach the dropdown menu to the parent container\n   * @param hostRef container to append to\n   */\n\n\n  appendToDropdown(hostRef) {\n    // if the instance is already removed don't try and remove it again\n    if (!this.menuInstance) {\n      return;\n    }\n\n    const instance = this.menuInstance;\n    const menu = instance.firstElementChild; // clean up the instance\n\n    this.menuInstance = null;\n    menu.style.display = \"none\";\n    hostRef.appendChild(menu);\n    this.animationFrameSubscription.unsubscribe();\n\n    if (this.placeholderService.hasPlaceholderRef() && this.placeholderService.hasElement(instance)) {\n      this.placeholderService.removeElement(instance);\n    } else if (document.body.contains(instance)) {\n      document.body.removeChild(instance);\n    }\n\n    return instance;\n  }\n  /**\n   * position an open dropdown relative to the given parentRef\n   */\n\n\n  updatePosition(parentRef) {\n    this.positionDropdown(parentRef, this.menuInstance);\n  }\n\n  ngOnDestroy() {\n    this.animationFrameSubscription.unsubscribe();\n  }\n\n  positionDropdown(parentRef, menuRef) {\n    if (!menuRef) {\n      return;\n    }\n\n    let leftOffset = 0;\n    const boxMenu = menuRef.querySelector(\".bx--list-box__menu\");\n\n    if (boxMenu) {\n      // If the parentRef and boxMenu are in a different left position relative to the\n      // window, the the boxMenu position has already been flipped and a check needs to be done\n      // to see if it needs to stay flipped.\n      if (parentRef.getBoundingClientRect().left !== boxMenu.getBoundingClientRect().left) {\n        // The getBoundingClientRect().right of the boxMenu if it were hypothetically flipped\n        // back into the original position before the flip.\n        const testBoxMenuRightEdgePos = parentRef.getBoundingClientRect().left - boxMenu.getBoundingClientRect().left + boxMenu.getBoundingClientRect().right;\n\n        if (testBoxMenuRightEdgePos > (window.innerWidth || document.documentElement.clientWidth)) {\n          leftOffset = parentRef.offsetWidth - boxMenu.offsetWidth;\n        } // If it has not already been flipped, check if it is necessary to flip, ie. if the\n        // boxMenu is outside of the right viewPort.\n\n      } else if (boxMenu.getBoundingClientRect().right > (window.innerWidth || document.documentElement.clientWidth)) {\n        leftOffset = parentRef.offsetWidth - boxMenu.offsetWidth;\n      }\n    } // If ibm-placeholder has a parent with a position(relative|fixed|absolute) account for the parent offset\n\n\n    const closestMenuWithPos = closestAttr(\"position\", [\"relative\", \"fixed\", \"absolute\"], menuRef.parentElement);\n    const topPos = closestMenuWithPos ? closestMenuWithPos.getBoundingClientRect().top * -1 : this.offset.top;\n    const leftPos = closestMenuWithPos ? closestMenuWithPos.getBoundingClientRect().left * -1 : this.offset.left + leftOffset;\n    let pos = position.findAbsolute(parentRef, menuRef, \"bottom\");\n    pos = position.addOffset(pos, topPos, leftPos);\n    position.setElement(menuRef, pos);\n  }\n\n}\n\nDropdownService.ɵfac = function DropdownService_Factory(t) {\n  return new (t || DropdownService)(ɵngcc0.ɵɵinject(ɵngcc1.PlaceholderService), ɵngcc0.ɵɵinject(ɵngcc2.AnimationFrameService));\n};\n\nDropdownService.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n  token: DropdownService,\n  factory: DropdownService.ɵfac\n});\n/** @nocollapse */\n\nDropdownService.ctorParameters = () => [{\n  type: PlaceholderService\n}, {\n  type: AnimationFrameService\n}];\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DropdownService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: ɵngcc1.PlaceholderService\n    }, {\n      type: ɵngcc2.AnimationFrameService\n    }];\n  }, null);\n})();\n/**\n * Drop-down lists enable users to select one or more items from a list.\n *\n * #### Opening behavior/List DOM placement\n * By default the dropdown will try to figure out the best placement for the dropdown list.\n *\n * If it's not contained within any scrolling elements, it will open inline, if it _is_\n * contained within a scrolling container it will try to open in the body, or an `ibm-placeholder`.\n *\n * To control this behavior you can use the `appendInline` input:\n * - `[appendInline]=\"null\"` is the default (auto detection)\n * - `[appendInline]=\"false\"` will always append to the body/`ibm-placeholder`\n * - `[appendInline]=\"true\"` will always append inline (next to the dropdown button)\n *\n * [See demo](../../?path=/story/components-dropdown--basic)\n *\n * <example-url>../../iframe.html?id=components-dropdown--basic</example-url>\n */\n\n\nclass Dropdown {\n  /**\n   * Creates an instance of Dropdown.\n   */\n  constructor(elementRef, i18n, dropdownService, appRef, elementService) {\n    this.elementRef = elementRef;\n    this.i18n = i18n;\n    this.dropdownService = dropdownService;\n    this.appRef = appRef;\n    this.elementService = elementService;\n    this.id = `dropdown-${Dropdown.dropdownCount++}`;\n    /**\n     * Value displayed if no item is selected.\n     */\n\n    this.placeholder = \"\";\n    /**\n     * The selected value from the `Dropdown`. Can be a string or template.\n     */\n\n    this.displayValue = \"\";\n    /**\n     * Sets the optional clear button tooltip text.\n     */\n\n    this.clearText = this.i18n.get().DROPDOWN.CLEAR;\n    /**\n     * Size to render the dropdown field.\n     *\n     * @deprecated since v4\n     */\n\n    this.size = \"md\";\n    /**\n     * Defines whether or not the `Dropdown` supports selecting multiple items as opposed to single\n     * item selection.\n     */\n\n    this.type = \"single\";\n    /**\n     * `light` or `dark` dropdown theme\n     */\n\n    this.theme = \"dark\";\n    /**\n     * Set to `true` to disable the dropdown.\n     */\n\n    this.disabled = false;\n    /**\n     * Set to `true` for a loading dropdown.\n     */\n\n    this.skeleton = false;\n    /**\n     * Set to `true` for an inline dropdown.\n     */\n\n    this.inline = false;\n    /**\n     * Set to `true` for a dropdown without arrow key activation.\n     */\n\n    this.disableArrowKeys = false;\n    /**\n     * Set to `true` for invalid state.\n     */\n\n    this.invalid = false;\n    /**\n      * Set to `true` to show a warning (contents set by warningText)\n      */\n\n    this.warn = false;\n    /**\n     * set to `true` to place the dropdown view inline with the component\n     */\n\n    this.appendInline = null;\n    /**\n     * Specify feedback (mode) of the selection.\n     * `top`: selected item jumps to top\n     * `fixed`: selected item stays at it's position\n     * `top-after-reopen`: selected item jump to top after reopen dropdown\n     */\n\n    this.selectionFeedback = \"top-after-reopen\";\n    /**\n     * Accessible label for the button that opens the dropdown list.\n     * Defaults to the `DROPDOWN.OPEN` value from the i18n service.\n     */\n\n    this.menuButtonLabel = this.i18n.get().DROPDOWN.OPEN;\n    /**\n     * Provides the label for the \"# selected\" text.\n     * Defaults to the `DROPDOWN.SELECTED` value from the i18n service.\n     */\n\n    this.selectedLabel = this.i18n.get().DROPDOWN.SELECTED;\n    /**\n     * Emits selection events.\n     */\n\n    this.selected = new EventEmitter();\n    /**\n     * Emits event notifying to other classes that the `Dropdown` has been closed (collapsed).\n     */\n\n    this.onClose = new EventEmitter();\n    /**\n     * Emits event notifying to other classes that the `Dropdown` has been closed (collapsed).\n     */\n\n    this.close = new EventEmitter();\n    this.hostClass = true;\n    /**\n     * Set to `true` if the dropdown is closed (not expanded).\n     */\n\n    this.menuIsClosed = true;\n    /**\n     * controls whether the `drop-up` class is applied\n     */\n\n    this._dropUp = false; // .bind creates a new function, so we declare the methods below\n    // but .bind them up here\n\n    this.noop = this._noop.bind(this);\n    this.outsideClick = this._outsideClick.bind(this);\n    this.outsideKey = this._outsideKey.bind(this);\n    this.keyboardNav = this._keyboardNav.bind(this);\n    this.visibilitySubscription = new Subscription();\n    this.onTouchedCallback = this._noop; // primarily used to capture and propagate input to `writeValue` before the content is available\n\n    this._writtenValue = [];\n    /**\n     * function passed in by `registerOnChange`\n     */\n\n    this.propagateChange = _ => {};\n  }\n  /**\n   * Deprecated. Use `itemValueKey` instead.\n   * Specifies the property to be used as the return value to `ngModel`\n   * @deprecated since v4 use itemValueKey instead\n   */\n\n\n  set value(newValue) {\n    console.warn(\"Dropdown `value` property has been deprecated. Use `itemValueKey` instead\");\n    this.itemValueKey = newValue;\n  }\n\n  get value() {\n    return this.itemValueKey;\n  }\n\n  get writtenValue() {\n    return this._writtenValue;\n  }\n\n  set writtenValue(val) {\n    if (val && val.length === 0) {\n      this.clearSelected();\n    }\n\n    this._writtenValue = val;\n  }\n  /**\n   * Updates the `type` property in the `@ContentChild`.\n   * The `type` property specifies whether the `Dropdown` allows single selection or multi selection.\n   */\n\n\n  ngOnInit() {\n    if (this.view) {\n      this.view.type = this.type;\n    }\n  }\n  /**\n   * Initializes classes and subscribes to events for single or multi selection.\n   */\n\n\n  ngAfterContentInit() {\n    if (!this.view) {\n      return;\n    }\n\n    if (this.writtenValue && this.writtenValue.length || typeof this.writtenValue === \"number\") {\n      this.writeValue(this.writtenValue);\n    }\n\n    this.view.type = this.type;\n    this.view.size = this.size; // function to check if the event is organic (isUpdate === false) or programmatic\n\n    const isUpdate = event => event && event.isUpdate;\n\n    this.view.select.subscribe(event => {\n      if (this.type === \"single\" && !isUpdate(event)) {\n        this.closeMenu();\n\n        if (event.item && event.item.selected) {\n          if (this.itemValueKey) {\n            this.propagateChange(event.item[this.itemValueKey]);\n          } else {\n            this.propagateChange(event.item);\n          }\n        } else {\n          this.propagateChange(null);\n        }\n      }\n\n      if (this.type === \"multi\" && !isUpdate(event)) {\n        // if we have a `value` selector and selected items map them appropriately\n        if (this.itemValueKey && this.view.getSelected()) {\n          const values = this.view.getSelected().map(item => item[this.itemValueKey]);\n          this.propagateChange(values); // otherwise just pass up the values from `getSelected`\n        } else {\n          this.propagateChange(this.view.getSelected());\n        }\n      } // only emit selected for \"organic\" selections\n\n\n      if (!isUpdate(event)) {\n        this.checkForReorder();\n        this.selected.emit(event);\n      } // manually tick the app so the view picks up any changes\n\n\n      this.appRef.tick();\n    });\n  }\n\n  ngAfterViewInit() {\n    // if appendInline is default valued (null) we should:\n    // 1. if there are scrollable parents (not including body) don't append inline\n    //    this should also cover the case where the dropdown is in a modal\n    //    (where we _do_ want to append to the placeholder)\n    if (this.appendInline === null && hasScrollableParents(this.elementRef.nativeElement)) {\n      this.appendInline = false; // 2. otherwise we should append inline\n    } else if (this.appendInline === null) {\n      this.appendInline = true;\n    }\n\n    this.checkForReorder();\n  }\n  /**\n   * Removing the `Dropdown` from the body if it is appended to the body.\n   */\n\n\n  ngOnDestroy() {\n    if (!this.appendInline) {\n      this._appendToDropdown();\n    }\n  }\n  /**\n   * Propagates the injected `value`.\n   */\n\n\n  writeValue(value) {\n    // cache the written value so we can use it in `AfterContentInit`\n    this.writtenValue = value;\n    this.view.onItemsReady(() => {\n      // propagate null/falsey as an array (deselect everything)\n      if (!value) {\n        this.view.propagateSelected([value]);\n      } else if (this.type === \"single\") {\n        if (this.itemValueKey) {\n          // clone the specified item and update its state\n          const newValue = Object.assign({}, this.view.getListItems().find(item => item[this.itemValueKey] === value));\n          newValue.selected = true;\n          this.view.propagateSelected([newValue]);\n        } else {\n          // pass the singular value as an array of ListItem\n          this.view.propagateSelected([value]);\n        }\n      } else {\n        if (this.itemValueKey) {\n          // clone the items and update their state based on the received value array\n          // this way we don't lose any additional metadata that may be passed in via the `items` Input\n          let newValues = [];\n\n          for (const v of value) {\n            for (const item of this.view.getListItems()) {\n              if (item[this.itemValueKey] === v) {\n                newValues.push(Object.assign({}, item, {\n                  selected: true\n                }));\n              }\n            }\n          }\n\n          this.view.propagateSelected(newValues);\n        } else {\n          // we can safely assume we're passing an array of `ListItem`s\n          this.view.propagateSelected(value);\n        }\n      }\n\n      this.checkForReorder();\n    });\n  }\n\n  onBlur() {\n    this.onTouchedCallback();\n  }\n\n  registerOnChange(fn) {\n    this.propagateChange = fn;\n  }\n  /**\n   * Registering the function injected to control the touch use of the `Dropdown`.\n   */\n\n\n  registerOnTouched(fn) {\n    this.onTouchedCallback = fn;\n  }\n  /**\n   * `ControlValueAccessor` method to programmatically disable the dropdown.\n   *\n   * ex: `this.formGroup.get(\"myDropdown\").disable();`\n   *\n   * @param isDisabled `true` to disable the input\n   */\n\n\n  setDisabledState(isDisabled) {\n    this.disabled = isDisabled;\n  }\n  /**\n   * Adds keyboard functionality for navigation, selection and closing of the `Dropdown`.\n   */\n  // \"Esc\", \"Spacebar\", \"Down\", and \"Up\" are IE specific values\n\n\n  onKeyDown(event) {\n    if ((event.key === \"Escape\" || event.key === \"Esc\") && !this.menuIsClosed) {\n      event.stopImmediatePropagation(); // don't unintentionally close other widgets that listen for Escape\n    }\n\n    if (event.key === \"Escape\" || event.key === \"Esc\") {\n      event.preventDefault();\n      this.closeMenu();\n      this.dropdownButton.nativeElement.focus();\n    } else if (this.menuIsClosed && (event.key === \" \" || event.key === \"ArrowDown\" || event.key === \"ArrowUp\" || event.key === \"Spacebar\" || event.key === \"Down\" || event.key === \"Up\")) {\n      if (this.disableArrowKeys && (event.key === \"ArrowDown\" || event.key === \"ArrowUp\" || event.key === \"Down\" || event.key === \"Up\")) {\n        return;\n      }\n\n      event.preventDefault();\n      this.openMenu();\n    }\n\n    if (!this.menuIsClosed && event.key === \"Tab\" && this.dropdownMenu.nativeElement.contains(event.target)) {\n      this.closeMenu();\n    }\n\n    if (!this.menuIsClosed && event.key === \"Tab\" && event.shiftKey) {\n      this.closeMenu();\n    }\n\n    if (this.type === \"multi\") {\n      return;\n    }\n\n    if (this.menuIsClosed) {\n      this.closedDropdownNavigation(event);\n    }\n  }\n\n  closedDropdownNavigation(event) {\n    // \"Down\", and \"Up\" are IE specific values\n    if (event.key === \"ArrowDown\" || event.key === \"Down\") {\n      event.preventDefault();\n      this.view.getCurrentItem().selected = false;\n      let item = this.view.getNextItem();\n\n      if (item) {\n        item.selected = true;\n      }\n    } else if (event.key === \"ArrowUp\" || event.key === \"Up\") {\n      event.preventDefault();\n      this.view.getCurrentItem().selected = false;\n      let item = this.view.getPrevItem();\n\n      if (item) {\n        item.selected = true;\n      }\n    }\n  }\n  /**\n   * Returns the display value if there is a selection and displayValue is set,\n   * if there is just a selection the ListItem content property will be returned,\n   * otherwise the placeholder will be returned.\n   */\n\n\n  getDisplayStringValue() {\n    if (!this.view) {\n      return;\n    }\n\n    let selected = this.view.getSelected();\n\n    if (selected.length && (!this.displayValue || !this.isRenderString())) {\n      if (this.type === \"multi\") {\n        return of(this.placeholder);\n      } else {\n        return of(selected[0].content);\n      }\n    } else if (selected.length && this.isRenderString()) {\n      return of(this.displayValue);\n    }\n\n    return of(this.placeholder);\n  }\n\n  isRenderString() {\n    return typeof this.displayValue === \"string\";\n  }\n\n  getRenderTemplateContext() {\n    if (!this.view) {\n      return;\n    }\n\n    let selected = this.view.getSelected();\n\n    if (this.type === \"multi\") {\n      return {\n        items: selected\n      };\n    } else if (selected && selected.length > 0) {\n      return {\n        item: selected[0]\n      }; // this is to be compatible with the dropdown-list template\n    } else {\n      return {};\n    }\n  }\n\n  getSelectedCount() {\n    if (this.view.getSelected()) {\n      return this.view.getSelected().length;\n    }\n  }\n\n  clearSelected() {\n    if (this.disabled || this.getSelectedCount() === 0) {\n      return;\n    }\n\n    for (const item of this.view.getListItems()) {\n      item.selected = false;\n    }\n\n    this.selected.emit([]);\n    this.propagateChange([]);\n  }\n  /**\n   * Returns `true` if there is a value selected.\n   */\n\n\n  valueSelected() {\n    if (this.view.getSelected()) {\n      return true;\n    }\n\n    return false;\n  }\n\n  _noop() {}\n  /**\n   * Handles clicks outside of the `Dropdown`.\n   */\n\n\n  _outsideClick(event) {\n    if (!this.elementRef.nativeElement.contains(event.target) && // if we're appendToBody the list isn't within the _elementRef,\n    // so we've got to check if our target is possibly in there too.\n    !this.dropdownMenu.nativeElement.contains(event.target)) {\n      this.closeMenu();\n    }\n  }\n\n  _outsideKey(event) {\n    if (!this.menuIsClosed && event.key === \"Tab\" && this.dropdownMenu.nativeElement.contains(event.target)) {\n      this.closeMenu();\n    }\n  }\n  /**\n   * Handles keyboard events so users are controlling the `Dropdown` instead of unintentionally controlling outside elements.\n   */\n\n\n  _keyboardNav(event) {\n    // \"Esc\" is an IE specific value\n    if ((event.key === \"Escape\" || event.key === \"Esc\") && !this.menuIsClosed) {\n      event.stopImmediatePropagation(); // don't unintentionally close modal if inside of it\n    }\n\n    if (event.key === \"Escape\" || event.key === \"Esc\") {\n      event.preventDefault();\n      this.closeMenu();\n      this.dropdownButton.nativeElement.focus();\n    } else if (!this.menuIsClosed && event.key === \"Tab\") {\n      // this way focus will start on the next focusable item from the dropdown\n      // not the top of the body!\n      this.dropdownButton.nativeElement.focus();\n      this.dropdownButton.nativeElement.dispatchEvent(new KeyboardEvent(\"keydown\", {\n        bubbles: true,\n        cancelable: true,\n        key: \"Tab\"\n      }));\n      this.closeMenu();\n    }\n  }\n  /**\n   * Creates the `Dropdown` list appending it to the dropdown parent object instead of the body.\n   */\n\n\n  _appendToDropdown() {\n    this.dropdownService.appendToDropdown(this.elementRef.nativeElement);\n    this.dropdownMenu.nativeElement.removeEventListener(\"keydown\", this.keyboardNav, true);\n  }\n  /**\n   * Creates the `Dropdown` list as an element that is appended to the DOM body.\n   */\n\n\n  _appendToBody() {\n    const lightClass = this.theme === \"light\" ? \" bx--list-box--light\" : \"\";\n    const expandedClass = !this.menuIsClosed ? \" bx--list-box--expanded\" : \"\";\n    this.dropdownService.appendToBody(this.dropdownButton.nativeElement, this.dropdownMenu.nativeElement, `${this.elementRef.nativeElement.className}${lightClass}${expandedClass}`);\n    this.dropdownMenu.nativeElement.addEventListener(\"keydown\", this.keyboardNav, true);\n  }\n  /**\n   * Detects whether or not the `Dropdown` list is visible within all scrollable parents.\n   * This can be overridden by passing in a value to the `dropUp` input.\n   */\n\n\n  _shouldDropUp() {\n    // check if dropdownMenu exists first.\n    const menu = this.dropdownMenu && this.dropdownMenu.nativeElement.querySelector(\".bx--list-box__menu\"); // check if menu exists first.\n\n    const menuRect = menu && menu.getBoundingClientRect();\n\n    if (menu && menuRect) {\n      const scrollableParents = getScrollableParents(menu);\n      return scrollableParents.reduce((shouldDropUp, parent) => {\n        const parentRect = parent.getBoundingClientRect();\n        const isBelowParent = !(menuRect.bottom <= parentRect.bottom);\n        return shouldDropUp || isBelowParent;\n      }, false);\n    }\n\n    return false;\n  }\n  /**\n   * Expands the dropdown menu in the view.\n   */\n\n\n  openMenu() {\n    // prevents the dropdown from opening when list of items is empty\n    if (this.view.getListItems().length === 0) {\n      return;\n    }\n\n    this._dropUp = false;\n    this.menuIsClosed = false; // move the dropdown list to the body if we're not appending inline\n    // and position it relative to the dropdown wrapper\n\n    if (!this.appendInline) {\n      const target = this.dropdownButton.nativeElement;\n      const parent = this.elementRef.nativeElement;\n      this.visibilitySubscription = this.elementService.visibility(target, parent).subscribe(value => {\n        if (!value.visible) {\n          this.closeMenu();\n        }\n      });\n\n      this._appendToBody();\n    } // set the dropdown menu to drop up if it's near the bottom of the screen\n    // setTimeout lets us measure after it's visible in the DOM\n\n\n    setTimeout(() => {\n      if (this.dropUp === null || this.dropUp === undefined) {\n        this._dropUp = this._shouldDropUp();\n      }\n    }, 0); // we bind noop to document.body.firstElementChild to allow safari to fire events\n    // from document. Then we unbind everything later to keep things light.\n\n    document.body.firstElementChild.addEventListener(\"click\", this.noop, true);\n    document.body.firstElementChild.addEventListener(\"keydown\", this.noop, true);\n    document.addEventListener(\"click\", this.outsideClick, true);\n    document.addEventListener(\"keydown\", this.outsideKey, true);\n    setTimeout(() => this.view.initFocus(), 0);\n  }\n  /**\n   * Collapsing the dropdown menu and removing unnecessary `EventListeners`.\n   */\n\n\n  closeMenu() {\n    // return early if the menu is already closed\n    if (this.menuIsClosed) {\n      return;\n    }\n\n    this.menuIsClosed = true;\n    this.checkForReorder();\n    this.onClose.emit();\n    this.close.emit(); // focus the trigger button when we close ...\n\n    this.dropdownButton.nativeElement.focus(); // remove the conditional once this api is settled and part of abstract-dropdown-view.class\n\n    if (this.view[\"disableScroll\"]) {\n      this.view[\"disableScroll\"]();\n    } // move the list back in the component on close\n\n\n    if (!this.appendInline) {\n      this.visibilitySubscription.unsubscribe();\n\n      this._appendToDropdown();\n    }\n\n    document.body.firstElementChild.removeEventListener(\"click\", this.noop, true);\n    document.body.firstElementChild.removeEventListener(\"keydown\", this.noop, true);\n    document.removeEventListener(\"click\", this.outsideClick, true);\n    document.removeEventListener(\"keydown\", this.outsideKey, true);\n  }\n  /**\n   * Controls toggling menu states between open/expanded and closed/collapsed.\n   */\n\n\n  toggleMenu() {\n    if (this.menuIsClosed) {\n      this.openMenu();\n    } else {\n      this.closeMenu();\n    }\n  }\n\n  isTemplate(value) {\n    return value instanceof TemplateRef;\n  }\n  /**\n   * Controls when it's needed to apply the selection feedback\n   */\n\n\n  checkForReorder() {\n    const topAfterReopen = this.menuIsClosed && this.selectionFeedback === \"top-after-reopen\";\n\n    if (this.type === \"multi\" && (topAfterReopen || this.selectionFeedback === \"top\")) {\n      this.view.reorderSelected();\n    }\n  }\n\n}\n\nDropdown.ɵfac = function Dropdown_Factory(t) {\n  return new (t || Dropdown)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.I18n), ɵngcc0.ɵɵdirectiveInject(DropdownService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ApplicationRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.ElementService));\n};\n\nDropdown.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: Dropdown,\n  selectors: [[\"ibm-dropdown\"]],\n  contentQueries: function Dropdown_ContentQueries(rf, ctx, dirIndex) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵcontentQuery(dirIndex, AbstractDropdownView, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.view = _t.first);\n    }\n  },\n  viewQuery: function Dropdown_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(_c0, 7);\n      ɵngcc0.ɵɵviewQuery(_c1, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.dropdownButton = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.dropdownMenu = _t.first);\n    }\n  },\n  hostVars: 2,\n  hostBindings: function Dropdown_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"keydown\", function Dropdown_keydown_HostBindingHandler($event) {\n        return ctx.onKeyDown($event);\n      });\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵclassProp(\"bx--dropdown__wrapper\", ctx.hostClass);\n    }\n  },\n  inputs: {\n    id: \"id\",\n    placeholder: \"placeholder\",\n    displayValue: \"displayValue\",\n    clearText: \"clearText\",\n    size: \"size\",\n    type: \"type\",\n    theme: \"theme\",\n    disabled: \"disabled\",\n    skeleton: \"skeleton\",\n    inline: \"inline\",\n    disableArrowKeys: \"disableArrowKeys\",\n    invalid: \"invalid\",\n    warn: \"warn\",\n    appendInline: \"appendInline\",\n    selectionFeedback: \"selectionFeedback\",\n    menuButtonLabel: \"menuButtonLabel\",\n    selectedLabel: \"selectedLabel\",\n    value: \"value\",\n    itemValueKey: \"itemValueKey\",\n    label: \"label\",\n    helperText: \"helperText\",\n    invalidText: \"invalidText\",\n    warnText: \"warnText\",\n    scrollableContainer: \"scrollableContainer\",\n    dropUp: \"dropUp\"\n  },\n  outputs: {\n    selected: \"selected\",\n    onClose: \"onClose\",\n    close: \"close\"\n  },\n  features: [ɵngcc0.ɵɵProvidersFeature([{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: Dropdown,\n    multi: true\n  }])],\n  ngContentSelectors: _c8,\n  decls: 17,\n  vars: 36,\n  consts: [[\"class\", \"bx--label\", 3, \"for\", \"ngClass\", 4, \"ngIf\"], [1, \"bx--list-box\", 3, \"ngClass\"], [\"type\", \"button\", \"aria-haspopup\", \"listbox\", 1, \"bx--list-box__field\", 3, \"id\", \"ngClass\", \"click\", \"blur\"], [\"dropdownButton\", \"\"], [\"class\", \"bx--list-box__selection bx--tag--filter bx--list-box__selection--multi\", \"tabindex\", \"0\", 3, \"title\", \"click\", \"keydown.enter\", 4, \"ngIf\"], [\"class\", \"bx--list-box__label\", 4, \"ngIf\"], [4, \"ngIf\"], [\"class\", \"bx--dropdown__invalid-icon\", \"ibmIcon\", \"warning--filled\", \"size\", \"16\", 4, \"ngIf\"], [\"ibmIcon\", \"warning--alt--filled\", \"size\", \"16\", \"class\", \"bx--list-box__invalid-icon bx--list-box__invalid-icon--warning\", 4, \"ngIf\"], [1, \"bx--list-box__menu-icon\"], [\"ibmIcon\", \"chevron--down\", \"size\", \"16\", 3, \"ngClass\", 4, \"ngIf\"], [3, \"ngClass\"], [\"dropdownMenu\", \"\"], [\"class\", \"bx--form__helper-text\", 3, \"ngClass\", 4, \"ngIf\"], [\"class\", \"bx--form-requirement\", 4, \"ngIf\"], [1, \"bx--label\", 3, \"for\", \"ngClass\"], [3, \"ngTemplateOutlet\"], [\"tabindex\", \"0\", 1, \"bx--list-box__selection\", \"bx--tag--filter\", \"bx--list-box__selection--multi\", 3, \"title\", \"click\", \"keydown.enter\"], [\"focusable\", \"false\", \"preserveAspectRatio\", \"xMidYMid meet\", \"role\", \"img\", \"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"viewBox\", \"0 0 16 16\", \"aria-hidden\", \"true\", 2, \"will-change\", \"transform\"], [\"d\", \"M12 4.7l-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z\"], [1, \"bx--list-box__label\"], [3, \"ngTemplateOutletContext\", \"ngTemplateOutlet\"], [\"ibmIcon\", \"warning--filled\", \"size\", \"16\", 1, \"bx--dropdown__invalid-icon\"], [\"ibmIcon\", \"warning--alt--filled\", \"size\", \"16\", 1, \"bx--list-box__invalid-icon\", \"bx--list-box__invalid-icon--warning\"], [\"ibmIcon\", \"chevron--down\", \"size\", \"16\", 3, \"ngClass\"], [1, \"bx--form__helper-text\", 3, \"ngClass\"], [1, \"bx--form-requirement\"]],\n  template: function Dropdown_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵtemplate(0, Dropdown_label_0_Template, 3, 6, \"label\", 0);\n      ɵngcc0.ɵɵelementStart(1, \"div\", 1)(2, \"button\", 2, 3);\n      ɵngcc0.ɵɵlistener(\"click\", function Dropdown_Template_button_click_2_listener($event) {\n        return ctx.disabled ? $event.stopPropagation() : ctx.toggleMenu();\n      })(\"blur\", function Dropdown_Template_button_blur_2_listener() {\n        return ctx.onBlur();\n      });\n      ɵngcc0.ɵɵtemplate(4, Dropdown_div_4_Template, 4, 2, \"div\", 4);\n      ɵngcc0.ɵɵtemplate(5, Dropdown_span_5_Template, 3, 3, \"span\", 5);\n      ɵngcc0.ɵɵtemplate(6, Dropdown_6_Template, 1, 2, null, 6);\n      ɵngcc0.ɵɵtemplate(7, Dropdown__svg_svg_7_Template, 1, 0, \"svg\", 7);\n      ɵngcc0.ɵɵtemplate(8, Dropdown__svg_svg_8_Template, 1, 0, \"svg\", 8);\n      ɵngcc0.ɵɵelementStart(9, \"span\", 9);\n      ɵngcc0.ɵɵtemplate(10, Dropdown__svg_svg_10_Template, 1, 4, \"svg\", 10);\n      ɵngcc0.ɵɵelementEnd()();\n      ɵngcc0.ɵɵelementStart(11, \"div\", 11, 12);\n      ɵngcc0.ɵɵtemplate(13, Dropdown_ng_content_13_Template, 1, 0, \"ng-content\", 6);\n      ɵngcc0.ɵɵelementEnd()();\n      ɵngcc0.ɵɵtemplate(14, Dropdown_div_14_Template, 3, 5, \"div\", 13);\n      ɵngcc0.ɵɵtemplate(15, Dropdown_div_15_Template, 3, 2, \"div\", 14);\n      ɵngcc0.ɵɵtemplate(16, Dropdown_div_16_Template, 3, 2, \"div\", 14);\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.label);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunctionV(18, _c5, [ctx.type !== \"multi\", ctx.type === \"multi\", ctx.type === \"multi\" && ctx.getSelectedCount() > 0, ctx.theme === \"light\", ctx.theme === \"light\", ctx.inline, ctx.skeleton, ctx.disabled, ctx.invalid, ctx.warn, ctx.size === \"xl\", ctx.size === \"sm\", !ctx.menuIsClosed]));\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"id\", ctx.id)(\"ngClass\", ɵngcc0.ɵɵpureFunction1(32, _c6, !ctx.menuIsClosed));\n      ɵngcc0.ɵɵattribute(\"aria-expanded\", !ctx.menuIsClosed)(\"aria-disabled\", ctx.disabled)(\"disabled\", ctx.disabled ? true : null);\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.type === \"multi\" && ctx.getSelectedCount() > 0);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.isRenderString());\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.isRenderString());\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.warn && ctx.invalid);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.invalid && ctx.warn);\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.skeleton);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(34, _c7, ctx.dropUp !== null && ctx.dropUp !== undefined ? ctx.dropUp : ctx._dropUp));\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.menuIsClosed);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.helperText && !ctx.invalid && !ctx.warn);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.warn && ctx.invalid);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.invalid && ctx.warn);\n    }\n  },\n  dependencies: [ɵngcc4.NgClass, ɵngcc4.NgIf, ɵngcc4.NgTemplateOutlet, ɵngcc5.IconDirective, ɵngcc4.AsyncPipe],\n  encapsulation: 2\n});\nDropdown.dropdownCount = 0;\n/** @nocollapse */\n\nDropdown.ctorParameters = () => [{\n  type: ElementRef\n}, {\n  type: I18n\n}, {\n  type: DropdownService\n}, {\n  type: ApplicationRef\n}, {\n  type: ElementService\n}];\n\nDropdown.propDecorators = {\n  id: [{\n    type: Input\n  }],\n  label: [{\n    type: Input\n  }],\n  helperText: [{\n    type: Input\n  }],\n  placeholder: [{\n    type: Input\n  }],\n  displayValue: [{\n    type: Input\n  }],\n  clearText: [{\n    type: Input\n  }],\n  size: [{\n    type: Input\n  }],\n  type: [{\n    type: Input\n  }],\n  theme: [{\n    type: Input\n  }],\n  disabled: [{\n    type: Input\n  }],\n  skeleton: [{\n    type: Input\n  }],\n  inline: [{\n    type: Input\n  }],\n  disableArrowKeys: [{\n    type: Input\n  }],\n  invalid: [{\n    type: Input\n  }],\n  invalidText: [{\n    type: Input\n  }],\n  warn: [{\n    type: Input\n  }],\n  warnText: [{\n    type: Input\n  }],\n  appendInline: [{\n    type: Input\n  }],\n  scrollableContainer: [{\n    type: Input\n  }],\n  value: [{\n    type: Input\n  }],\n  itemValueKey: [{\n    type: Input\n  }],\n  selectionFeedback: [{\n    type: Input\n  }],\n  menuButtonLabel: [{\n    type: Input\n  }],\n  selectedLabel: [{\n    type: Input\n  }],\n  dropUp: [{\n    type: Input\n  }],\n  selected: [{\n    type: Output\n  }],\n  onClose: [{\n    type: Output\n  }],\n  close: [{\n    type: Output\n  }],\n  view: [{\n    type: ContentChild,\n    args: [AbstractDropdownView, {\n      static: true\n    }]\n  }],\n  dropdownButton: [{\n    type: ViewChild,\n    args: [\"dropdownButton\", {\n      static: true\n    }]\n  }],\n  dropdownMenu: [{\n    type: ViewChild,\n    args: [\"dropdownMenu\", {\n      static: true\n    }]\n  }],\n  hostClass: [{\n    type: HostBinding,\n    args: [\"class.bx--dropdown__wrapper\"]\n  }],\n  onKeyDown: [{\n    type: HostListener,\n    args: [\"keydown\", [\"$event\"]]\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(Dropdown, [{\n    type: Component,\n    args: [{\n      selector: \"ibm-dropdown\",\n      template: `\n\t<label\n\t\t*ngIf=\"label\"\n\t\t[for]=\"id\"\n\t\tclass=\"bx--label\"\n\t\t[ngClass]=\"{'bx--label--disabled': disabled}\">\n\t\t<ng-container *ngIf=\"!isTemplate(label)\">{{label}}</ng-container>\n\t\t<ng-template *ngIf=\"isTemplate(label)\" [ngTemplateOutlet]=\"label\"></ng-template>\n\t</label>\n\t<div\n\t\tclass=\"bx--list-box\"\n\t\t[ngClass]=\"{\n\t\t\t'bx--dropdown': type !== 'multi',\n\t\t\t'bx--multiselect': type === 'multi',\n\t\t\t'bx--multi-select--selected': type === 'multi' && getSelectedCount() > 0,\n\t\t\t'bx--dropdown--light': theme === 'light',\n\t\t\t'bx--list-box--light': theme === 'light',\n\t\t\t'bx--list-box--inline': inline,\n\t\t\t'bx--skeleton': skeleton,\n\t\t\t'bx--dropdown--disabled bx--list-box--disabled': disabled,\n\t\t\t'bx--dropdown--invalid': invalid,\n\t\t\t'bx--dropdown--warning bx--list-box--warning': warn,\n\t\t\t'bx--dropdown--xl bx--list-box--xl': size === 'xl',\n\t\t\t'bx--dropdown--sm bx--list-box--sm': size === 'sm',\n\t\t\t'bx--list-box--expanded': !menuIsClosed\n\t\t}\">\n\t\t<button\n\t\t\t#dropdownButton\n\t\t\t[id]=\"id\"\n\t\t\ttype=\"button\"\n\t\t\tclass=\"bx--list-box__field\"\n\t\t\t[ngClass]=\"{'a': !menuIsClosed}\"\n\t\t\t[attr.aria-expanded]=\"!menuIsClosed\"\n\t\t\t[attr.aria-disabled]=\"disabled\"\n\t\t\taria-haspopup=\"listbox\"\n\t\t\t(click)=\"disabled ? $event.stopPropagation() : toggleMenu()\"\n\t\t\t(blur)=\"onBlur()\"\n\t\t\t[attr.disabled]=\"disabled ? true : null\">\n\t\t\t<div\n\t\t\t\t(click)=\"clearSelected()\"\n\t\t\t\t(keydown.enter)=\"clearSelected()\"\n\t\t\t\t*ngIf=\"type === 'multi' && getSelectedCount() > 0\"\n\t\t\t\tclass=\"bx--list-box__selection bx--tag--filter bx--list-box__selection--multi\"\n\t\t\t\ttabindex=\"0\"\n\t\t\t\t[title]=\"clearText\">\n\t\t\t\t{{getSelectedCount()}}\n\t\t\t\t<svg\n\t\t\t\t\tfocusable=\"false\"\n\t\t\t\t\tpreserveAspectRatio=\"xMidYMid meet\"\n\t\t\t\t\tstyle=\"will-change: transform;\"\n\t\t\t\t\trole=\"img\"\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\twidth=\"16\"\n\t\t\t\t\theight=\"16\"\n\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\taria-hidden=\"true\">\n\t\t\t\t\t<path d=\"M12 4.7l-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z\"></path>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t\t<span *ngIf=\"isRenderString()\" class=\"bx--list-box__label\">{{getDisplayStringValue() | async}}</span>\n\t\t\t<ng-template\n\t\t\t\t*ngIf=\"!isRenderString()\"\n\t\t\t\t[ngTemplateOutletContext]=\"getRenderTemplateContext()\"\n\t\t\t\t[ngTemplateOutlet]=\"displayValue\">\n\t\t\t</ng-template>\n\t\t\t<svg\n\t\t\t\t*ngIf=\"!warn && invalid\"\n\t\t\t\tclass=\"bx--dropdown__invalid-icon\"\n\t\t\t\tibmIcon=\"warning--filled\"\n\t\t\t\tsize=\"16\">\n\t\t\t</svg>\n\t\t\t<svg\n\t\t\t\t*ngIf=\"!invalid && warn\"\n\t\t\t\tibmIcon=\"warning--alt--filled\"\n\t\t\t\tsize=\"16\"\n\t\t\t\tclass=\"bx--list-box__invalid-icon bx--list-box__invalid-icon--warning\">\n\t\t\t</svg>\n\t\t\t<span class=\"bx--list-box__menu-icon\">\n\t\t\t\t<svg\n\t\t\t\t\t*ngIf=\"!skeleton\"\n\t\t\t\t\tibmIcon=\"chevron--down\"\n\t\t\t\t\tsize=\"16\"\n\t\t\t\t\t[attr.aria-label]=\"menuButtonLabel\"\n\t\t\t\t\t[ngClass]=\"{'bx--list-box__menu-icon--open': !menuIsClosed }\">\n\t\t\t\t</svg>\n\t\t\t</span>\n\t\t</button>\n\t\t<div\n\t\t\t#dropdownMenu\n\t\t\t[ngClass]=\"{\n\t\t\t\t'bx--list-box--up': this.dropUp !== null && this.dropUp !== undefined ? dropUp : _dropUp\n\t\t\t}\">\n\t\t\t<ng-content *ngIf=\"!menuIsClosed\"></ng-content>\n\t\t</div>\n\t</div>\n\t<div\n\t\t*ngIf=\"helperText && !invalid && !warn\"\n\t\tclass=\"bx--form__helper-text\"\n\t\t[ngClass]=\"{'bx--form__helper-text--disabled': disabled}\">\n\t\t<ng-container *ngIf=\"!isTemplate(helperText)\">{{helperText}}</ng-container>\n\t\t<ng-template *ngIf=\"isTemplate(helperText)\" [ngTemplateOutlet]=\"helperText\"></ng-template>\n\t</div>\n\t<div *ngIf=\"!warn && invalid\" class=\"bx--form-requirement\">\n\t\t<ng-container *ngIf=\"!isTemplate(invalidText)\">{{ invalidText }}</ng-container>\n\t\t<ng-template *ngIf=\"isTemplate(invalidText)\" [ngTemplateOutlet]=\"invalidText\"></ng-template>\n\t</div>\n\t<div *ngIf=\"!invalid && warn\" class=\"bx--form-requirement\">\n\t\t<ng-container *ngIf=\"!isTemplate(warnText)\">{{warnText}}</ng-container>\n\t\t<ng-template *ngIf=\"isTemplate(warnText)\" [ngTemplateOutlet]=\"warnText\"></ng-template>\n\t</div>\n\t`,\n      providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: Dropdown,\n        multi: true\n      }]\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc3.I18n\n    }, {\n      type: DropdownService\n    }, {\n      type: ɵngcc0.ApplicationRef\n    }, {\n      type: ɵngcc2.ElementService\n    }];\n  }, {\n    id: [{\n      type: Input\n    }],\n    placeholder: [{\n      type: Input\n    }],\n    displayValue: [{\n      type: Input\n    }],\n    clearText: [{\n      type: Input\n    }],\n    size: [{\n      type: Input\n    }],\n    type: [{\n      type: Input\n    }],\n    theme: [{\n      type: Input\n    }],\n    disabled: [{\n      type: Input\n    }],\n    skeleton: [{\n      type: Input\n    }],\n    inline: [{\n      type: Input\n    }],\n    disableArrowKeys: [{\n      type: Input\n    }],\n    invalid: [{\n      type: Input\n    }],\n    warn: [{\n      type: Input\n    }],\n    appendInline: [{\n      type: Input\n    }],\n    selectionFeedback: [{\n      type: Input\n    }],\n    menuButtonLabel: [{\n      type: Input\n    }],\n    selectedLabel: [{\n      type: Input\n    }],\n    selected: [{\n      type: Output\n    }],\n    onClose: [{\n      type: Output\n    }],\n    close: [{\n      type: Output\n    }],\n    hostClass: [{\n      type: HostBinding,\n      args: [\"class.bx--dropdown__wrapper\"]\n    }],\n    value: [{\n      type: Input\n    }],\n    itemValueKey: [{\n      type: Input\n    }],\n\n    /**\n     * Adds keyboard functionality for navigation, selection and closing of the `Dropdown`.\n     */\n    // \"Esc\", \"Spacebar\", \"Down\", and \"Up\" are IE specific values\n    onKeyDown: [{\n      type: HostListener,\n      args: [\"keydown\", [\"$event\"]]\n    }],\n    label: [{\n      type: Input\n    }],\n    helperText: [{\n      type: Input\n    }],\n    invalidText: [{\n      type: Input\n    }],\n    warnText: [{\n      type: Input\n    }],\n    scrollableContainer: [{\n      type: Input\n    }],\n    dropUp: [{\n      type: Input\n    }],\n    view: [{\n      type: ContentChild,\n      args: [AbstractDropdownView, {\n        static: true\n      }]\n    }],\n    dropdownButton: [{\n      type: ViewChild,\n      args: [\"dropdownButton\", {\n        static: true\n      }]\n    }],\n    dropdownMenu: [{\n      type: ViewChild,\n      args: [\"dropdownMenu\", {\n        static: true\n      }]\n    }]\n  });\n})();\n/**\n * returns an observable bound to keydown events that\n * filters to a single element where the first letter of\n * it's textContent matches the key pressed\n *\n * @param target element to watch\n * @param elements elements to search\n */\n\n\nfunction watchFocusJump(target, elements) {\n  return fromEvent(target, \"keydown\").pipe(debounceTime(150), map(ev => {\n    let el = elements.find(itemEl => itemEl.textContent.trim().toLowerCase().startsWith(ev.key));\n\n    if (el) {\n      return el;\n    }\n  }), filter(el => !!el));\n}\n/**\n * ```html\n * <ibm-dropdown-list [items]=\"listItems\"></ibm-dropdown-list>\n * ```\n * ```typescript\n * listItems = [\n * \t{\n * \t\tcontent: \"item one\",\n * \t\tselected: false\n * \t},\n * \t{\n * \t\tcontent: \"item two\",\n * \t\tselected: false,\n * \t},\n * \t{\n * \t\tcontent: \"item three\",\n * \t\tselected: false\n * \t},\n * \t{\n * \t\tcontent: \"item four\",\n * \t\tselected: false\n * \t}\n * ];\n * ```\n */\n\n\nclass DropdownList {\n  /**\n   * Creates an instance of `DropdownList`.\n   */\n  constructor(elementRef, i18n) {\n    this.elementRef = elementRef;\n    this.i18n = i18n;\n    this.ariaLabel = this.i18n.get().DROPDOWN_LIST.LABEL;\n    /**\n     * Template to bind to items in the `DropdownList` (optional).\n     */\n\n    this.listTpl = null;\n    /**\n     * Event to emit selection of a list item within the `DropdownList`.\n     */\n\n    this.select = new EventEmitter();\n    /**\n     * Event to emit scroll event of a list within the `DropdownList`.\n     */\n\n    this.scroll = new EventEmitter();\n    /**\n     * Event to suggest a blur on the view.\n     * Emits _after_ the first/last item has been focused.\n     * ex.\n     * ArrowUp -> focus first item\n     * ArrowUp -> emit event\n     *\n     * When this event fires focus should be placed on some element outside of the list - blurring the list as a result\n     */\n\n    this.blurIntent = new EventEmitter();\n    /**\n     * Defines whether or not the `DropdownList` supports selecting multiple items as opposed to single\n     * item selection.\n     */\n\n    this.type = \"single\";\n    /**\n     * Defines whether to show title attribute or not\n     */\n\n    this.showTitles = true;\n    /**\n     * Defines the rendering size of the `DropdownList` input component.\n     *\n     * @deprecated since v4\n     */\n\n    this.size = \"md\";\n    this.listId = `listbox-${DropdownList.listCount++}`;\n    this.highlightedItem = null;\n    /**\n     * Holds the list of items that will be displayed in the `DropdownList`.\n     * It differs from the the complete set of items when filtering is used (but\n     * it is always a subset of the total items in `DropdownList`).\n     */\n\n    this.displayItems = [];\n    /**\n     * Maintains the index for the selected item within the `DropdownList`.\n     */\n\n    this.index = -1;\n    /**\n     * Useful representation of the items, should be accessed via `getListItems`.\n     */\n\n    this._items = [];\n  }\n  /**\n   * The list items belonging to the `DropdownList`.\n   */\n\n\n  set items(value) {\n    if (isObservable(value)) {\n      if (this._itemsSubscription) {\n        this._itemsSubscription.unsubscribe();\n      }\n\n      this._itemsReady = new Observable(observer => {\n        this._itemsSubscription = value.subscribe(v => {\n          this.updateList(v);\n          observer.next(true);\n          observer.complete();\n        });\n      });\n      this.onItemsReady(null);\n    } else {\n      this.updateList(value);\n    }\n\n    this._originalItems = value;\n  }\n\n  get items() {\n    return this._originalItems;\n  }\n  /**\n   * Retrieves array of list items and index of the selected item after view has rendered.\n   * Additionally, any Observables for the `DropdownList` are initialized.\n   */\n\n\n  ngAfterViewInit() {\n    this.index = this.getListItems().findIndex(item => item.selected);\n    this.setupFocusObservable();\n    setTimeout(() => {\n      this.doEmitSelect(true);\n    });\n  }\n  /**\n   * Removes any Observables on destruction of the component.\n   */\n\n\n  ngOnDestroy() {\n    if (this.focusJump) {\n      this.focusJump.unsubscribe();\n    }\n\n    if (this._itemsSubscription) {\n      this._itemsSubscription.unsubscribe();\n    }\n  }\n\n  doEmitSelect(isUpdate = true) {\n    if (this.type === \"single\") {\n      this.select.emit({\n        item: this._items.find(item => item.selected),\n        isUpdate: isUpdate\n      });\n    } else {\n      // abuse javascripts object mutability until we can break the API and switch to\n      // { items: [], isUpdate: true }\n      const selected = this.getSelected() || [];\n      selected[\"isUpdate\"] = isUpdate;\n      this.select.emit(selected);\n    }\n  }\n\n  getItemId(index) {\n    return `${this.listId}-${index}`;\n  }\n  /**\n   * Updates the displayed list of items and then retrieves the most current properties for the `DropdownList` from the DOM.\n   */\n\n\n  updateList(items) {\n    this._items = items.map(item => Object.assign({}, item));\n    this.displayItems = this._items;\n    this.updateIndex();\n    this.setupFocusObservable();\n    setTimeout(() => {\n      if (this.getSelected() !== []) {\n        return;\n      }\n\n      this.doEmitSelect();\n    });\n  }\n  /**\n   * Filters the items being displayed in the DOM list.\n   */\n\n\n  filterBy(query = \"\") {\n    if (query) {\n      this.displayItems = this.getListItems().filter(item => item.content.toLowerCase().includes(query.toLowerCase()));\n    } else {\n      this.displayItems = this.getListItems();\n    }\n\n    this.updateIndex();\n  }\n  /**\n   * Initializes (or re-initializes) the Observable that handles switching focus to an element based on\n   * key input matching the first letter of the item in the list.\n   */\n\n\n  setupFocusObservable() {\n    if (!this.list) {\n      return;\n    }\n\n    if (this.focusJump) {\n      this.focusJump.unsubscribe();\n    }\n\n    let elList = Array.from(this.list.nativeElement.querySelectorAll(\"li\"));\n    this.focusJump = watchFocusJump(this.list.nativeElement, elList).subscribe(el => {\n      el.focus();\n    });\n  }\n  /**\n   * Returns the `ListItem` that is subsequent to the selected item in the `DropdownList`.\n   */\n\n\n  getNextItem() {\n    if (this.index < this.displayItems.length - 1) {\n      this.index++;\n    }\n\n    return this.displayItems[this.index];\n  }\n  /**\n   * Returns `true` if the selected item is not the last item in the `DropdownList`.\n   */\n\n\n  hasNextElement() {\n    return this.index < this.displayItems.length - 1 && (!(this.index === this.displayItems.length - 2) || !this.displayItems[this.index + 1].disabled);\n  }\n  /**\n   * Returns the `HTMLElement` for the item that is subsequent to the selected item.\n   */\n\n\n  getNextElement() {\n    if (this.index < this.displayItems.length - 1) {\n      this.index++;\n    }\n\n    let item = this.displayItems[this.index];\n\n    if (item.disabled) {\n      return this.getNextElement();\n    }\n\n    let elemList = this.listElementList ? this.listElementList.toArray() : []; // TODO: update to optional chaining after upgrading typescript\n    // to v3.7+\n\n    if (elemList[this.index] && elemList[this.index].nativeElement) {\n      return elemList[this.index].nativeElement;\n    } else {\n      return null;\n    }\n  }\n  /**\n   * Returns the `ListItem` that precedes the selected item within `DropdownList`.\n   */\n\n\n  getPrevItem() {\n    if (this.index > 0) {\n      this.index--;\n    }\n\n    return this.displayItems[this.index];\n  }\n  /**\n   * Returns `true` if the selected item is not the first in the list.\n   */\n\n\n  hasPrevElement() {\n    return this.index > 0 && (!(this.index === 1) || !this.displayItems[0].disabled);\n  }\n  /**\n   * Returns the `HTMLElement` for the item that precedes the selected item.\n   */\n\n\n  getPrevElement() {\n    if (this.index > 0) {\n      this.index--;\n    }\n\n    let item = this.displayItems[this.index];\n\n    if (item.disabled) {\n      return this.getPrevElement();\n    }\n\n    let elemList = this.listElementList ? this.listElementList.toArray() : []; // TODO: update to optional chaining after upgrading typescript\n    // to v3.7+\n\n    if (elemList[this.index] && elemList[this.index].nativeElement) {\n      return elemList[this.index].nativeElement;\n    } else {\n      return null;\n    }\n  }\n  /**\n   * Returns the `ListItem` that is selected within `DropdownList`.\n   */\n\n\n  getCurrentItem() {\n    if (this.index < 0) {\n      return this.displayItems[0];\n    }\n\n    return this.displayItems[this.index];\n  }\n  /**\n   * Returns the `HTMLElement` for the item that is selected within the `DropdownList`.\n   */\n\n\n  getCurrentElement() {\n    if (this.index < 0) {\n      return this.listElementList.first.nativeElement;\n    }\n\n    return this.listElementList.toArray()[this.index].nativeElement;\n  }\n  /**\n   * Returns the items as an Array\n   */\n\n\n  getListItems() {\n    return this._items;\n  }\n  /**\n   * Returns a list containing the selected item(s) in the `DropdownList`.\n   */\n\n\n  getSelected() {\n    let selected = this.getListItems().filter(item => item.selected);\n\n    if (selected.length === 0) {\n      return [];\n    }\n\n    return selected;\n  }\n  /**\n   * Transforms array input list of items to the correct state by updating the selected item(s).\n   */\n\n\n  propagateSelected(value) {\n    // if we get a non-array, log out an error (since it is one)\n    if (!Array.isArray(value)) {\n      console.error(`${this.constructor.name}.propagateSelected expects an Array<ListItem>, got ${JSON.stringify(value)}`);\n    }\n\n    this.onItemsReady(() => {\n      // loop through the list items and update the `selected` state for matching items in `value`\n      for (let oldItem of this.getListItems()) {\n        // copy the item\n        let tempOldItem = Object.assign({}, oldItem); // deleted selected because it's what we _want_ to change\n\n        delete tempOldItem.selected; // stringify for compare\n\n        tempOldItem = JSON.stringify(tempOldItem);\n\n        for (let newItem of value) {\n          // copy the item\n          let tempNewItem = Object.assign({}, newItem); // deleted selected because it's what we _want_ to change\n\n          delete tempNewItem.selected; // stringify for compare\n\n          tempNewItem = JSON.stringify(tempNewItem); // do the compare\n\n          if (tempOldItem.includes(tempNewItem)) {\n            oldItem.selected = newItem.selected; // if we've found a matching item, we can stop looping\n\n            break;\n          } else {\n            oldItem.selected = false;\n          }\n        }\n      }\n    });\n  }\n  /**\n   * Initializes focus in the list, effectively a wrapper for `getCurrentElement().focus()`\n   */\n\n\n  initFocus() {\n    if (this.index < 0) {\n      this.updateIndex();\n    }\n\n    this.list.nativeElement.focus();\n    setTimeout(() => {\n      this.highlightedItem = this.getItemId(this.index);\n    });\n  }\n\n  updateIndex() {\n    // initialize index on the first selected item or\n    // on the next non disabled item if no items are selected\n    const selected = this.getSelected();\n\n    if (selected.length) {\n      this.index = this.displayItems.indexOf(selected[0]);\n    } else if (this.hasNextElement()) {\n      this.getNextElement();\n    }\n  }\n  /**\n   * Manages the keyboard accessibility for navigation and selection within a `DropdownList`.\n   * @deprecated since v4\n   */\n\n\n  doKeyDown(event, item) {\n    // \"Spacebar\", \"Down\", and \"Up\" are IE specific values\n    if (event.key === \"Enter\" || event.key === \" \" || event.key === \"Spacebar\") {\n      if (this.listElementList.some(option => option.nativeElement === event.target)) {\n        event.preventDefault();\n      }\n\n      if (event.key === \"Enter\") {\n        this.doClick(event, item);\n      }\n    } else if (event.key === \"ArrowDown\" || event.key === \"ArrowUp\" || event.key === \"Down\" || event.key === \"Up\") {\n      event.preventDefault();\n\n      if (event.key === \"ArrowDown\" || event.key === \"Down\") {\n        if (this.hasNextElement()) {\n          // this.getNextElement().focus();\n          this.getNextElement();\n        } else {\n          this.blurIntent.emit(\"bottom\");\n        }\n      } else if (event.key === \"ArrowUp\" || event.key === \"Up\") {\n        if (this.hasPrevElement()) {\n          // this.getPrevElement().focus();\n          this.getPrevElement();\n        } else {\n          this.blurIntent.emit(\"top\");\n        }\n      }\n    }\n  }\n  /**\n   * Manages the keyboard accessibility for navigation and selection within a `DropdownList`.\n   */\n\n\n  navigateList(event) {\n    // \"Spacebar\", \"Down\", and \"Up\" are IE specific values\n    if (event.key === \"Enter\" || event.key === \" \" || event.key === \"Spacebar\") {\n      if (this.listElementList.some(option => option.nativeElement === event.target)) {\n        event.preventDefault();\n      }\n\n      if (event.key === \"Enter\") {\n        this.doClick(event, this.getCurrentItem());\n      }\n    } else if (event.key === \"ArrowDown\" || event.key === \"ArrowUp\" || event.key === \"Down\" || event.key === \"Up\") {\n      event.preventDefault();\n\n      if (event.key === \"ArrowDown\" || event.key === \"Down\") {\n        if (this.hasNextElement()) {\n          this.getNextElement();\n        } else {\n          this.blurIntent.emit(\"bottom\");\n        }\n      } else if (event.key === \"ArrowUp\" || event.key === \"Up\") {\n        if (this.hasPrevElement()) {\n          this.getPrevElement();\n        } else {\n          this.blurIntent.emit(\"top\");\n        }\n      }\n\n      setTimeout(() => {\n        this.highlightedItem = this.getItemId(this.index);\n      });\n    }\n  }\n  /**\n   * Emits the selected item or items after a mouse click event has occurred.\n   */\n\n\n  doClick(event, item) {\n    event.preventDefault();\n\n    if (!item.disabled) {\n      this.list.nativeElement.focus();\n\n      if (this.type === \"single\") {\n        item.selected = true; // reset the selection\n\n        for (let otherItem of this.getListItems()) {\n          if (item !== otherItem) {\n            otherItem.selected = false;\n          }\n        }\n      } else {\n        item.selected = !item.selected;\n      }\n\n      this.index = this.displayItems.indexOf(item);\n      this.highlightedItem = this.getItemId(this.index);\n      this.doEmitSelect(false);\n    }\n  }\n\n  onItemFocus(index) {\n    const element = this.listElementList.toArray()[index].nativeElement;\n    element.classList.add(\"bx--list-box__menu-item--highlighted\");\n    element.tabIndex = 0;\n  }\n\n  onItemBlur(index) {\n    const element = this.listElementList.toArray()[index].nativeElement;\n    element.classList.remove(\"bx--list-box__menu-item--highlighted\");\n    element.tabIndex = -1;\n  }\n  /**\n   * Emits the scroll event of the options list\n   */\n\n\n  emitScroll(event) {\n    const atTop = event.srcElement.scrollTop === 0;\n    const atBottom = event.srcElement.scrollHeight - event.srcElement.scrollTop === event.srcElement.clientHeight;\n    const customScrollEvent = {\n      atTop,\n      atBottom,\n      event\n    };\n    this.scroll.emit(customScrollEvent);\n  }\n  /**\n   * Subscribe the function passed to an internal observable that will resolve once the items are ready\n   */\n\n\n  onItemsReady(subcription) {\n    // this subscription will auto unsubscribe because of the `first()` pipe\n    (this._itemsReady || of(true)).pipe(first()).subscribe(subcription);\n  }\n\n  reorderSelected(moveFocus = true) {\n    this.displayItems = [...this.getSelected(), ...this.getListItems().filter(item => !item.selected)];\n\n    if (moveFocus) {\n      setTimeout(() => {\n        this.updateIndex();\n        this.highlightedItem = this.getItemId(this.index);\n      });\n    }\n  }\n\n}\n\nDropdownList.ɵfac = function DropdownList_Factory(t) {\n  return new (t || DropdownList)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.I18n));\n};\n\nDropdownList.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: DropdownList,\n  selectors: [[\"ibm-dropdown-list\"]],\n  viewQuery: function DropdownList_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(_c9, 7);\n      ɵngcc0.ɵɵviewQuery(_c10, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.list = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.listElementList = _t);\n    }\n  },\n  inputs: {\n    ariaLabel: \"ariaLabel\",\n    listTpl: \"listTpl\",\n    type: \"type\",\n    showTitles: \"showTitles\",\n    items: \"items\"\n  },\n  outputs: {\n    select: \"select\",\n    scroll: \"scroll\",\n    blurIntent: \"blurIntent\"\n  },\n  features: [ɵngcc0.ɵɵProvidersFeature([{\n    provide: AbstractDropdownView,\n    useExisting: DropdownList\n  }])],\n  decls: 3,\n  vars: 3,\n  consts: [[\"role\", \"listbox\", \"tabindex\", \"-1\", 1, \"bx--list-box__menu\", \"bx--multi-select\", 3, \"scroll\", \"keydown\"], [\"list\", \"\"], [\"role\", \"option\", \"class\", \"bx--list-box__menu-item\", 3, \"id\", \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"role\", \"option\", 1, \"bx--list-box__menu-item\", 3, \"id\", \"ngClass\", \"click\"], [\"tabindex\", \"-1\", 1, \"bx--list-box__menu-item__option\"], [\"listItem\", \"\"], [\"class\", \"bx--form-item bx--checkbox-wrapper\", 4, \"ngIf\"], [4, \"ngIf\"], [\"ibmIcon\", \"checkmark\", \"size\", \"16\", \"class\", \"bx--list-box__menu-item__selected-icon\", 4, \"ngIf\"], [1, \"bx--form-item\", \"bx--checkbox-wrapper\"], [1, \"bx--checkbox-label\"], [\"type\", \"checkbox\", \"tabindex\", \"-1\", 1, \"bx--checkbox\", 3, \"checked\", \"disabled\"], [1, \"bx--checkbox-appearance\"], [1, \"bx--checkbox-label-text\"], [\"ibmIcon\", \"checkmark\", \"size\", \"16\", 1, \"bx--list-box__menu-item__selected-icon\"], [3, \"ngTemplateOutletContext\", \"ngTemplateOutlet\"]],\n  template: function DropdownList_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵelementStart(0, \"ul\", 0, 1);\n      ɵngcc0.ɵɵlistener(\"scroll\", function DropdownList_Template_ul_scroll_0_listener($event) {\n        return ctx.emitScroll($event);\n      })(\"keydown\", function DropdownList_Template_ul_keydown_0_listener($event) {\n        return ctx.navigateList($event);\n      });\n      ɵngcc0.ɵɵtemplate(2, DropdownList_li_2_Template, 7, 12, \"li\", 2);\n      ɵngcc0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵattribute(\"aria-label\", ctx.ariaLabel)(\"aria-activedescendant\", ctx.highlightedItem);\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.displayItems);\n    }\n  },\n  dependencies: [ɵngcc4.NgClass, ɵngcc4.NgForOf, ɵngcc4.NgIf, ɵngcc4.NgTemplateOutlet, ɵngcc5.IconDirective],\n  encapsulation: 2\n});\nDropdownList.listCount = 0;\n/** @nocollapse */\n\nDropdownList.ctorParameters = () => [{\n  type: ElementRef\n}, {\n  type: I18n\n}];\n\nDropdownList.propDecorators = {\n  ariaLabel: [{\n    type: Input\n  }],\n  items: [{\n    type: Input\n  }],\n  listTpl: [{\n    type: Input\n  }],\n  select: [{\n    type: Output\n  }],\n  scroll: [{\n    type: Output\n  }],\n  blurIntent: [{\n    type: Output\n  }],\n  list: [{\n    type: ViewChild,\n    args: [\"list\", {\n      static: true\n    }]\n  }],\n  type: [{\n    type: Input\n  }],\n  showTitles: [{\n    type: Input\n  }],\n  listElementList: [{\n    type: ViewChildren,\n    args: [\"listItem\"]\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DropdownList, [{\n    type: Component,\n    args: [{\n      selector: \"ibm-dropdown-list\",\n      template: `\n\t\t<ul\n\t\t\t#list\n\t\t\trole=\"listbox\"\n\t\t\tclass=\"bx--list-box__menu bx--multi-select\"\n\t\t\t(scroll)=\"emitScroll($event)\"\n\t\t\t(keydown)=\"navigateList($event)\"\n\t\t\ttabindex=\"-1\"\n\t\t\t[attr.aria-label]=\"ariaLabel\"\n\t\t\t[attr.aria-activedescendant]=\"highlightedItem\">\n\t\t\t<li\n\t\t\t\trole=\"option\"\n\t\t\t\t*ngFor=\"let item of displayItems; let i = index\"\n\t\t\t\t(click)=\"doClick($event, item)\"\n\t\t\t\tclass=\"bx--list-box__menu-item\"\n\t\t\t\t[attr.aria-selected]=\"item.selected\"\n\t\t\t\t[id]=\"getItemId(i)\"\n\t\t\t\t[attr.title]=\" showTitles ? item.content : null\"\n\t\t\t\t[ngClass]=\"{\n\t\t\t\t\t'bx--list-box__menu-item--active': item.selected,\n\t\t\t\t\t'bx--list-box__menu-item--highlighted': highlightedItem === getItemId(i),\n\t\t\t\t\tdisabled: item.disabled\n\t\t\t\t}\">\n\t\t\t\t<div\n\t\t\t\t\t#listItem\n\t\t\t\t\ttabindex=\"-1\"\n\t\t\t\t\tclass=\"bx--list-box__menu-item__option\">\n\t\t\t\t\t<div\n\t\t\t\t\t\t*ngIf=\"!listTpl && type === 'multi'\"\n\t\t\t\t\t\tclass=\"bx--form-item bx--checkbox-wrapper\">\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t[attr.data-contained-checkbox-state]=\"item.selected\"\n\t\t\t\t\t\t\tclass=\"bx--checkbox-label\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"bx--checkbox\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t[checked]=\"item.selected\"\n\t\t\t\t\t\t\t\t[disabled]=\"item.disabled\"\n\t\t\t\t\t\t\t\ttabindex=\"-1\">\n\t\t\t\t\t\t\t<span class=\"bx--checkbox-appearance\"></span>\n\t\t\t\t\t\t\t<span class=\"bx--checkbox-label-text\">{{item.content}}</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ng-container *ngIf=\"!listTpl && type === 'single'\">{{item.content}}</ng-container>\n\t\t\t\t\t<svg\n\t\t\t\t\t\t*ngIf=\"!listTpl && type === 'single'\"\n\t\t\t\t\t\tibmIcon=\"checkmark\"\n\t\t\t\t\t\tsize=\"16\"\n\t\t\t\t\t\tclass=\"bx--list-box__menu-item__selected-icon\">\n\t\t\t\t\t</svg>\n\t\t\t\t\t<ng-template\n\t\t\t\t\t\t*ngIf=\"listTpl\"\n\t\t\t\t\t\t[ngTemplateOutletContext]=\"{item: item}\"\n\t\t\t\t\t\t[ngTemplateOutlet]=\"listTpl\">\n\t\t\t\t\t</ng-template>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>`,\n      providers: [{\n        provide: AbstractDropdownView,\n        useExisting: DropdownList\n      }]\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc3.I18n\n    }];\n  }, {\n    ariaLabel: [{\n      type: Input\n    }],\n    listTpl: [{\n      type: Input\n    }],\n    select: [{\n      type: Output\n    }],\n    scroll: [{\n      type: Output\n    }],\n    blurIntent: [{\n      type: Output\n    }],\n    type: [{\n      type: Input\n    }],\n    showTitles: [{\n      type: Input\n    }],\n    items: [{\n      type: Input\n    }],\n    list: [{\n      type: ViewChild,\n      args: [\"list\", {\n        static: true\n      }]\n    }],\n    listElementList: [{\n      type: ViewChildren,\n      args: [\"listItem\"]\n    }]\n  });\n})();\n\nclass ScrollableList {\n  constructor(elementRef) {\n    this.elementRef = elementRef;\n    /**\n     * Optional target list to scroll\n     */\n\n    this.nScrollableList = null;\n    /**\n     * Enables or disables scrolling for the whole directive\n     */\n\n    this.scrollEnabled = true;\n    /**\n     * How many lines to scroll by each time `wheel` fires\n     * Defaults to 10 - based on testing this isn't too fast or slow on any platform\n     */\n\n    this.scrollBy = 10;\n    this.canScrollUp = false;\n    this.canScrollDown = false;\n    this.list = this.elementRef.nativeElement;\n  }\n\n  ngOnChanges(changes) {\n    if (changes.scrollEnabled) {\n      if (changes.scrollEnabled.currentValue) {\n        this.list.style.overflow = \"hidden\";\n        this.scrollUpTarget.style.display = \"flex\";\n        this.scrollDownTarget.style.display = \"flex\";\n        this.canScrollUp = true;\n        this.canScrollDown = true;\n        this.updateScrollHeight();\n        this.checkScrollArrows();\n        setTimeout(() => {\n          this.checkScrollArrows();\n        });\n      } else {\n        this.scrollUpTarget.style.display = \"none\";\n        this.scrollDownTarget.style.display = \"none\";\n        this.canScrollUp = false;\n        this.canScrollDown = false;\n        this.list.style.height = null;\n        this.list.style.overflow = null;\n        clearInterval(this.hoverScrollInterval);\n      }\n    }\n  }\n\n  ngAfterViewInit() {\n    if (this.nScrollableList) {\n      this.list = this.elementRef.nativeElement.querySelector(this.nScrollableList);\n    }\n\n    this.scrollUpTarget.addEventListener(\"mouseover\", () => this.onHoverUp(true));\n    this.scrollUpTarget.addEventListener(\"mouseout\", () => this.onHoverUp(false));\n    this.scrollDownTarget.addEventListener(\"mouseover\", () => this.onHoverDown(true));\n    this.scrollDownTarget.addEventListener(\"mouseout\", () => this.onHoverDown(false));\n  }\n\n  updateScrollHeight() {\n    if (this.scrollEnabled) {\n      const container = this.elementRef.nativeElement.parentElement;\n      const containerRect = container.getBoundingClientRect();\n      const innerHeightDiff = this.list.getBoundingClientRect().top - containerRect.top;\n      const outerHeightDiff = containerRect.height - (containerRect.bottom - window.innerHeight); // 40 gives us some padding between the bottom of the list,\n      // the bottom of the window, and the scroll down button\n\n      const height = outerHeightDiff - innerHeightDiff - 40;\n      this.list.style.height = `${height}px`;\n    }\n  }\n\n  checkScrollArrows() {\n    const scrollUpHeight = this.scrollUpTarget.offsetHeight;\n    const scrollDownHeight = this.scrollDownTarget.offsetHeight;\n\n    if (this.list.scrollTop === 0) {\n      if (this.canScrollUp) {\n        this.list.style.height = `${parseInt(this.list.style.height, 10) + scrollUpHeight}px`;\n      }\n\n      this.scrollUpTarget.style.display = \"none\";\n      this.canScrollUp = false;\n    } else if (this.list.scrollTop === this.list.scrollTopMax) {\n      if (this.canScrollDown) {\n        this.list.style.height = `${parseInt(this.list.style.height, 10) + scrollDownHeight}px`;\n      }\n\n      this.scrollDownTarget.style.display = \"none\";\n      this.canScrollDown = false;\n    } else {\n      if (!this.canScrollUp) {\n        this.list.style.height = `${parseInt(this.list.style.height, 10) - scrollUpHeight}px`;\n      }\n\n      if (!this.canScrollDown) {\n        this.list.style.height = `${parseInt(this.list.style.height, 10) - scrollDownHeight}px`;\n      }\n\n      this.scrollUpTarget.style.display = \"flex\";\n      this.scrollDownTarget.style.display = \"flex\";\n      this.canScrollUp = true;\n      this.canScrollDown = true;\n    }\n  }\n\n  onWheel(event) {\n    if (event.deltaY < 0) {\n      this.list.scrollTop -= this.scrollBy;\n    } else {\n      this.list.scrollTop += this.scrollBy;\n    } // only prevent the parent/window from scrolling if we can scroll\n\n\n    if (!(this.list.scrollTop === this.list.scrollTopMax || this.list.scrollTop === 0)) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    this.checkScrollArrows();\n  }\n\n  onTouchStart(event) {\n    if (event.touches[0]) {\n      this.lastTouch = event.touches[0].clientY;\n    }\n  }\n\n  onTouchMove(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (event.touches[0]) {\n      const touch = event.touches[0];\n      this.list.scrollTop += this.lastTouch - touch.clientY;\n      this.lastTouch = touch.clientY;\n      this.checkScrollArrows();\n    }\n  }\n\n  hoverScrollBy(hovering, amount) {\n    if (hovering) {\n      this.hoverScrollInterval = setInterval(() => {\n        this.list.scrollTop += amount;\n        this.checkScrollArrows();\n      }, 1);\n    } else {\n      clearInterval(this.hoverScrollInterval);\n    }\n  }\n\n  onHoverUp(hovering) {\n    // how many px/lines to scroll by on hover\n    // 3 is just a random number that felt good\n    // 1 and 2 are too slow, 4 works but it might be a tad fast\n    this.hoverScrollBy(hovering, -3);\n  }\n\n  onHoverDown(hovering) {\n    this.hoverScrollBy(hovering, 3);\n  }\n\n  onKeyDown(event) {\n    if (event.key === \"ArrowDown\" || event.key === \"ArrowUp\") {\n      this.checkScrollArrows();\n    }\n  }\n\n}\n\nScrollableList.ɵfac = function ScrollableList_Factory(t) {\n  return new (t || ScrollableList)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef));\n};\n\nScrollableList.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n  type: ScrollableList,\n  selectors: [[\"\", \"ibmScrollableList\", \"\"]],\n  hostBindings: function ScrollableList_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"wheel\", function ScrollableList_wheel_HostBindingHandler($event) {\n        return ctx.onWheel($event);\n      })(\"touchstart\", function ScrollableList_touchstart_HostBindingHandler($event) {\n        return ctx.onTouchStart($event);\n      })(\"touchmove\", function ScrollableList_touchmove_HostBindingHandler($event) {\n        return ctx.onTouchMove($event);\n      })(\"keydown\", function ScrollableList_keydown_HostBindingHandler($event) {\n        return ctx.onKeyDown($event);\n      });\n    }\n  },\n  inputs: {\n    nScrollableList: \"nScrollableList\",\n    scrollEnabled: \"scrollEnabled\",\n    scrollBy: \"scrollBy\",\n    scrollUpTarget: \"scrollUpTarget\",\n    scrollDownTarget: \"scrollDownTarget\"\n  },\n  exportAs: [\"scrollable-list\"],\n  features: [ɵngcc0.ɵɵNgOnChangesFeature]\n});\n/** @nocollapse */\n\nScrollableList.ctorParameters = () => [{\n  type: ElementRef\n}];\n\nScrollableList.propDecorators = {\n  nScrollableList: [{\n    type: Input\n  }],\n  scrollEnabled: [{\n    type: Input\n  }],\n  scrollUpTarget: [{\n    type: Input\n  }],\n  scrollDownTarget: [{\n    type: Input\n  }],\n  scrollBy: [{\n    type: Input\n  }],\n  onWheel: [{\n    type: HostListener,\n    args: [\"wheel\", [\"$event\"]]\n  }],\n  onTouchStart: [{\n    type: HostListener,\n    args: [\"touchstart\", [\"$event\"]]\n  }],\n  onTouchMove: [{\n    type: HostListener,\n    args: [\"touchmove\", [\"$event\"]]\n  }],\n  onKeyDown: [{\n    type: HostListener,\n    args: [\"keydown\", [\"$event\"]]\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ScrollableList, [{\n    type: Directive,\n    args: [{\n      selector: \"[ibmScrollableList]\",\n      exportAs: \"scrollable-list\"\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }];\n  }, {\n    nScrollableList: [{\n      type: Input\n    }],\n    scrollEnabled: [{\n      type: Input\n    }],\n    scrollBy: [{\n      type: Input\n    }],\n    onWheel: [{\n      type: HostListener,\n      args: [\"wheel\", [\"$event\"]]\n    }],\n    onTouchStart: [{\n      type: HostListener,\n      args: [\"touchstart\", [\"$event\"]]\n    }],\n    onTouchMove: [{\n      type: HostListener,\n      args: [\"touchmove\", [\"$event\"]]\n    }],\n    onKeyDown: [{\n      type: HostListener,\n      args: [\"keydown\", [\"$event\"]]\n    }],\n    scrollUpTarget: [{\n      type: Input\n    }],\n    scrollDownTarget: [{\n      type: Input\n    }]\n  });\n})();\n\nclass DropdownModule {}\n\nDropdownModule.ɵfac = function DropdownModule_Factory(t) {\n  return new (t || DropdownModule)();\n};\n\nDropdownModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n  type: DropdownModule\n});\nDropdownModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n  providers: [DropdownService],\n  imports: [CommonModule, FormsModule, I18nModule, PlaceholderModule, UtilsModule, IconModule]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DropdownModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [Dropdown, DropdownList, ScrollableList, AbstractDropdownView],\n      exports: [Dropdown, DropdownList, ScrollableList, AbstractDropdownView],\n      imports: [CommonModule, FormsModule, I18nModule, PlaceholderModule, UtilsModule, IconModule],\n      providers: [DropdownService]\n    }]\n  }], null, null);\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(DropdownModule, {\n    declarations: function () {\n      return [Dropdown, DropdownList, ScrollableList, AbstractDropdownView];\n    },\n    imports: function () {\n      return [CommonModule, FormsModule, I18nModule, PlaceholderModule, UtilsModule, IconModule];\n    },\n    exports: function () {\n      return [Dropdown, DropdownList, ScrollableList, AbstractDropdownView];\n    }\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { Dropdown, DropdownList, ScrollableList, AbstractDropdownView, DropdownService, DropdownModule };","map":{"version":3,"names":["position","Subscription","of","fromEvent","Observable","isObservable","debounceTime","map","filter","first","Input","Output","EventEmitter","Directive","Injectable","Component","ElementRef","ContentChild","ViewChild","HostListener","HostBinding","TemplateRef","ApplicationRef","ViewChildren","NgModule","CommonModule","NG_VALUE_ACCESSOR","FormsModule","I18n","I18nModule","PlaceholderService","PlaceholderModule","AnimationFrameService","closestAttr","ElementService","getScrollableParents","hasScrollableParents","UtilsModule","IconModule","ɵngcc0","ɵngcc1","ɵngcc2","ɵngcc3","ɵngcc4","ɵngcc5","_c0","_c1","Dropdown_label_0_ng_container_1_Template","rf","ctx","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","ctx_r13","ɵɵnextContext","ɵɵadvance","ɵɵtextInterpolate","label","Dropdown_label_0_2_ng_template_0_Template","Dropdown_label_0_2_Template","ɵɵtemplate","ctx_r14","ɵɵproperty","_c2","a0","Dropdown_label_0_Template","ɵɵelementStart","ɵɵelementEnd","ctx_r0","id","ɵɵpureFunction1","disabled","isTemplate","Dropdown_div_4_Template","_r17","ɵɵgetCurrentView","ɵɵlistener","Dropdown_div_4_Template_div_click_0_listener","ɵɵrestoreView","ctx_r16","ɵɵresetView","clearSelected","Dropdown_div_4_Template_div_keydown_enter_0_listener","ctx_r18","ɵɵnamespaceSVG","ɵɵelement","ctx_r2","clearText","ɵɵtextInterpolate1","getSelectedCount","Dropdown_span_5_Template","ɵɵpipe","ctx_r3","ɵɵpipeBind1","getDisplayStringValue","Dropdown_6_ng_template_0_Template","Dropdown_6_Template","ctx_r4","getRenderTemplateContext","displayValue","Dropdown__svg_svg_7_Template","Dropdown__svg_svg_8_Template","_c3","Dropdown__svg_svg_10_Template","ctx_r7","menuIsClosed","ɵɵattribute","menuButtonLabel","Dropdown_ng_content_13_Template","ɵɵprojection","Dropdown_div_14_ng_container_1_Template","ctx_r20","helperText","Dropdown_div_14_2_ng_template_0_Template","Dropdown_div_14_2_Template","ctx_r21","_c4","Dropdown_div_14_Template","ctx_r10","Dropdown_div_15_ng_container_1_Template","ctx_r23","invalidText","Dropdown_div_15_2_ng_template_0_Template","Dropdown_div_15_2_Template","ctx_r24","Dropdown_div_15_Template","ctx_r11","Dropdown_div_16_ng_container_1_Template","ctx_r26","warnText","Dropdown_div_16_2_ng_template_0_Template","Dropdown_div_16_2_Template","ctx_r27","Dropdown_div_16_Template","ctx_r12","_c5","a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","a11","a12","_c6","_c7","_c8","_c9","_c10","DropdownList_li_2_div_3_Template","item_r2","$implicit","selected","content","DropdownList_li_2_ng_container_4_Template","DropdownList_li_2__svg_svg_5_Template","DropdownList_li_2_6_ng_template_0_Template","_c11","item","DropdownList_li_2_6_Template","ctx_r8","listTpl","_c12","DropdownList_li_2_Template","_r14","DropdownList_li_2_Template_li_click_0_listener","$event","restoredCtx","doClick","i_r3","index","ctx_r1","getItemId","ɵɵpureFunction3","highlightedItem","showTitles","type","AbstractDropdownView","constructor","size","items","value","getNextItem","hasNextElement","getNextElement","getPrevItem","hasPrevElement","getPrevElement","getSelected","getCurrentItem","getCurrentElement","getListItems","propagateSelected","filterBy","initFocus","onItemsReady","subcription","reorderSelected","moveFocus","ɵfac","AbstractDropdownView_Factory","t","ɵdir","ɵɵdefineDirective","selectors","inputs","outputs","select","blurIntent","propDecorators","ngDevMode","ɵsetClassMetadata","args","selector","defaultOffset","top","left","DropdownService","placeholderService","animationFrameService","animationFrameSubscription","_offset","offset","Object","assign","appendToBody","parentRef","menuRef","classList","style","display","dropdownWrapper","document","createElement","className","width","offsetWidth","appendChild","hasPlaceholderRef","appendElement","body","menuInstance","tick","subscribe","positionDropdown","appendToDropdown","hostRef","instance","menu","firstElementChild","unsubscribe","hasElement","removeElement","contains","removeChild","updatePosition","ngOnDestroy","leftOffset","boxMenu","querySelector","getBoundingClientRect","testBoxMenuRightEdgePos","right","window","innerWidth","documentElement","clientWidth","closestMenuWithPos","parentElement","topPos","leftPos","pos","findAbsolute","addOffset","setElement","DropdownService_Factory","ɵɵinject","ɵprov","ɵɵdefineInjectable","token","factory","ctorParameters","Dropdown","elementRef","i18n","dropdownService","appRef","elementService","dropdownCount","placeholder","get","DROPDOWN","CLEAR","theme","skeleton","inline","disableArrowKeys","invalid","warn","appendInline","selectionFeedback","OPEN","selectedLabel","SELECTED","onClose","close","hostClass","_dropUp","noop","_noop","bind","outsideClick","_outsideClick","outsideKey","_outsideKey","keyboardNav","_keyboardNav","visibilitySubscription","onTouchedCallback","_writtenValue","propagateChange","_","newValue","console","itemValueKey","writtenValue","val","length","ngOnInit","view","ngAfterContentInit","writeValue","isUpdate","event","closeMenu","values","checkForReorder","emit","ngAfterViewInit","nativeElement","_appendToDropdown","find","newValues","v","push","onBlur","registerOnChange","fn","registerOnTouched","setDisabledState","isDisabled","onKeyDown","key","stopImmediatePropagation","preventDefault","dropdownButton","focus","openMenu","dropdownMenu","target","shiftKey","closedDropdownNavigation","isRenderString","valueSelected","dispatchEvent","KeyboardEvent","bubbles","cancelable","removeEventListener","_appendToBody","lightClass","expandedClass","addEventListener","_shouldDropUp","menuRect","scrollableParents","reduce","shouldDropUp","parent","parentRect","isBelowParent","bottom","visibility","visible","setTimeout","dropUp","undefined","toggleMenu","topAfterReopen","Dropdown_Factory","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","contentQueries","Dropdown_ContentQueries","dirIndex","ɵɵcontentQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","viewQuery","Dropdown_Query","ɵɵviewQuery","hostVars","hostBindings","Dropdown_HostBindings","Dropdown_keydown_HostBindingHandler","ɵɵclassProp","scrollableContainer","features","ɵɵProvidersFeature","provide","useExisting","multi","ngContentSelectors","decls","vars","consts","template","Dropdown_Template","ɵɵprojectionDef","Dropdown_Template_button_click_2_listener","stopPropagation","Dropdown_Template_button_blur_2_listener","ɵɵpureFunctionV","dependencies","NgClass","NgIf","NgTemplateOutlet","IconDirective","AsyncPipe","encapsulation","static","providers","watchFocusJump","elements","pipe","ev","el","itemEl","textContent","trim","toLowerCase","startsWith","DropdownList","ariaLabel","DROPDOWN_LIST","LABEL","scroll","listId","listCount","displayItems","_items","_itemsSubscription","_itemsReady","observer","updateList","next","complete","_originalItems","findIndex","setupFocusObservable","doEmitSelect","focusJump","updateIndex","query","includes","list","elList","Array","from","querySelectorAll","elemList","listElementList","toArray","isArray","error","name","JSON","stringify","oldItem","tempOldItem","newItem","tempNewItem","indexOf","doKeyDown","some","option","navigateList","otherItem","onItemFocus","element","add","tabIndex","onItemBlur","remove","emitScroll","atTop","srcElement","scrollTop","atBottom","scrollHeight","clientHeight","customScrollEvent","DropdownList_Factory","DropdownList_Query","DropdownList_Template","DropdownList_Template_ul_scroll_0_listener","DropdownList_Template_ul_keydown_0_listener","NgForOf","ScrollableList","nScrollableList","scrollEnabled","scrollBy","canScrollUp","canScrollDown","ngOnChanges","changes","currentValue","overflow","scrollUpTarget","scrollDownTarget","updateScrollHeight","checkScrollArrows","height","clearInterval","hoverScrollInterval","onHoverUp","onHoverDown","container","containerRect","innerHeightDiff","outerHeightDiff","innerHeight","scrollUpHeight","offsetHeight","scrollDownHeight","parseInt","scrollTopMax","onWheel","deltaY","onTouchStart","touches","lastTouch","clientY","onTouchMove","touch","hoverScrollBy","hovering","amount","setInterval","ScrollableList_Factory","ScrollableList_HostBindings","ScrollableList_wheel_HostBindingHandler","ScrollableList_touchstart_HostBindingHandler","ScrollableList_touchmove_HostBindingHandler","ScrollableList_keydown_HostBindingHandler","exportAs","ɵɵNgOnChangesFeature","DropdownModule","DropdownModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","imports","declarations","exports","ngJitMode","ɵɵsetNgModuleScope"],"sources":["/Users/TSC/Desktop/Angular-Carbon/carbon-tutorial-angular/node_modules/carbon-components-angular/__ivy_ngcc__/fesm2015/carbon-components-angular-dropdown.js"],"sourcesContent":["/**\n *\n * carbon-angular v0.0.0 | carbon-components-angular-dropdown.js\n *\n * Copyright 2014, 2022 IBM\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport { position } from '@carbon/utils-position';\nimport { Subscription, of, fromEvent, Observable, isObservable } from 'rxjs';\nimport { debounceTime, map, filter, first } from 'rxjs/operators';\nimport { Input, Output, EventEmitter, Directive, Injectable, Component, ElementRef, ContentChild, ViewChild, HostListener, HostBinding, TemplateRef, ApplicationRef, ViewChildren, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NG_VALUE_ACCESSOR, FormsModule } from '@angular/forms';\nimport { I18n, I18nModule } from 'carbon-components-angular/i18n';\nimport { PlaceholderService, PlaceholderModule } from 'carbon-components-angular/placeholder';\nimport { AnimationFrameService, closestAttr, ElementService, getScrollableParents, hasScrollableParents, UtilsModule } from 'carbon-components-angular/utils';\nimport { IconModule } from 'carbon-components-angular/icon';\n\n/**\n * A component that intends to be used within `Dropdown` must provide an implementation that extends this base class.\n * It also must provide the base class in the `@Component` meta-data.\n * ex: `providers: [{provide: AbstractDropdownView, useExisting: forwardRef(() => MyDropdownView)}]`\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'carbon-components-angular/placeholder';\nimport * as ɵngcc2 from 'carbon-components-angular/utils';\nimport * as ɵngcc3 from 'carbon-components-angular/i18n';\nimport * as ɵngcc4 from '@angular/common';\nimport * as ɵngcc5 from 'carbon-components-angular/icon';\n\nconst _c0 = [\"dropdownButton\"];\nconst _c1 = [\"dropdownMenu\"];\nfunction Dropdown_label_0_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r13 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r13.label);\n} }\nfunction Dropdown_label_0_2_ng_template_0_Template(rf, ctx) { }\nfunction Dropdown_label_0_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, Dropdown_label_0_2_ng_template_0_Template, 0, 0, \"ng-template\", 16);\n} if (rf & 2) {\n    const ctx_r14 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r14.label);\n} }\nconst _c2 = function (a0) { return { \"bx--label--disabled\": a0 }; };\nfunction Dropdown_label_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"label\", 15);\n    ɵngcc0.ɵɵtemplate(1, Dropdown_label_0_ng_container_1_Template, 2, 1, \"ng-container\", 6);\n    ɵngcc0.ɵɵtemplate(2, Dropdown_label_0_2_Template, 1, 1, null, 6);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"for\", ctx_r0.id)(\"ngClass\", ɵngcc0.ɵɵpureFunction1(4, _c2, ctx_r0.disabled));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r0.isTemplate(ctx_r0.label));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.isTemplate(ctx_r0.label));\n} }\nfunction Dropdown_div_4_Template(rf, ctx) { if (rf & 1) {\n    const _r17 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 17);\n    ɵngcc0.ɵɵlistener(\"click\", function Dropdown_div_4_Template_div_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r17); const ctx_r16 = ɵngcc0.ɵɵnextContext(); return ɵngcc0.ɵɵresetView(ctx_r16.clearSelected()); })(\"keydown.enter\", function Dropdown_div_4_Template_div_keydown_enter_0_listener() { ɵngcc0.ɵɵrestoreView(_r17); const ctx_r18 = ɵngcc0.ɵɵnextContext(); return ɵngcc0.ɵɵresetView(ctx_r18.clearSelected()); });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(2, \"svg\", 18);\n    ɵngcc0.ɵɵelement(3, \"path\", 19);\n    ɵngcc0.ɵɵelementEnd()();\n} if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"title\", ctx_r2.clearText);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r2.getSelectedCount(), \" \");\n} }\nfunction Dropdown_span_5_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 20);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵpipe(2, \"async\");\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(2, 1, ctx_r3.getDisplayStringValue()));\n} }\nfunction Dropdown_6_ng_template_0_Template(rf, ctx) { }\nfunction Dropdown_6_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, Dropdown_6_ng_template_0_Template, 0, 0, \"ng-template\", 21);\n} if (rf & 2) {\n    const ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutletContext\", ctx_r4.getRenderTemplateContext())(\"ngTemplateOutlet\", ctx_r4.displayValue);\n} }\nfunction Dropdown__svg_svg_7_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"svg\", 22);\n} }\nfunction Dropdown__svg_svg_8_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"svg\", 23);\n} }\nconst _c3 = function (a0) { return { \"bx--list-box__menu-icon--open\": a0 }; };\nfunction Dropdown__svg_svg_10_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"svg\", 24);\n} if (rf & 2) {\n    const ctx_r7 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(2, _c3, !ctx_r7.menuIsClosed));\n    ɵngcc0.ɵɵattribute(\"aria-label\", ctx_r7.menuButtonLabel);\n} }\nfunction Dropdown_ng_content_13_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵprojection(0, 0, [\"*ngIf\", \"!menuIsClosed\"]);\n} }\nfunction Dropdown_div_14_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r20 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r20.helperText);\n} }\nfunction Dropdown_div_14_2_ng_template_0_Template(rf, ctx) { }\nfunction Dropdown_div_14_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, Dropdown_div_14_2_ng_template_0_Template, 0, 0, \"ng-template\", 16);\n} if (rf & 2) {\n    const ctx_r21 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r21.helperText);\n} }\nconst _c4 = function (a0) { return { \"bx--form__helper-text--disabled\": a0 }; };\nfunction Dropdown_div_14_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 25);\n    ɵngcc0.ɵɵtemplate(1, Dropdown_div_14_ng_container_1_Template, 2, 1, \"ng-container\", 6);\n    ɵngcc0.ɵɵtemplate(2, Dropdown_div_14_2_Template, 1, 1, null, 6);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r10 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(3, _c4, ctx_r10.disabled));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r10.isTemplate(ctx_r10.helperText));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r10.isTemplate(ctx_r10.helperText));\n} }\nfunction Dropdown_div_15_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r23 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r23.invalidText);\n} }\nfunction Dropdown_div_15_2_ng_template_0_Template(rf, ctx) { }\nfunction Dropdown_div_15_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, Dropdown_div_15_2_ng_template_0_Template, 0, 0, \"ng-template\", 16);\n} if (rf & 2) {\n    const ctx_r24 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r24.invalidText);\n} }\nfunction Dropdown_div_15_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 26);\n    ɵngcc0.ɵɵtemplate(1, Dropdown_div_15_ng_container_1_Template, 2, 1, \"ng-container\", 6);\n    ɵngcc0.ɵɵtemplate(2, Dropdown_div_15_2_Template, 1, 1, null, 6);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r11 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r11.isTemplate(ctx_r11.invalidText));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r11.isTemplate(ctx_r11.invalidText));\n} }\nfunction Dropdown_div_16_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r26 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r26.warnText);\n} }\nfunction Dropdown_div_16_2_ng_template_0_Template(rf, ctx) { }\nfunction Dropdown_div_16_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, Dropdown_div_16_2_ng_template_0_Template, 0, 0, \"ng-template\", 16);\n} if (rf & 2) {\n    const ctx_r27 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r27.warnText);\n} }\nfunction Dropdown_div_16_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 26);\n    ɵngcc0.ɵɵtemplate(1, Dropdown_div_16_ng_container_1_Template, 2, 1, \"ng-container\", 6);\n    ɵngcc0.ɵɵtemplate(2, Dropdown_div_16_2_Template, 1, 1, null, 6);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r12 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r12.isTemplate(ctx_r12.warnText));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r12.isTemplate(ctx_r12.warnText));\n} }\nconst _c5 = function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12) { return { \"bx--dropdown\": a0, \"bx--multiselect\": a1, \"bx--multi-select--selected\": a2, \"bx--dropdown--light\": a3, \"bx--list-box--light\": a4, \"bx--list-box--inline\": a5, \"bx--skeleton\": a6, \"bx--dropdown--disabled bx--list-box--disabled\": a7, \"bx--dropdown--invalid\": a8, \"bx--dropdown--warning bx--list-box--warning\": a9, \"bx--dropdown--xl bx--list-box--xl\": a10, \"bx--dropdown--sm bx--list-box--sm\": a11, \"bx--list-box--expanded\": a12 }; };\nconst _c6 = function (a0) { return { \"a\": a0 }; };\nconst _c7 = function (a0) { return { \"bx--list-box--up\": a0 }; };\nconst _c8 = [\"*\"];\nconst _c9 = [\"list\"];\nconst _c10 = [\"listItem\"];\nfunction DropdownList_li_2_div_3_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 9)(1, \"label\", 10);\n    ɵngcc0.ɵɵelement(2, \"input\", 11)(3, \"span\", 12);\n    ɵngcc0.ɵɵelementStart(4, \"span\", 13);\n    ɵngcc0.ɵɵtext(5);\n    ɵngcc0.ɵɵelementEnd()()();\n} if (rf & 2) {\n    const item_r2 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵattribute(\"data-contained-checkbox-state\", item_r2.selected);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"checked\", item_r2.selected)(\"disabled\", item_r2.disabled);\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵtextInterpolate(item_r2.content);\n} }\nfunction DropdownList_li_2_ng_container_4_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const item_r2 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(item_r2.content);\n} }\nfunction DropdownList_li_2__svg_svg_5_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"svg\", 14);\n} }\nfunction DropdownList_li_2_6_ng_template_0_Template(rf, ctx) { }\nconst _c11 = function (a0) { return { item: a0 }; };\nfunction DropdownList_li_2_6_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, DropdownList_li_2_6_ng_template_0_Template, 0, 0, \"ng-template\", 15);\n} if (rf & 2) {\n    const item_r2 = ɵngcc0.ɵɵnextContext().$implicit;\n    const ctx_r8 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(2, _c11, item_r2))(\"ngTemplateOutlet\", ctx_r8.listTpl);\n} }\nconst _c12 = function (a0, a1, a2) { return { \"bx--list-box__menu-item--active\": a0, \"bx--list-box__menu-item--highlighted\": a1, disabled: a2 }; };\nfunction DropdownList_li_2_Template(rf, ctx) { if (rf & 1) {\n    const _r14 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"li\", 3);\n    ɵngcc0.ɵɵlistener(\"click\", function DropdownList_li_2_Template_li_click_0_listener($event) { const restoredCtx = ɵngcc0.ɵɵrestoreView(_r14); const item_r2 = restoredCtx.$implicit; const ctx_r13 = ɵngcc0.ɵɵnextContext(); return ɵngcc0.ɵɵresetView(ctx_r13.doClick($event, item_r2)); });\n    ɵngcc0.ɵɵelementStart(1, \"div\", 4, 5);\n    ɵngcc0.ɵɵtemplate(3, DropdownList_li_2_div_3_Template, 6, 4, \"div\", 6);\n    ɵngcc0.ɵɵtemplate(4, DropdownList_li_2_ng_container_4_Template, 2, 1, \"ng-container\", 7);\n    ɵngcc0.ɵɵtemplate(5, DropdownList_li_2__svg_svg_5_Template, 1, 0, \"svg\", 8);\n    ɵngcc0.ɵɵtemplate(6, DropdownList_li_2_6_Template, 1, 4, null, 7);\n    ɵngcc0.ɵɵelementEnd()();\n} if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"id\", ctx_r1.getItemId(i_r3))(\"ngClass\", ɵngcc0.ɵɵpureFunction3(8, _c12, item_r2.selected, ctx_r1.highlightedItem === ctx_r1.getItemId(i_r3), item_r2.disabled));\n    ɵngcc0.ɵɵattribute(\"aria-selected\", item_r2.selected)(\"title\", ctx_r1.showTitles ? item_r2.content : null);\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r1.listTpl && ctx_r1.type === \"multi\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r1.listTpl && ctx_r1.type === \"single\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r1.listTpl && ctx_r1.type === \"single\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.listTpl);\n} }\nclass AbstractDropdownView {\n    constructor() {\n        /**\n         * Specifies whether or not the `DropdownList` supports selecting multiple items as opposed to single\n         * item selection.\n         */\n        this.type = \"single\";\n        /**\n         * Specifies the render size of the items within the `AbstractDropdownView`.\n         *\n         * @deprecated since v4\n         */\n        this.size = \"md\";\n    }\n    /**\n     * The items to be displayed in the list within the `AbstractDropDownView`.\n     */\n    set items(value) { }\n    get items() { return; }\n    /**\n     * Returns the `ListItem` that is subsequent to the selected item in the `DropdownList`.\n     */\n    getNextItem() { return; }\n    /**\n     * Returns a boolean if the currently selected item is preceded by another\n     */\n    hasNextElement() { return; }\n    /**\n     * Returns the `HTMLElement` for the item that is subsequent to the selected item.\n     */\n    getNextElement() { return; }\n    /**\n     * Returns the `ListItem` that precedes the selected item within `DropdownList`.\n     */\n    getPrevItem() { return; }\n    /**\n     * Returns a boolean if the currently selected item is followed by another\n     */\n    hasPrevElement() { return; }\n    /**\n     * Returns the `HTMLElement` for the item that precedes the selected item.\n     */\n    getPrevElement() { return; }\n    /**\n     * Returns the selected leaf level item(s) within the `DropdownList`.\n     */\n    getSelected() { return; }\n    /**\n     * Returns the `ListItem` that is selected within `DropdownList`.\n     */\n    getCurrentItem() { return; }\n    /**\n     * Returns the `HTMLElement` for the item that is selected within the `DropdownList`.\n     */\n    getCurrentElement() { return; }\n    /**\n     * Guaranteed to return the current items as an Array.\n     */\n    getListItems() { return; }\n    /**\n     * Transforms array input list of items to the correct state by updating the selected item(s).\n     */\n    propagateSelected(value) { }\n    /**\n     *\n     * @param value value to filter the list by\n     */\n    filterBy(value) { }\n    /**\n     * Initializes focus in the list\n     * In most cases this just calls `getCurrentElement().focus()`\n     */\n    initFocus() { }\n    /**\n     * Subscribe the function passed to an internal observable that will resolve once the items are ready\n     */\n    onItemsReady(subcription) { }\n    /**\n     * Reorder selected items bringing them to the top of the list\n     */\n    reorderSelected(moveFocus) { }\n}\nAbstractDropdownView.ɵfac = function AbstractDropdownView_Factory(t) { return new (t || AbstractDropdownView)(); };\nAbstractDropdownView.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: AbstractDropdownView, selectors: [[\"\", \"ibmAbstractDropdownView\", \"\"]], inputs: { items: \"items\" }, outputs: { select: \"select\", blurIntent: \"blurIntent\" } });\nAbstractDropdownView.propDecorators = {\n    items: [{ type: Input }],\n    select: [{ type: Output }],\n    blurIntent: [{ type: Output }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AbstractDropdownView, [{\n        type: Directive,\n        args: [{ selector: \"[ibmAbstractDropdownView]\" }]\n    }], function () { return []; }, { items: [{\n            type: Input\n        }], select: [{\n            type: Output\n        }], blurIntent: [{\n            type: Output\n        }] }); })();\n\nconst defaultOffset = { top: 0, left: 0 };\nclass DropdownService {\n    constructor(placeholderService, animationFrameService) {\n        this.placeholderService = placeholderService;\n        this.animationFrameService = animationFrameService;\n        /**\n         * Maintains an Event Observable Subscription for the global requestAnimationFrame.\n         * requestAnimationFrame is tracked only if the `Dropdown` is appended to the body otherwise we don't need it\n         */\n        this.animationFrameSubscription = new Subscription();\n        this._offset = defaultOffset;\n    }\n    set offset(value) {\n        this._offset = Object.assign({}, defaultOffset, value);\n    }\n    get offset() {\n        return this._offset;\n    }\n    /**\n     * Appends the menu to the body, or a `ibm-placeholder` (if defined)\n     *\n     * @param parentRef container to position relative to\n     * @param menuRef menu to be appended to body\n     * @param classList any extra classes we should wrap the container with\n     */\n    appendToBody(parentRef, menuRef, classList) {\n        // build the dropdown list container\n        menuRef.style.display = \"block\";\n        const dropdownWrapper = document.createElement(\"div\");\n        dropdownWrapper.className = `dropdown ${classList}`;\n        dropdownWrapper.style.width = parentRef.offsetWidth + \"px\";\n        dropdownWrapper.style.position = \"absolute\";\n        dropdownWrapper.appendChild(menuRef);\n        // append it to the placeholder\n        if (this.placeholderService.hasPlaceholderRef()) {\n            this.placeholderService.appendElement(dropdownWrapper);\n            // or append it directly to the body\n        }\n        else {\n            document.body.appendChild(dropdownWrapper);\n        }\n        this.menuInstance = dropdownWrapper;\n        this.animationFrameSubscription = this.animationFrameService.tick.subscribe(() => {\n            this.positionDropdown(parentRef, dropdownWrapper);\n        });\n        // run one position in sync, so we're less likely to have the view \"jump\" as we focus\n        this.positionDropdown(parentRef, dropdownWrapper);\n        return dropdownWrapper;\n    }\n    /**\n     * Reattach the dropdown menu to the parent container\n     * @param hostRef container to append to\n     */\n    appendToDropdown(hostRef) {\n        // if the instance is already removed don't try and remove it again\n        if (!this.menuInstance) {\n            return;\n        }\n        const instance = this.menuInstance;\n        const menu = instance.firstElementChild;\n        // clean up the instance\n        this.menuInstance = null;\n        menu.style.display = \"none\";\n        hostRef.appendChild(menu);\n        this.animationFrameSubscription.unsubscribe();\n        if (this.placeholderService.hasPlaceholderRef() && this.placeholderService.hasElement(instance)) {\n            this.placeholderService.removeElement(instance);\n        }\n        else if (document.body.contains(instance)) {\n            document.body.removeChild(instance);\n        }\n        return instance;\n    }\n    /**\n     * position an open dropdown relative to the given parentRef\n     */\n    updatePosition(parentRef) {\n        this.positionDropdown(parentRef, this.menuInstance);\n    }\n    ngOnDestroy() {\n        this.animationFrameSubscription.unsubscribe();\n    }\n    positionDropdown(parentRef, menuRef) {\n        if (!menuRef) {\n            return;\n        }\n        let leftOffset = 0;\n        const boxMenu = menuRef.querySelector(\".bx--list-box__menu\");\n        if (boxMenu) {\n            // If the parentRef and boxMenu are in a different left position relative to the\n            // window, the the boxMenu position has already been flipped and a check needs to be done\n            // to see if it needs to stay flipped.\n            if (parentRef.getBoundingClientRect().left !== boxMenu.getBoundingClientRect().left) {\n                // The getBoundingClientRect().right of the boxMenu if it were hypothetically flipped\n                // back into the original position before the flip.\n                const testBoxMenuRightEdgePos = parentRef.getBoundingClientRect().left - boxMenu.getBoundingClientRect().left + boxMenu.getBoundingClientRect().right;\n                if (testBoxMenuRightEdgePos > (window.innerWidth || document.documentElement.clientWidth)) {\n                    leftOffset = parentRef.offsetWidth - boxMenu.offsetWidth;\n                }\n                // If it has not already been flipped, check if it is necessary to flip, ie. if the\n                // boxMenu is outside of the right viewPort.\n            }\n            else if (boxMenu.getBoundingClientRect().right > (window.innerWidth || document.documentElement.clientWidth)) {\n                leftOffset = parentRef.offsetWidth - boxMenu.offsetWidth;\n            }\n        }\n        // If ibm-placeholder has a parent with a position(relative|fixed|absolute) account for the parent offset\n        const closestMenuWithPos = closestAttr(\"position\", [\"relative\", \"fixed\", \"absolute\"], menuRef.parentElement);\n        const topPos = closestMenuWithPos ? closestMenuWithPos.getBoundingClientRect().top * -1 : this.offset.top;\n        const leftPos = closestMenuWithPos ? closestMenuWithPos.getBoundingClientRect().left * -1 : this.offset.left + leftOffset;\n        let pos = position.findAbsolute(parentRef, menuRef, \"bottom\");\n        pos = position.addOffset(pos, topPos, leftPos);\n        position.setElement(menuRef, pos);\n    }\n}\nDropdownService.ɵfac = function DropdownService_Factory(t) { return new (t || DropdownService)(ɵngcc0.ɵɵinject(ɵngcc1.PlaceholderService), ɵngcc0.ɵɵinject(ɵngcc2.AnimationFrameService)); };\nDropdownService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: DropdownService, factory: DropdownService.ɵfac });\n/** @nocollapse */\nDropdownService.ctorParameters = () => [\n    { type: PlaceholderService },\n    { type: AnimationFrameService }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DropdownService, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc1.PlaceholderService }, { type: ɵngcc2.AnimationFrameService }]; }, null); })();\n\n/**\n * Drop-down lists enable users to select one or more items from a list.\n *\n * #### Opening behavior/List DOM placement\n * By default the dropdown will try to figure out the best placement for the dropdown list.\n *\n * If it's not contained within any scrolling elements, it will open inline, if it _is_\n * contained within a scrolling container it will try to open in the body, or an `ibm-placeholder`.\n *\n * To control this behavior you can use the `appendInline` input:\n * - `[appendInline]=\"null\"` is the default (auto detection)\n * - `[appendInline]=\"false\"` will always append to the body/`ibm-placeholder`\n * - `[appendInline]=\"true\"` will always append inline (next to the dropdown button)\n *\n * [See demo](../../?path=/story/components-dropdown--basic)\n *\n * <example-url>../../iframe.html?id=components-dropdown--basic</example-url>\n */\nclass Dropdown {\n    /**\n     * Creates an instance of Dropdown.\n     */\n    constructor(elementRef, i18n, dropdownService, appRef, elementService) {\n        this.elementRef = elementRef;\n        this.i18n = i18n;\n        this.dropdownService = dropdownService;\n        this.appRef = appRef;\n        this.elementService = elementService;\n        this.id = `dropdown-${Dropdown.dropdownCount++}`;\n        /**\n         * Value displayed if no item is selected.\n         */\n        this.placeholder = \"\";\n        /**\n         * The selected value from the `Dropdown`. Can be a string or template.\n         */\n        this.displayValue = \"\";\n        /**\n         * Sets the optional clear button tooltip text.\n         */\n        this.clearText = this.i18n.get().DROPDOWN.CLEAR;\n        /**\n         * Size to render the dropdown field.\n         *\n         * @deprecated since v4\n         */\n        this.size = \"md\";\n        /**\n         * Defines whether or not the `Dropdown` supports selecting multiple items as opposed to single\n         * item selection.\n         */\n        this.type = \"single\";\n        /**\n         * `light` or `dark` dropdown theme\n         */\n        this.theme = \"dark\";\n        /**\n         * Set to `true` to disable the dropdown.\n         */\n        this.disabled = false;\n        /**\n         * Set to `true` for a loading dropdown.\n         */\n        this.skeleton = false;\n        /**\n         * Set to `true` for an inline dropdown.\n         */\n        this.inline = false;\n        /**\n         * Set to `true` for a dropdown without arrow key activation.\n         */\n        this.disableArrowKeys = false;\n        /**\n         * Set to `true` for invalid state.\n         */\n        this.invalid = false;\n        /**\n          * Set to `true` to show a warning (contents set by warningText)\n          */\n        this.warn = false;\n        /**\n         * set to `true` to place the dropdown view inline with the component\n         */\n        this.appendInline = null;\n        /**\n         * Specify feedback (mode) of the selection.\n         * `top`: selected item jumps to top\n         * `fixed`: selected item stays at it's position\n         * `top-after-reopen`: selected item jump to top after reopen dropdown\n         */\n        this.selectionFeedback = \"top-after-reopen\";\n        /**\n         * Accessible label for the button that opens the dropdown list.\n         * Defaults to the `DROPDOWN.OPEN` value from the i18n service.\n         */\n        this.menuButtonLabel = this.i18n.get().DROPDOWN.OPEN;\n        /**\n         * Provides the label for the \"# selected\" text.\n         * Defaults to the `DROPDOWN.SELECTED` value from the i18n service.\n         */\n        this.selectedLabel = this.i18n.get().DROPDOWN.SELECTED;\n        /**\n         * Emits selection events.\n         */\n        this.selected = new EventEmitter();\n        /**\n         * Emits event notifying to other classes that the `Dropdown` has been closed (collapsed).\n         */\n        this.onClose = new EventEmitter();\n        /**\n         * Emits event notifying to other classes that the `Dropdown` has been closed (collapsed).\n         */\n        this.close = new EventEmitter();\n        this.hostClass = true;\n        /**\n         * Set to `true` if the dropdown is closed (not expanded).\n         */\n        this.menuIsClosed = true;\n        /**\n         * controls whether the `drop-up` class is applied\n         */\n        this._dropUp = false;\n        // .bind creates a new function, so we declare the methods below\n        // but .bind them up here\n        this.noop = this._noop.bind(this);\n        this.outsideClick = this._outsideClick.bind(this);\n        this.outsideKey = this._outsideKey.bind(this);\n        this.keyboardNav = this._keyboardNav.bind(this);\n        this.visibilitySubscription = new Subscription();\n        this.onTouchedCallback = this._noop;\n        // primarily used to capture and propagate input to `writeValue` before the content is available\n        this._writtenValue = [];\n        /**\n         * function passed in by `registerOnChange`\n         */\n        this.propagateChange = (_) => { };\n    }\n    /**\n     * Deprecated. Use `itemValueKey` instead.\n     * Specifies the property to be used as the return value to `ngModel`\n     * @deprecated since v4 use itemValueKey instead\n     */\n    set value(newValue) {\n        console.warn(\"Dropdown `value` property has been deprecated. Use `itemValueKey` instead\");\n        this.itemValueKey = newValue;\n    }\n    get value() {\n        return this.itemValueKey;\n    }\n    get writtenValue() {\n        return this._writtenValue;\n    }\n    set writtenValue(val) {\n        if (val && val.length === 0) {\n            this.clearSelected();\n        }\n        this._writtenValue = val;\n    }\n    /**\n     * Updates the `type` property in the `@ContentChild`.\n     * The `type` property specifies whether the `Dropdown` allows single selection or multi selection.\n     */\n    ngOnInit() {\n        if (this.view) {\n            this.view.type = this.type;\n        }\n    }\n    /**\n     * Initializes classes and subscribes to events for single or multi selection.\n     */\n    ngAfterContentInit() {\n        if (!this.view) {\n            return;\n        }\n        if ((this.writtenValue && this.writtenValue.length) || typeof this.writtenValue === \"number\") {\n            this.writeValue(this.writtenValue);\n        }\n        this.view.type = this.type;\n        this.view.size = this.size;\n        // function to check if the event is organic (isUpdate === false) or programmatic\n        const isUpdate = event => event && event.isUpdate;\n        this.view.select.subscribe(event => {\n            if (this.type === \"single\" && !isUpdate(event)) {\n                this.closeMenu();\n                if (event.item && event.item.selected) {\n                    if (this.itemValueKey) {\n                        this.propagateChange(event.item[this.itemValueKey]);\n                    }\n                    else {\n                        this.propagateChange(event.item);\n                    }\n                }\n                else {\n                    this.propagateChange(null);\n                }\n            }\n            if (this.type === \"multi\" && !isUpdate(event)) {\n                // if we have a `value` selector and selected items map them appropriately\n                if (this.itemValueKey && this.view.getSelected()) {\n                    const values = this.view.getSelected().map(item => item[this.itemValueKey]);\n                    this.propagateChange(values);\n                    // otherwise just pass up the values from `getSelected`\n                }\n                else {\n                    this.propagateChange(this.view.getSelected());\n                }\n            }\n            // only emit selected for \"organic\" selections\n            if (!isUpdate(event)) {\n                this.checkForReorder();\n                this.selected.emit(event);\n            }\n            // manually tick the app so the view picks up any changes\n            this.appRef.tick();\n        });\n    }\n    ngAfterViewInit() {\n        // if appendInline is default valued (null) we should:\n        // 1. if there are scrollable parents (not including body) don't append inline\n        //    this should also cover the case where the dropdown is in a modal\n        //    (where we _do_ want to append to the placeholder)\n        if (this.appendInline === null && hasScrollableParents(this.elementRef.nativeElement)) {\n            this.appendInline = false;\n            // 2. otherwise we should append inline\n        }\n        else if (this.appendInline === null) {\n            this.appendInline = true;\n        }\n        this.checkForReorder();\n    }\n    /**\n     * Removing the `Dropdown` from the body if it is appended to the body.\n     */\n    ngOnDestroy() {\n        if (!this.appendInline) {\n            this._appendToDropdown();\n        }\n    }\n    /**\n     * Propagates the injected `value`.\n     */\n    writeValue(value) {\n        // cache the written value so we can use it in `AfterContentInit`\n        this.writtenValue = value;\n        this.view.onItemsReady(() => {\n            // propagate null/falsey as an array (deselect everything)\n            if (!value) {\n                this.view.propagateSelected([value]);\n            }\n            else if (this.type === \"single\") {\n                if (this.itemValueKey) {\n                    // clone the specified item and update its state\n                    const newValue = Object.assign({}, this.view.getListItems().find(item => item[this.itemValueKey] === value));\n                    newValue.selected = true;\n                    this.view.propagateSelected([newValue]);\n                }\n                else {\n                    // pass the singular value as an array of ListItem\n                    this.view.propagateSelected([value]);\n                }\n            }\n            else {\n                if (this.itemValueKey) {\n                    // clone the items and update their state based on the received value array\n                    // this way we don't lose any additional metadata that may be passed in via the `items` Input\n                    let newValues = [];\n                    for (const v of value) {\n                        for (const item of this.view.getListItems()) {\n                            if (item[this.itemValueKey] === v) {\n                                newValues.push(Object.assign({}, item, { selected: true }));\n                            }\n                        }\n                    }\n                    this.view.propagateSelected(newValues);\n                }\n                else {\n                    // we can safely assume we're passing an array of `ListItem`s\n                    this.view.propagateSelected(value);\n                }\n            }\n            this.checkForReorder();\n        });\n    }\n    onBlur() {\n        this.onTouchedCallback();\n    }\n    registerOnChange(fn) {\n        this.propagateChange = fn;\n    }\n    /**\n     * Registering the function injected to control the touch use of the `Dropdown`.\n     */\n    registerOnTouched(fn) {\n        this.onTouchedCallback = fn;\n    }\n    /**\n     * `ControlValueAccessor` method to programmatically disable the dropdown.\n     *\n     * ex: `this.formGroup.get(\"myDropdown\").disable();`\n     *\n     * @param isDisabled `true` to disable the input\n     */\n    setDisabledState(isDisabled) {\n        this.disabled = isDisabled;\n    }\n    /**\n     * Adds keyboard functionality for navigation, selection and closing of the `Dropdown`.\n     */\n    // \"Esc\", \"Spacebar\", \"Down\", and \"Up\" are IE specific values\n    onKeyDown(event) {\n        if ((event.key === \"Escape\" || event.key === \"Esc\") && !this.menuIsClosed) {\n            event.stopImmediatePropagation(); // don't unintentionally close other widgets that listen for Escape\n        }\n        if (event.key === \"Escape\" || event.key === \"Esc\") {\n            event.preventDefault();\n            this.closeMenu();\n            this.dropdownButton.nativeElement.focus();\n        }\n        else if (this.menuIsClosed && (event.key === \" \" || event.key === \"ArrowDown\" || event.key === \"ArrowUp\" ||\n            event.key === \"Spacebar\" || event.key === \"Down\" || event.key === \"Up\")) {\n            if (this.disableArrowKeys && (event.key === \"ArrowDown\" || event.key === \"ArrowUp\" || event.key === \"Down\" || event.key === \"Up\")) {\n                return;\n            }\n            event.preventDefault();\n            this.openMenu();\n        }\n        if (!this.menuIsClosed && event.key === \"Tab\" && this.dropdownMenu.nativeElement.contains(event.target)) {\n            this.closeMenu();\n        }\n        if (!this.menuIsClosed && event.key === \"Tab\" && event.shiftKey) {\n            this.closeMenu();\n        }\n        if (this.type === \"multi\") {\n            return;\n        }\n        if (this.menuIsClosed) {\n            this.closedDropdownNavigation(event);\n        }\n    }\n    closedDropdownNavigation(event) {\n        // \"Down\", and \"Up\" are IE specific values\n        if (event.key === \"ArrowDown\" || event.key === \"Down\") {\n            event.preventDefault();\n            this.view.getCurrentItem().selected = false;\n            let item = this.view.getNextItem();\n            if (item) {\n                item.selected = true;\n            }\n        }\n        else if (event.key === \"ArrowUp\" || event.key === \"Up\") {\n            event.preventDefault();\n            this.view.getCurrentItem().selected = false;\n            let item = this.view.getPrevItem();\n            if (item) {\n                item.selected = true;\n            }\n        }\n    }\n    /**\n     * Returns the display value if there is a selection and displayValue is set,\n     * if there is just a selection the ListItem content property will be returned,\n     * otherwise the placeholder will be returned.\n     */\n    getDisplayStringValue() {\n        if (!this.view) {\n            return;\n        }\n        let selected = this.view.getSelected();\n        if (selected.length && (!this.displayValue || !this.isRenderString())) {\n            if (this.type === \"multi\") {\n                return of(this.placeholder);\n            }\n            else {\n                return of(selected[0].content);\n            }\n        }\n        else if (selected.length && this.isRenderString()) {\n            return of(this.displayValue);\n        }\n        return of(this.placeholder);\n    }\n    isRenderString() {\n        return typeof this.displayValue === \"string\";\n    }\n    getRenderTemplateContext() {\n        if (!this.view) {\n            return;\n        }\n        let selected = this.view.getSelected();\n        if (this.type === \"multi\") {\n            return { items: selected };\n        }\n        else if (selected && selected.length > 0) {\n            return { item: selected[0] }; // this is to be compatible with the dropdown-list template\n        }\n        else {\n            return {};\n        }\n    }\n    getSelectedCount() {\n        if (this.view.getSelected()) {\n            return this.view.getSelected().length;\n        }\n    }\n    clearSelected() {\n        if (this.disabled || this.getSelectedCount() === 0) {\n            return;\n        }\n        for (const item of this.view.getListItems()) {\n            item.selected = false;\n        }\n        this.selected.emit([]);\n        this.propagateChange([]);\n    }\n    /**\n     * Returns `true` if there is a value selected.\n     */\n    valueSelected() {\n        if (this.view.getSelected()) {\n            return true;\n        }\n        return false;\n    }\n    _noop() { }\n    /**\n     * Handles clicks outside of the `Dropdown`.\n     */\n    _outsideClick(event) {\n        if (!this.elementRef.nativeElement.contains(event.target) &&\n            // if we're appendToBody the list isn't within the _elementRef,\n            // so we've got to check if our target is possibly in there too.\n            !this.dropdownMenu.nativeElement.contains(event.target)) {\n            this.closeMenu();\n        }\n    }\n    _outsideKey(event) {\n        if (!this.menuIsClosed && event.key === \"Tab\" && this.dropdownMenu.nativeElement.contains(event.target)) {\n            this.closeMenu();\n        }\n    }\n    /**\n     * Handles keyboard events so users are controlling the `Dropdown` instead of unintentionally controlling outside elements.\n     */\n    _keyboardNav(event) {\n        // \"Esc\" is an IE specific value\n        if ((event.key === \"Escape\" || event.key === \"Esc\") && !this.menuIsClosed) {\n            event.stopImmediatePropagation(); // don't unintentionally close modal if inside of it\n        }\n        if (event.key === \"Escape\" || event.key === \"Esc\") {\n            event.preventDefault();\n            this.closeMenu();\n            this.dropdownButton.nativeElement.focus();\n        }\n        else if (!this.menuIsClosed && event.key === \"Tab\") {\n            // this way focus will start on the next focusable item from the dropdown\n            // not the top of the body!\n            this.dropdownButton.nativeElement.focus();\n            this.dropdownButton.nativeElement.dispatchEvent(new KeyboardEvent(\"keydown\", { bubbles: true, cancelable: true, key: \"Tab\" }));\n            this.closeMenu();\n        }\n    }\n    /**\n     * Creates the `Dropdown` list appending it to the dropdown parent object instead of the body.\n     */\n    _appendToDropdown() {\n        this.dropdownService.appendToDropdown(this.elementRef.nativeElement);\n        this.dropdownMenu.nativeElement.removeEventListener(\"keydown\", this.keyboardNav, true);\n    }\n    /**\n     * Creates the `Dropdown` list as an element that is appended to the DOM body.\n     */\n    _appendToBody() {\n        const lightClass = this.theme === \"light\" ? \" bx--list-box--light\" : \"\";\n        const expandedClass = !this.menuIsClosed ? \" bx--list-box--expanded\" : \"\";\n        this.dropdownService.appendToBody(this.dropdownButton.nativeElement, this.dropdownMenu.nativeElement, `${this.elementRef.nativeElement.className}${lightClass}${expandedClass}`);\n        this.dropdownMenu.nativeElement.addEventListener(\"keydown\", this.keyboardNav, true);\n    }\n    /**\n     * Detects whether or not the `Dropdown` list is visible within all scrollable parents.\n     * This can be overridden by passing in a value to the `dropUp` input.\n     */\n    _shouldDropUp() {\n        // check if dropdownMenu exists first.\n        const menu = this.dropdownMenu && this.dropdownMenu.nativeElement.querySelector(\".bx--list-box__menu\");\n        // check if menu exists first.\n        const menuRect = menu && menu.getBoundingClientRect();\n        if (menu && menuRect) {\n            const scrollableParents = getScrollableParents(menu);\n            return scrollableParents.reduce((shouldDropUp, parent) => {\n                const parentRect = parent.getBoundingClientRect();\n                const isBelowParent = !(menuRect.bottom <= parentRect.bottom);\n                return shouldDropUp || isBelowParent;\n            }, false);\n        }\n        return false;\n    }\n    /**\n     * Expands the dropdown menu in the view.\n     */\n    openMenu() {\n        // prevents the dropdown from opening when list of items is empty\n        if (this.view.getListItems().length === 0) {\n            return;\n        }\n        this._dropUp = false;\n        this.menuIsClosed = false;\n        // move the dropdown list to the body if we're not appending inline\n        // and position it relative to the dropdown wrapper\n        if (!this.appendInline) {\n            const target = this.dropdownButton.nativeElement;\n            const parent = this.elementRef.nativeElement;\n            this.visibilitySubscription = this.elementService\n                .visibility(target, parent)\n                .subscribe(value => {\n                if (!value.visible) {\n                    this.closeMenu();\n                }\n            });\n            this._appendToBody();\n        }\n        // set the dropdown menu to drop up if it's near the bottom of the screen\n        // setTimeout lets us measure after it's visible in the DOM\n        setTimeout(() => {\n            if (this.dropUp === null || this.dropUp === undefined) {\n                this._dropUp = this._shouldDropUp();\n            }\n        }, 0);\n        // we bind noop to document.body.firstElementChild to allow safari to fire events\n        // from document. Then we unbind everything later to keep things light.\n        document.body.firstElementChild.addEventListener(\"click\", this.noop, true);\n        document.body.firstElementChild.addEventListener(\"keydown\", this.noop, true);\n        document.addEventListener(\"click\", this.outsideClick, true);\n        document.addEventListener(\"keydown\", this.outsideKey, true);\n        setTimeout(() => this.view.initFocus(), 0);\n    }\n    /**\n     * Collapsing the dropdown menu and removing unnecessary `EventListeners`.\n     */\n    closeMenu() {\n        // return early if the menu is already closed\n        if (this.menuIsClosed) {\n            return;\n        }\n        this.menuIsClosed = true;\n        this.checkForReorder();\n        this.onClose.emit();\n        this.close.emit();\n        // focus the trigger button when we close ...\n        this.dropdownButton.nativeElement.focus();\n        // remove the conditional once this api is settled and part of abstract-dropdown-view.class\n        if (this.view[\"disableScroll\"]) {\n            this.view[\"disableScroll\"]();\n        }\n        // move the list back in the component on close\n        if (!this.appendInline) {\n            this.visibilitySubscription.unsubscribe();\n            this._appendToDropdown();\n        }\n        document.body.firstElementChild.removeEventListener(\"click\", this.noop, true);\n        document.body.firstElementChild.removeEventListener(\"keydown\", this.noop, true);\n        document.removeEventListener(\"click\", this.outsideClick, true);\n        document.removeEventListener(\"keydown\", this.outsideKey, true);\n    }\n    /**\n     * Controls toggling menu states between open/expanded and closed/collapsed.\n     */\n    toggleMenu() {\n        if (this.menuIsClosed) {\n            this.openMenu();\n        }\n        else {\n            this.closeMenu();\n        }\n    }\n    isTemplate(value) {\n        return value instanceof TemplateRef;\n    }\n    /**\n     * Controls when it's needed to apply the selection feedback\n     */\n    checkForReorder() {\n        const topAfterReopen = this.menuIsClosed && this.selectionFeedback === \"top-after-reopen\";\n        if ((this.type === \"multi\") && (topAfterReopen || this.selectionFeedback === \"top\")) {\n            this.view.reorderSelected();\n        }\n    }\n}\nDropdown.ɵfac = function Dropdown_Factory(t) { return new (t || Dropdown)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.I18n), ɵngcc0.ɵɵdirectiveInject(DropdownService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ApplicationRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.ElementService)); };\nDropdown.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: Dropdown, selectors: [[\"ibm-dropdown\"]], contentQueries: function Dropdown_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, AbstractDropdownView, 7);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.view = _t.first);\n    } }, viewQuery: function Dropdown_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 7);\n        ɵngcc0.ɵɵviewQuery(_c1, 7);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.dropdownButton = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.dropdownMenu = _t.first);\n    } }, hostVars: 2, hostBindings: function Dropdown_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"keydown\", function Dropdown_keydown_HostBindingHandler($event) { return ctx.onKeyDown($event); });\n    } if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"bx--dropdown__wrapper\", ctx.hostClass);\n    } }, inputs: { id: \"id\", placeholder: \"placeholder\", displayValue: \"displayValue\", clearText: \"clearText\", size: \"size\", type: \"type\", theme: \"theme\", disabled: \"disabled\", skeleton: \"skeleton\", inline: \"inline\", disableArrowKeys: \"disableArrowKeys\", invalid: \"invalid\", warn: \"warn\", appendInline: \"appendInline\", selectionFeedback: \"selectionFeedback\", menuButtonLabel: \"menuButtonLabel\", selectedLabel: \"selectedLabel\", value: \"value\", itemValueKey: \"itemValueKey\", label: \"label\", helperText: \"helperText\", invalidText: \"invalidText\", warnText: \"warnText\", scrollableContainer: \"scrollableContainer\", dropUp: \"dropUp\" }, outputs: { selected: \"selected\", onClose: \"onClose\", close: \"close\" }, features: [ɵngcc0.ɵɵProvidersFeature([\n            {\n                provide: NG_VALUE_ACCESSOR,\n                useExisting: Dropdown,\n                multi: true\n            }\n        ])], ngContentSelectors: _c8, decls: 17, vars: 36, consts: [[\"class\", \"bx--label\", 3, \"for\", \"ngClass\", 4, \"ngIf\"], [1, \"bx--list-box\", 3, \"ngClass\"], [\"type\", \"button\", \"aria-haspopup\", \"listbox\", 1, \"bx--list-box__field\", 3, \"id\", \"ngClass\", \"click\", \"blur\"], [\"dropdownButton\", \"\"], [\"class\", \"bx--list-box__selection bx--tag--filter bx--list-box__selection--multi\", \"tabindex\", \"0\", 3, \"title\", \"click\", \"keydown.enter\", 4, \"ngIf\"], [\"class\", \"bx--list-box__label\", 4, \"ngIf\"], [4, \"ngIf\"], [\"class\", \"bx--dropdown__invalid-icon\", \"ibmIcon\", \"warning--filled\", \"size\", \"16\", 4, \"ngIf\"], [\"ibmIcon\", \"warning--alt--filled\", \"size\", \"16\", \"class\", \"bx--list-box__invalid-icon bx--list-box__invalid-icon--warning\", 4, \"ngIf\"], [1, \"bx--list-box__menu-icon\"], [\"ibmIcon\", \"chevron--down\", \"size\", \"16\", 3, \"ngClass\", 4, \"ngIf\"], [3, \"ngClass\"], [\"dropdownMenu\", \"\"], [\"class\", \"bx--form__helper-text\", 3, \"ngClass\", 4, \"ngIf\"], [\"class\", \"bx--form-requirement\", 4, \"ngIf\"], [1, \"bx--label\", 3, \"for\", \"ngClass\"], [3, \"ngTemplateOutlet\"], [\"tabindex\", \"0\", 1, \"bx--list-box__selection\", \"bx--tag--filter\", \"bx--list-box__selection--multi\", 3, \"title\", \"click\", \"keydown.enter\"], [\"focusable\", \"false\", \"preserveAspectRatio\", \"xMidYMid meet\", \"role\", \"img\", \"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"viewBox\", \"0 0 16 16\", \"aria-hidden\", \"true\", 2, \"will-change\", \"transform\"], [\"d\", \"M12 4.7l-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z\"], [1, \"bx--list-box__label\"], [3, \"ngTemplateOutletContext\", \"ngTemplateOutlet\"], [\"ibmIcon\", \"warning--filled\", \"size\", \"16\", 1, \"bx--dropdown__invalid-icon\"], [\"ibmIcon\", \"warning--alt--filled\", \"size\", \"16\", 1, \"bx--list-box__invalid-icon\", \"bx--list-box__invalid-icon--warning\"], [\"ibmIcon\", \"chevron--down\", \"size\", \"16\", 3, \"ngClass\"], [1, \"bx--form__helper-text\", 3, \"ngClass\"], [1, \"bx--form-requirement\"]], template: function Dropdown_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵtemplate(0, Dropdown_label_0_Template, 3, 6, \"label\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1)(2, \"button\", 2, 3);\n        ɵngcc0.ɵɵlistener(\"click\", function Dropdown_Template_button_click_2_listener($event) { return ctx.disabled ? $event.stopPropagation() : ctx.toggleMenu(); })(\"blur\", function Dropdown_Template_button_blur_2_listener() { return ctx.onBlur(); });\n        ɵngcc0.ɵɵtemplate(4, Dropdown_div_4_Template, 4, 2, \"div\", 4);\n        ɵngcc0.ɵɵtemplate(5, Dropdown_span_5_Template, 3, 3, \"span\", 5);\n        ɵngcc0.ɵɵtemplate(6, Dropdown_6_Template, 1, 2, null, 6);\n        ɵngcc0.ɵɵtemplate(7, Dropdown__svg_svg_7_Template, 1, 0, \"svg\", 7);\n        ɵngcc0.ɵɵtemplate(8, Dropdown__svg_svg_8_Template, 1, 0, \"svg\", 8);\n        ɵngcc0.ɵɵelementStart(9, \"span\", 9);\n        ɵngcc0.ɵɵtemplate(10, Dropdown__svg_svg_10_Template, 1, 4, \"svg\", 10);\n        ɵngcc0.ɵɵelementEnd()();\n        ɵngcc0.ɵɵelementStart(11, \"div\", 11, 12);\n        ɵngcc0.ɵɵtemplate(13, Dropdown_ng_content_13_Template, 1, 0, \"ng-content\", 6);\n        ɵngcc0.ɵɵelementEnd()();\n        ɵngcc0.ɵɵtemplate(14, Dropdown_div_14_Template, 3, 5, \"div\", 13);\n        ɵngcc0.ɵɵtemplate(15, Dropdown_div_15_Template, 3, 2, \"div\", 14);\n        ɵngcc0.ɵɵtemplate(16, Dropdown_div_16_Template, 3, 2, \"div\", 14);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.label);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunctionV(18, _c5, [ctx.type !== \"multi\", ctx.type === \"multi\", ctx.type === \"multi\" && ctx.getSelectedCount() > 0, ctx.theme === \"light\", ctx.theme === \"light\", ctx.inline, ctx.skeleton, ctx.disabled, ctx.invalid, ctx.warn, ctx.size === \"xl\", ctx.size === \"sm\", !ctx.menuIsClosed]));\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"id\", ctx.id)(\"ngClass\", ɵngcc0.ɵɵpureFunction1(32, _c6, !ctx.menuIsClosed));\n        ɵngcc0.ɵɵattribute(\"aria-expanded\", !ctx.menuIsClosed)(\"aria-disabled\", ctx.disabled)(\"disabled\", ctx.disabled ? true : null);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.type === \"multi\" && ctx.getSelectedCount() > 0);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.isRenderString());\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.isRenderString());\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.warn && ctx.invalid);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.invalid && ctx.warn);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.skeleton);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(34, _c7, ctx.dropUp !== null && ctx.dropUp !== undefined ? ctx.dropUp : ctx._dropUp));\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.menuIsClosed);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.helperText && !ctx.invalid && !ctx.warn);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.warn && ctx.invalid);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.invalid && ctx.warn);\n    } }, dependencies: [ɵngcc4.NgClass, ɵngcc4.NgIf, ɵngcc4.NgTemplateOutlet, ɵngcc5.IconDirective, ɵngcc4.AsyncPipe], encapsulation: 2 });\nDropdown.dropdownCount = 0;\n/** @nocollapse */\nDropdown.ctorParameters = () => [\n    { type: ElementRef },\n    { type: I18n },\n    { type: DropdownService },\n    { type: ApplicationRef },\n    { type: ElementService }\n];\nDropdown.propDecorators = {\n    id: [{ type: Input }],\n    label: [{ type: Input }],\n    helperText: [{ type: Input }],\n    placeholder: [{ type: Input }],\n    displayValue: [{ type: Input }],\n    clearText: [{ type: Input }],\n    size: [{ type: Input }],\n    type: [{ type: Input }],\n    theme: [{ type: Input }],\n    disabled: [{ type: Input }],\n    skeleton: [{ type: Input }],\n    inline: [{ type: Input }],\n    disableArrowKeys: [{ type: Input }],\n    invalid: [{ type: Input }],\n    invalidText: [{ type: Input }],\n    warn: [{ type: Input }],\n    warnText: [{ type: Input }],\n    appendInline: [{ type: Input }],\n    scrollableContainer: [{ type: Input }],\n    value: [{ type: Input }],\n    itemValueKey: [{ type: Input }],\n    selectionFeedback: [{ type: Input }],\n    menuButtonLabel: [{ type: Input }],\n    selectedLabel: [{ type: Input }],\n    dropUp: [{ type: Input }],\n    selected: [{ type: Output }],\n    onClose: [{ type: Output }],\n    close: [{ type: Output }],\n    view: [{ type: ContentChild, args: [AbstractDropdownView, { static: true },] }],\n    dropdownButton: [{ type: ViewChild, args: [\"dropdownButton\", { static: true },] }],\n    dropdownMenu: [{ type: ViewChild, args: [\"dropdownMenu\", { static: true },] }],\n    hostClass: [{ type: HostBinding, args: [\"class.bx--dropdown__wrapper\",] }],\n    onKeyDown: [{ type: HostListener, args: [\"keydown\", [\"$event\"],] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(Dropdown, [{\n        type: Component,\n        args: [{\n                selector: \"ibm-dropdown\",\n                template: `\n\t<label\n\t\t*ngIf=\"label\"\n\t\t[for]=\"id\"\n\t\tclass=\"bx--label\"\n\t\t[ngClass]=\"{'bx--label--disabled': disabled}\">\n\t\t<ng-container *ngIf=\"!isTemplate(label)\">{{label}}</ng-container>\n\t\t<ng-template *ngIf=\"isTemplate(label)\" [ngTemplateOutlet]=\"label\"></ng-template>\n\t</label>\n\t<div\n\t\tclass=\"bx--list-box\"\n\t\t[ngClass]=\"{\n\t\t\t'bx--dropdown': type !== 'multi',\n\t\t\t'bx--multiselect': type === 'multi',\n\t\t\t'bx--multi-select--selected': type === 'multi' && getSelectedCount() > 0,\n\t\t\t'bx--dropdown--light': theme === 'light',\n\t\t\t'bx--list-box--light': theme === 'light',\n\t\t\t'bx--list-box--inline': inline,\n\t\t\t'bx--skeleton': skeleton,\n\t\t\t'bx--dropdown--disabled bx--list-box--disabled': disabled,\n\t\t\t'bx--dropdown--invalid': invalid,\n\t\t\t'bx--dropdown--warning bx--list-box--warning': warn,\n\t\t\t'bx--dropdown--xl bx--list-box--xl': size === 'xl',\n\t\t\t'bx--dropdown--sm bx--list-box--sm': size === 'sm',\n\t\t\t'bx--list-box--expanded': !menuIsClosed\n\t\t}\">\n\t\t<button\n\t\t\t#dropdownButton\n\t\t\t[id]=\"id\"\n\t\t\ttype=\"button\"\n\t\t\tclass=\"bx--list-box__field\"\n\t\t\t[ngClass]=\"{'a': !menuIsClosed}\"\n\t\t\t[attr.aria-expanded]=\"!menuIsClosed\"\n\t\t\t[attr.aria-disabled]=\"disabled\"\n\t\t\taria-haspopup=\"listbox\"\n\t\t\t(click)=\"disabled ? $event.stopPropagation() : toggleMenu()\"\n\t\t\t(blur)=\"onBlur()\"\n\t\t\t[attr.disabled]=\"disabled ? true : null\">\n\t\t\t<div\n\t\t\t\t(click)=\"clearSelected()\"\n\t\t\t\t(keydown.enter)=\"clearSelected()\"\n\t\t\t\t*ngIf=\"type === 'multi' && getSelectedCount() > 0\"\n\t\t\t\tclass=\"bx--list-box__selection bx--tag--filter bx--list-box__selection--multi\"\n\t\t\t\ttabindex=\"0\"\n\t\t\t\t[title]=\"clearText\">\n\t\t\t\t{{getSelectedCount()}}\n\t\t\t\t<svg\n\t\t\t\t\tfocusable=\"false\"\n\t\t\t\t\tpreserveAspectRatio=\"xMidYMid meet\"\n\t\t\t\t\tstyle=\"will-change: transform;\"\n\t\t\t\t\trole=\"img\"\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\twidth=\"16\"\n\t\t\t\t\theight=\"16\"\n\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\taria-hidden=\"true\">\n\t\t\t\t\t<path d=\"M12 4.7l-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z\"></path>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t\t<span *ngIf=\"isRenderString()\" class=\"bx--list-box__label\">{{getDisplayStringValue() | async}}</span>\n\t\t\t<ng-template\n\t\t\t\t*ngIf=\"!isRenderString()\"\n\t\t\t\t[ngTemplateOutletContext]=\"getRenderTemplateContext()\"\n\t\t\t\t[ngTemplateOutlet]=\"displayValue\">\n\t\t\t</ng-template>\n\t\t\t<svg\n\t\t\t\t*ngIf=\"!warn && invalid\"\n\t\t\t\tclass=\"bx--dropdown__invalid-icon\"\n\t\t\t\tibmIcon=\"warning--filled\"\n\t\t\t\tsize=\"16\">\n\t\t\t</svg>\n\t\t\t<svg\n\t\t\t\t*ngIf=\"!invalid && warn\"\n\t\t\t\tibmIcon=\"warning--alt--filled\"\n\t\t\t\tsize=\"16\"\n\t\t\t\tclass=\"bx--list-box__invalid-icon bx--list-box__invalid-icon--warning\">\n\t\t\t</svg>\n\t\t\t<span class=\"bx--list-box__menu-icon\">\n\t\t\t\t<svg\n\t\t\t\t\t*ngIf=\"!skeleton\"\n\t\t\t\t\tibmIcon=\"chevron--down\"\n\t\t\t\t\tsize=\"16\"\n\t\t\t\t\t[attr.aria-label]=\"menuButtonLabel\"\n\t\t\t\t\t[ngClass]=\"{'bx--list-box__menu-icon--open': !menuIsClosed }\">\n\t\t\t\t</svg>\n\t\t\t</span>\n\t\t</button>\n\t\t<div\n\t\t\t#dropdownMenu\n\t\t\t[ngClass]=\"{\n\t\t\t\t'bx--list-box--up': this.dropUp !== null && this.dropUp !== undefined ? dropUp : _dropUp\n\t\t\t}\">\n\t\t\t<ng-content *ngIf=\"!menuIsClosed\"></ng-content>\n\t\t</div>\n\t</div>\n\t<div\n\t\t*ngIf=\"helperText && !invalid && !warn\"\n\t\tclass=\"bx--form__helper-text\"\n\t\t[ngClass]=\"{'bx--form__helper-text--disabled': disabled}\">\n\t\t<ng-container *ngIf=\"!isTemplate(helperText)\">{{helperText}}</ng-container>\n\t\t<ng-template *ngIf=\"isTemplate(helperText)\" [ngTemplateOutlet]=\"helperText\"></ng-template>\n\t</div>\n\t<div *ngIf=\"!warn && invalid\" class=\"bx--form-requirement\">\n\t\t<ng-container *ngIf=\"!isTemplate(invalidText)\">{{ invalidText }}</ng-container>\n\t\t<ng-template *ngIf=\"isTemplate(invalidText)\" [ngTemplateOutlet]=\"invalidText\"></ng-template>\n\t</div>\n\t<div *ngIf=\"!invalid && warn\" class=\"bx--form-requirement\">\n\t\t<ng-container *ngIf=\"!isTemplate(warnText)\">{{warnText}}</ng-container>\n\t\t<ng-template *ngIf=\"isTemplate(warnText)\" [ngTemplateOutlet]=\"warnText\"></ng-template>\n\t</div>\n\t`,\n                providers: [\n                    {\n                        provide: NG_VALUE_ACCESSOR,\n                        useExisting: Dropdown,\n                        multi: true\n                    }\n                ]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc3.I18n }, { type: DropdownService }, { type: ɵngcc0.ApplicationRef }, { type: ɵngcc2.ElementService }]; }, { id: [{\n            type: Input\n        }], placeholder: [{\n            type: Input\n        }], displayValue: [{\n            type: Input\n        }], clearText: [{\n            type: Input\n        }], size: [{\n            type: Input\n        }], type: [{\n            type: Input\n        }], theme: [{\n            type: Input\n        }], disabled: [{\n            type: Input\n        }], skeleton: [{\n            type: Input\n        }], inline: [{\n            type: Input\n        }], disableArrowKeys: [{\n            type: Input\n        }], invalid: [{\n            type: Input\n        }], warn: [{\n            type: Input\n        }], appendInline: [{\n            type: Input\n        }], selectionFeedback: [{\n            type: Input\n        }], menuButtonLabel: [{\n            type: Input\n        }], selectedLabel: [{\n            type: Input\n        }], selected: [{\n            type: Output\n        }], onClose: [{\n            type: Output\n        }], close: [{\n            type: Output\n        }], hostClass: [{\n            type: HostBinding,\n            args: [\"class.bx--dropdown__wrapper\"]\n        }], value: [{\n            type: Input\n        }], itemValueKey: [{\n            type: Input\n        }], \n    /**\n     * Adds keyboard functionality for navigation, selection and closing of the `Dropdown`.\n     */\n    // \"Esc\", \"Spacebar\", \"Down\", and \"Up\" are IE specific values\n    onKeyDown: [{\n            type: HostListener,\n            args: [\"keydown\", [\"$event\"]]\n        }], label: [{\n            type: Input\n        }], helperText: [{\n            type: Input\n        }], invalidText: [{\n            type: Input\n        }], warnText: [{\n            type: Input\n        }], scrollableContainer: [{\n            type: Input\n        }], dropUp: [{\n            type: Input\n        }], view: [{\n            type: ContentChild,\n            args: [AbstractDropdownView, { static: true }]\n        }], dropdownButton: [{\n            type: ViewChild,\n            args: [\"dropdownButton\", { static: true }]\n        }], dropdownMenu: [{\n            type: ViewChild,\n            args: [\"dropdownMenu\", { static: true }]\n        }] }); })();\n\n/**\n * returns an observable bound to keydown events that\n * filters to a single element where the first letter of\n * it's textContent matches the key pressed\n *\n * @param target element to watch\n * @param elements elements to search\n */\nfunction watchFocusJump(target, elements) {\n    return fromEvent(target, \"keydown\")\n        .pipe(debounceTime(150), map((ev) => {\n        let el = elements.find((itemEl) => itemEl.textContent.trim().toLowerCase().startsWith(ev.key));\n        if (el) {\n            return el;\n        }\n    }), filter(el => !!el));\n}\n\n/**\n * ```html\n * <ibm-dropdown-list [items]=\"listItems\"></ibm-dropdown-list>\n * ```\n * ```typescript\n * listItems = [\n * \t{\n * \t\tcontent: \"item one\",\n * \t\tselected: false\n * \t},\n * \t{\n * \t\tcontent: \"item two\",\n * \t\tselected: false,\n * \t},\n * \t{\n * \t\tcontent: \"item three\",\n * \t\tselected: false\n * \t},\n * \t{\n * \t\tcontent: \"item four\",\n * \t\tselected: false\n * \t}\n * ];\n * ```\n */\nclass DropdownList {\n    /**\n     * Creates an instance of `DropdownList`.\n     */\n    constructor(elementRef, i18n) {\n        this.elementRef = elementRef;\n        this.i18n = i18n;\n        this.ariaLabel = this.i18n.get().DROPDOWN_LIST.LABEL;\n        /**\n         * Template to bind to items in the `DropdownList` (optional).\n         */\n        this.listTpl = null;\n        /**\n         * Event to emit selection of a list item within the `DropdownList`.\n         */\n        this.select = new EventEmitter();\n        /**\n         * Event to emit scroll event of a list within the `DropdownList`.\n         */\n        this.scroll = new EventEmitter();\n        /**\n         * Event to suggest a blur on the view.\n         * Emits _after_ the first/last item has been focused.\n         * ex.\n         * ArrowUp -> focus first item\n         * ArrowUp -> emit event\n         *\n         * When this event fires focus should be placed on some element outside of the list - blurring the list as a result\n         */\n        this.blurIntent = new EventEmitter();\n        /**\n         * Defines whether or not the `DropdownList` supports selecting multiple items as opposed to single\n         * item selection.\n         */\n        this.type = \"single\";\n        /**\n         * Defines whether to show title attribute or not\n         */\n        this.showTitles = true;\n        /**\n         * Defines the rendering size of the `DropdownList` input component.\n         *\n         * @deprecated since v4\n         */\n        this.size = \"md\";\n        this.listId = `listbox-${DropdownList.listCount++}`;\n        this.highlightedItem = null;\n        /**\n         * Holds the list of items that will be displayed in the `DropdownList`.\n         * It differs from the the complete set of items when filtering is used (but\n         * it is always a subset of the total items in `DropdownList`).\n         */\n        this.displayItems = [];\n        /**\n         * Maintains the index for the selected item within the `DropdownList`.\n         */\n        this.index = -1;\n        /**\n         * Useful representation of the items, should be accessed via `getListItems`.\n         */\n        this._items = [];\n    }\n    /**\n     * The list items belonging to the `DropdownList`.\n     */\n    set items(value) {\n        if (isObservable(value)) {\n            if (this._itemsSubscription) {\n                this._itemsSubscription.unsubscribe();\n            }\n            this._itemsReady = new Observable((observer) => {\n                this._itemsSubscription = value.subscribe(v => {\n                    this.updateList(v);\n                    observer.next(true);\n                    observer.complete();\n                });\n            });\n            this.onItemsReady(null);\n        }\n        else {\n            this.updateList(value);\n        }\n        this._originalItems = value;\n    }\n    get items() {\n        return this._originalItems;\n    }\n    /**\n     * Retrieves array of list items and index of the selected item after view has rendered.\n     * Additionally, any Observables for the `DropdownList` are initialized.\n     */\n    ngAfterViewInit() {\n        this.index = this.getListItems().findIndex(item => item.selected);\n        this.setupFocusObservable();\n        setTimeout(() => {\n            this.doEmitSelect(true);\n        });\n    }\n    /**\n     * Removes any Observables on destruction of the component.\n     */\n    ngOnDestroy() {\n        if (this.focusJump) {\n            this.focusJump.unsubscribe();\n        }\n        if (this._itemsSubscription) {\n            this._itemsSubscription.unsubscribe();\n        }\n    }\n    doEmitSelect(isUpdate = true) {\n        if (this.type === \"single\") {\n            this.select.emit({ item: this._items.find(item => item.selected), isUpdate: isUpdate });\n        }\n        else {\n            // abuse javascripts object mutability until we can break the API and switch to\n            // { items: [], isUpdate: true }\n            const selected = this.getSelected() || [];\n            selected[\"isUpdate\"] = isUpdate;\n            this.select.emit(selected);\n        }\n    }\n    getItemId(index) {\n        return `${this.listId}-${index}`;\n    }\n    /**\n     * Updates the displayed list of items and then retrieves the most current properties for the `DropdownList` from the DOM.\n     */\n    updateList(items) {\n        this._items = items.map(item => Object.assign({}, item));\n        this.displayItems = this._items;\n        this.updateIndex();\n        this.setupFocusObservable();\n        setTimeout(() => {\n            if (this.getSelected() !== []) {\n                return;\n            }\n            this.doEmitSelect();\n        });\n    }\n    /**\n     * Filters the items being displayed in the DOM list.\n     */\n    filterBy(query = \"\") {\n        if (query) {\n            this.displayItems = this.getListItems().filter(item => item.content.toLowerCase().includes(query.toLowerCase()));\n        }\n        else {\n            this.displayItems = this.getListItems();\n        }\n        this.updateIndex();\n    }\n    /**\n     * Initializes (or re-initializes) the Observable that handles switching focus to an element based on\n     * key input matching the first letter of the item in the list.\n     */\n    setupFocusObservable() {\n        if (!this.list) {\n            return;\n        }\n        if (this.focusJump) {\n            this.focusJump.unsubscribe();\n        }\n        let elList = Array.from(this.list.nativeElement.querySelectorAll(\"li\"));\n        this.focusJump = watchFocusJump(this.list.nativeElement, elList)\n            .subscribe(el => {\n            el.focus();\n        });\n    }\n    /**\n     * Returns the `ListItem` that is subsequent to the selected item in the `DropdownList`.\n     */\n    getNextItem() {\n        if (this.index < this.displayItems.length - 1) {\n            this.index++;\n        }\n        return this.displayItems[this.index];\n    }\n    /**\n     * Returns `true` if the selected item is not the last item in the `DropdownList`.\n     */\n    hasNextElement() {\n        return this.index < this.displayItems.length - 1 &&\n            (!(this.index === this.displayItems.length - 2) || !this.displayItems[this.index + 1].disabled);\n    }\n    /**\n     * Returns the `HTMLElement` for the item that is subsequent to the selected item.\n     */\n    getNextElement() {\n        if (this.index < this.displayItems.length - 1) {\n            this.index++;\n        }\n        let item = this.displayItems[this.index];\n        if (item.disabled) {\n            return this.getNextElement();\n        }\n        let elemList = this.listElementList ? this.listElementList.toArray() : [];\n        // TODO: update to optional chaining after upgrading typescript\n        // to v3.7+\n        if (elemList[this.index] && elemList[this.index].nativeElement) {\n            return elemList[this.index].nativeElement;\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * Returns the `ListItem` that precedes the selected item within `DropdownList`.\n     */\n    getPrevItem() {\n        if (this.index > 0) {\n            this.index--;\n        }\n        return this.displayItems[this.index];\n    }\n    /**\n     * Returns `true` if the selected item is not the first in the list.\n     */\n    hasPrevElement() {\n        return this.index > 0 && (!(this.index === 1) || !this.displayItems[0].disabled);\n    }\n    /**\n     * Returns the `HTMLElement` for the item that precedes the selected item.\n     */\n    getPrevElement() {\n        if (this.index > 0) {\n            this.index--;\n        }\n        let item = this.displayItems[this.index];\n        if (item.disabled) {\n            return this.getPrevElement();\n        }\n        let elemList = this.listElementList ? this.listElementList.toArray() : [];\n        // TODO: update to optional chaining after upgrading typescript\n        // to v3.7+\n        if (elemList[this.index] && elemList[this.index].nativeElement) {\n            return elemList[this.index].nativeElement;\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * Returns the `ListItem` that is selected within `DropdownList`.\n     */\n    getCurrentItem() {\n        if (this.index < 0) {\n            return this.displayItems[0];\n        }\n        return this.displayItems[this.index];\n    }\n    /**\n     * Returns the `HTMLElement` for the item that is selected within the `DropdownList`.\n     */\n    getCurrentElement() {\n        if (this.index < 0) {\n            return this.listElementList.first.nativeElement;\n        }\n        return this.listElementList.toArray()[this.index].nativeElement;\n    }\n    /**\n     * Returns the items as an Array\n     */\n    getListItems() {\n        return this._items;\n    }\n    /**\n     * Returns a list containing the selected item(s) in the `DropdownList`.\n     */\n    getSelected() {\n        let selected = this.getListItems().filter(item => item.selected);\n        if (selected.length === 0) {\n            return [];\n        }\n        return selected;\n    }\n    /**\n     * Transforms array input list of items to the correct state by updating the selected item(s).\n     */\n    propagateSelected(value) {\n        // if we get a non-array, log out an error (since it is one)\n        if (!Array.isArray(value)) {\n            console.error(`${this.constructor.name}.propagateSelected expects an Array<ListItem>, got ${JSON.stringify(value)}`);\n        }\n        this.onItemsReady(() => {\n            // loop through the list items and update the `selected` state for matching items in `value`\n            for (let oldItem of this.getListItems()) {\n                // copy the item\n                let tempOldItem = Object.assign({}, oldItem);\n                // deleted selected because it's what we _want_ to change\n                delete tempOldItem.selected;\n                // stringify for compare\n                tempOldItem = JSON.stringify(tempOldItem);\n                for (let newItem of value) {\n                    // copy the item\n                    let tempNewItem = Object.assign({}, newItem);\n                    // deleted selected because it's what we _want_ to change\n                    delete tempNewItem.selected;\n                    // stringify for compare\n                    tempNewItem = JSON.stringify(tempNewItem);\n                    // do the compare\n                    if (tempOldItem.includes(tempNewItem)) {\n                        oldItem.selected = newItem.selected;\n                        // if we've found a matching item, we can stop looping\n                        break;\n                    }\n                    else {\n                        oldItem.selected = false;\n                    }\n                }\n            }\n        });\n    }\n    /**\n     * Initializes focus in the list, effectively a wrapper for `getCurrentElement().focus()`\n     */\n    initFocus() {\n        if (this.index < 0) {\n            this.updateIndex();\n        }\n        this.list.nativeElement.focus();\n        setTimeout(() => {\n            this.highlightedItem = this.getItemId(this.index);\n        });\n    }\n    updateIndex() {\n        // initialize index on the first selected item or\n        // on the next non disabled item if no items are selected\n        const selected = this.getSelected();\n        if (selected.length) {\n            this.index = this.displayItems.indexOf(selected[0]);\n        }\n        else if (this.hasNextElement()) {\n            this.getNextElement();\n        }\n    }\n    /**\n     * Manages the keyboard accessibility for navigation and selection within a `DropdownList`.\n     * @deprecated since v4\n     */\n    doKeyDown(event, item) {\n        // \"Spacebar\", \"Down\", and \"Up\" are IE specific values\n        if (event.key === \"Enter\" || event.key === \" \" || event.key === \"Spacebar\") {\n            if (this.listElementList.some(option => option.nativeElement === event.target)) {\n                event.preventDefault();\n            }\n            if (event.key === \"Enter\") {\n                this.doClick(event, item);\n            }\n        }\n        else if (event.key === \"ArrowDown\" || event.key === \"ArrowUp\" || event.key === \"Down\" || event.key === \"Up\") {\n            event.preventDefault();\n            if (event.key === \"ArrowDown\" || event.key === \"Down\") {\n                if (this.hasNextElement()) {\n                    // this.getNextElement().focus();\n                    this.getNextElement();\n                }\n                else {\n                    this.blurIntent.emit(\"bottom\");\n                }\n            }\n            else if (event.key === \"ArrowUp\" || event.key === \"Up\") {\n                if (this.hasPrevElement()) {\n                    // this.getPrevElement().focus();\n                    this.getPrevElement();\n                }\n                else {\n                    this.blurIntent.emit(\"top\");\n                }\n            }\n        }\n    }\n    /**\n     * Manages the keyboard accessibility for navigation and selection within a `DropdownList`.\n     */\n    navigateList(event) {\n        // \"Spacebar\", \"Down\", and \"Up\" are IE specific values\n        if (event.key === \"Enter\" || event.key === \" \" || event.key === \"Spacebar\") {\n            if (this.listElementList.some(option => option.nativeElement === event.target)) {\n                event.preventDefault();\n            }\n            if (event.key === \"Enter\") {\n                this.doClick(event, this.getCurrentItem());\n            }\n        }\n        else if (event.key === \"ArrowDown\" || event.key === \"ArrowUp\" || event.key === \"Down\" || event.key === \"Up\") {\n            event.preventDefault();\n            if (event.key === \"ArrowDown\" || event.key === \"Down\") {\n                if (this.hasNextElement()) {\n                    this.getNextElement();\n                }\n                else {\n                    this.blurIntent.emit(\"bottom\");\n                }\n            }\n            else if (event.key === \"ArrowUp\" || event.key === \"Up\") {\n                if (this.hasPrevElement()) {\n                    this.getPrevElement();\n                }\n                else {\n                    this.blurIntent.emit(\"top\");\n                }\n            }\n            setTimeout(() => {\n                this.highlightedItem = this.getItemId(this.index);\n            });\n        }\n    }\n    /**\n     * Emits the selected item or items after a mouse click event has occurred.\n     */\n    doClick(event, item) {\n        event.preventDefault();\n        if (!item.disabled) {\n            this.list.nativeElement.focus();\n            if (this.type === \"single\") {\n                item.selected = true;\n                // reset the selection\n                for (let otherItem of this.getListItems()) {\n                    if (item !== otherItem) {\n                        otherItem.selected = false;\n                    }\n                }\n            }\n            else {\n                item.selected = !item.selected;\n            }\n            this.index = this.displayItems.indexOf(item);\n            this.highlightedItem = this.getItemId(this.index);\n            this.doEmitSelect(false);\n        }\n    }\n    onItemFocus(index) {\n        const element = this.listElementList.toArray()[index].nativeElement;\n        element.classList.add(\"bx--list-box__menu-item--highlighted\");\n        element.tabIndex = 0;\n    }\n    onItemBlur(index) {\n        const element = this.listElementList.toArray()[index].nativeElement;\n        element.classList.remove(\"bx--list-box__menu-item--highlighted\");\n        element.tabIndex = -1;\n    }\n    /**\n     * Emits the scroll event of the options list\n     */\n    emitScroll(event) {\n        const atTop = event.srcElement.scrollTop === 0;\n        const atBottom = event.srcElement.scrollHeight - event.srcElement.scrollTop === event.srcElement.clientHeight;\n        const customScrollEvent = { atTop, atBottom, event };\n        this.scroll.emit(customScrollEvent);\n    }\n    /**\n     * Subscribe the function passed to an internal observable that will resolve once the items are ready\n     */\n    onItemsReady(subcription) {\n        // this subscription will auto unsubscribe because of the `first()` pipe\n        (this._itemsReady || of(true)).pipe(first()).subscribe(subcription);\n    }\n    reorderSelected(moveFocus = true) {\n        this.displayItems = [...this.getSelected(), ...this.getListItems().filter(item => !item.selected)];\n        if (moveFocus) {\n            setTimeout(() => {\n                this.updateIndex();\n                this.highlightedItem = this.getItemId(this.index);\n            });\n        }\n    }\n}\nDropdownList.ɵfac = function DropdownList_Factory(t) { return new (t || DropdownList)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.I18n)); };\nDropdownList.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: DropdownList, selectors: [[\"ibm-dropdown-list\"]], viewQuery: function DropdownList_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c9, 7);\n        ɵngcc0.ɵɵviewQuery(_c10, 5);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.list = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.listElementList = _t);\n    } }, inputs: { ariaLabel: \"ariaLabel\", listTpl: \"listTpl\", type: \"type\", showTitles: \"showTitles\", items: \"items\" }, outputs: { select: \"select\", scroll: \"scroll\", blurIntent: \"blurIntent\" }, features: [ɵngcc0.ɵɵProvidersFeature([\n            {\n                provide: AbstractDropdownView,\n                useExisting: DropdownList\n            }\n        ])], decls: 3, vars: 3, consts: [[\"role\", \"listbox\", \"tabindex\", \"-1\", 1, \"bx--list-box__menu\", \"bx--multi-select\", 3, \"scroll\", \"keydown\"], [\"list\", \"\"], [\"role\", \"option\", \"class\", \"bx--list-box__menu-item\", 3, \"id\", \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"role\", \"option\", 1, \"bx--list-box__menu-item\", 3, \"id\", \"ngClass\", \"click\"], [\"tabindex\", \"-1\", 1, \"bx--list-box__menu-item__option\"], [\"listItem\", \"\"], [\"class\", \"bx--form-item bx--checkbox-wrapper\", 4, \"ngIf\"], [4, \"ngIf\"], [\"ibmIcon\", \"checkmark\", \"size\", \"16\", \"class\", \"bx--list-box__menu-item__selected-icon\", 4, \"ngIf\"], [1, \"bx--form-item\", \"bx--checkbox-wrapper\"], [1, \"bx--checkbox-label\"], [\"type\", \"checkbox\", \"tabindex\", \"-1\", 1, \"bx--checkbox\", 3, \"checked\", \"disabled\"], [1, \"bx--checkbox-appearance\"], [1, \"bx--checkbox-label-text\"], [\"ibmIcon\", \"checkmark\", \"size\", \"16\", 1, \"bx--list-box__menu-item__selected-icon\"], [3, \"ngTemplateOutletContext\", \"ngTemplateOutlet\"]], template: function DropdownList_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"ul\", 0, 1);\n        ɵngcc0.ɵɵlistener(\"scroll\", function DropdownList_Template_ul_scroll_0_listener($event) { return ctx.emitScroll($event); })(\"keydown\", function DropdownList_Template_ul_keydown_0_listener($event) { return ctx.navigateList($event); });\n        ɵngcc0.ɵɵtemplate(2, DropdownList_li_2_Template, 7, 12, \"li\", 2);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"aria-label\", ctx.ariaLabel)(\"aria-activedescendant\", ctx.highlightedItem);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.displayItems);\n    } }, dependencies: [ɵngcc4.NgClass, ɵngcc4.NgForOf, ɵngcc4.NgIf, ɵngcc4.NgTemplateOutlet, ɵngcc5.IconDirective], encapsulation: 2 });\nDropdownList.listCount = 0;\n/** @nocollapse */\nDropdownList.ctorParameters = () => [\n    { type: ElementRef },\n    { type: I18n }\n];\nDropdownList.propDecorators = {\n    ariaLabel: [{ type: Input }],\n    items: [{ type: Input }],\n    listTpl: [{ type: Input }],\n    select: [{ type: Output }],\n    scroll: [{ type: Output }],\n    blurIntent: [{ type: Output }],\n    list: [{ type: ViewChild, args: [\"list\", { static: true },] }],\n    type: [{ type: Input }],\n    showTitles: [{ type: Input }],\n    listElementList: [{ type: ViewChildren, args: [\"listItem\",] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DropdownList, [{\n        type: Component,\n        args: [{\n                selector: \"ibm-dropdown-list\",\n                template: `\n\t\t<ul\n\t\t\t#list\n\t\t\trole=\"listbox\"\n\t\t\tclass=\"bx--list-box__menu bx--multi-select\"\n\t\t\t(scroll)=\"emitScroll($event)\"\n\t\t\t(keydown)=\"navigateList($event)\"\n\t\t\ttabindex=\"-1\"\n\t\t\t[attr.aria-label]=\"ariaLabel\"\n\t\t\t[attr.aria-activedescendant]=\"highlightedItem\">\n\t\t\t<li\n\t\t\t\trole=\"option\"\n\t\t\t\t*ngFor=\"let item of displayItems; let i = index\"\n\t\t\t\t(click)=\"doClick($event, item)\"\n\t\t\t\tclass=\"bx--list-box__menu-item\"\n\t\t\t\t[attr.aria-selected]=\"item.selected\"\n\t\t\t\t[id]=\"getItemId(i)\"\n\t\t\t\t[attr.title]=\" showTitles ? item.content : null\"\n\t\t\t\t[ngClass]=\"{\n\t\t\t\t\t'bx--list-box__menu-item--active': item.selected,\n\t\t\t\t\t'bx--list-box__menu-item--highlighted': highlightedItem === getItemId(i),\n\t\t\t\t\tdisabled: item.disabled\n\t\t\t\t}\">\n\t\t\t\t<div\n\t\t\t\t\t#listItem\n\t\t\t\t\ttabindex=\"-1\"\n\t\t\t\t\tclass=\"bx--list-box__menu-item__option\">\n\t\t\t\t\t<div\n\t\t\t\t\t\t*ngIf=\"!listTpl && type === 'multi'\"\n\t\t\t\t\t\tclass=\"bx--form-item bx--checkbox-wrapper\">\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t[attr.data-contained-checkbox-state]=\"item.selected\"\n\t\t\t\t\t\t\tclass=\"bx--checkbox-label\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"bx--checkbox\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t[checked]=\"item.selected\"\n\t\t\t\t\t\t\t\t[disabled]=\"item.disabled\"\n\t\t\t\t\t\t\t\ttabindex=\"-1\">\n\t\t\t\t\t\t\t<span class=\"bx--checkbox-appearance\"></span>\n\t\t\t\t\t\t\t<span class=\"bx--checkbox-label-text\">{{item.content}}</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ng-container *ngIf=\"!listTpl && type === 'single'\">{{item.content}}</ng-container>\n\t\t\t\t\t<svg\n\t\t\t\t\t\t*ngIf=\"!listTpl && type === 'single'\"\n\t\t\t\t\t\tibmIcon=\"checkmark\"\n\t\t\t\t\t\tsize=\"16\"\n\t\t\t\t\t\tclass=\"bx--list-box__menu-item__selected-icon\">\n\t\t\t\t\t</svg>\n\t\t\t\t\t<ng-template\n\t\t\t\t\t\t*ngIf=\"listTpl\"\n\t\t\t\t\t\t[ngTemplateOutletContext]=\"{item: item}\"\n\t\t\t\t\t\t[ngTemplateOutlet]=\"listTpl\">\n\t\t\t\t\t</ng-template>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>`,\n                providers: [\n                    {\n                        provide: AbstractDropdownView,\n                        useExisting: DropdownList\n                    }\n                ]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc3.I18n }]; }, { ariaLabel: [{\n            type: Input\n        }], listTpl: [{\n            type: Input\n        }], select: [{\n            type: Output\n        }], scroll: [{\n            type: Output\n        }], blurIntent: [{\n            type: Output\n        }], type: [{\n            type: Input\n        }], showTitles: [{\n            type: Input\n        }], items: [{\n            type: Input\n        }], list: [{\n            type: ViewChild,\n            args: [\"list\", { static: true }]\n        }], listElementList: [{\n            type: ViewChildren,\n            args: [\"listItem\"]\n        }] }); })();\n\nclass ScrollableList {\n    constructor(elementRef) {\n        this.elementRef = elementRef;\n        /**\n         * Optional target list to scroll\n         */\n        this.nScrollableList = null;\n        /**\n         * Enables or disables scrolling for the whole directive\n         */\n        this.scrollEnabled = true;\n        /**\n         * How many lines to scroll by each time `wheel` fires\n         * Defaults to 10 - based on testing this isn't too fast or slow on any platform\n         */\n        this.scrollBy = 10;\n        this.canScrollUp = false;\n        this.canScrollDown = false;\n        this.list = this.elementRef.nativeElement;\n    }\n    ngOnChanges(changes) {\n        if (changes.scrollEnabled) {\n            if (changes.scrollEnabled.currentValue) {\n                this.list.style.overflow = \"hidden\";\n                this.scrollUpTarget.style.display = \"flex\";\n                this.scrollDownTarget.style.display = \"flex\";\n                this.canScrollUp = true;\n                this.canScrollDown = true;\n                this.updateScrollHeight();\n                this.checkScrollArrows();\n                setTimeout(() => {\n                    this.checkScrollArrows();\n                });\n            }\n            else {\n                this.scrollUpTarget.style.display = \"none\";\n                this.scrollDownTarget.style.display = \"none\";\n                this.canScrollUp = false;\n                this.canScrollDown = false;\n                this.list.style.height = null;\n                this.list.style.overflow = null;\n                clearInterval(this.hoverScrollInterval);\n            }\n        }\n    }\n    ngAfterViewInit() {\n        if (this.nScrollableList) {\n            this.list = this.elementRef.nativeElement.querySelector(this.nScrollableList);\n        }\n        this.scrollUpTarget.addEventListener(\"mouseover\", () => this.onHoverUp(true));\n        this.scrollUpTarget.addEventListener(\"mouseout\", () => this.onHoverUp(false));\n        this.scrollDownTarget.addEventListener(\"mouseover\", () => this.onHoverDown(true));\n        this.scrollDownTarget.addEventListener(\"mouseout\", () => this.onHoverDown(false));\n    }\n    updateScrollHeight() {\n        if (this.scrollEnabled) {\n            const container = this.elementRef.nativeElement.parentElement;\n            const containerRect = container.getBoundingClientRect();\n            const innerHeightDiff = this.list.getBoundingClientRect().top - containerRect.top;\n            const outerHeightDiff = containerRect.height - (containerRect.bottom - window.innerHeight);\n            // 40 gives us some padding between the bottom of the list,\n            // the bottom of the window, and the scroll down button\n            const height = outerHeightDiff - innerHeightDiff - 40;\n            this.list.style.height = `${height}px`;\n        }\n    }\n    checkScrollArrows() {\n        const scrollUpHeight = this.scrollUpTarget.offsetHeight;\n        const scrollDownHeight = this.scrollDownTarget.offsetHeight;\n        if (this.list.scrollTop === 0) {\n            if (this.canScrollUp) {\n                this.list.style.height = `${parseInt(this.list.style.height, 10) + scrollUpHeight}px`;\n            }\n            this.scrollUpTarget.style.display = \"none\";\n            this.canScrollUp = false;\n        }\n        else if (this.list.scrollTop === this.list.scrollTopMax) {\n            if (this.canScrollDown) {\n                this.list.style.height = `${parseInt(this.list.style.height, 10) + scrollDownHeight}px`;\n            }\n            this.scrollDownTarget.style.display = \"none\";\n            this.canScrollDown = false;\n        }\n        else {\n            if (!this.canScrollUp) {\n                this.list.style.height = `${parseInt(this.list.style.height, 10) - scrollUpHeight}px`;\n            }\n            if (!this.canScrollDown) {\n                this.list.style.height = `${parseInt(this.list.style.height, 10) - scrollDownHeight}px`;\n            }\n            this.scrollUpTarget.style.display = \"flex\";\n            this.scrollDownTarget.style.display = \"flex\";\n            this.canScrollUp = true;\n            this.canScrollDown = true;\n        }\n    }\n    onWheel(event) {\n        if (event.deltaY < 0) {\n            this.list.scrollTop -= this.scrollBy;\n        }\n        else {\n            this.list.scrollTop += this.scrollBy;\n        }\n        // only prevent the parent/window from scrolling if we can scroll\n        if (!(this.list.scrollTop === this.list.scrollTopMax || this.list.scrollTop === 0)) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n        this.checkScrollArrows();\n    }\n    onTouchStart(event) {\n        if (event.touches[0]) {\n            this.lastTouch = event.touches[0].clientY;\n        }\n    }\n    onTouchMove(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if (event.touches[0]) {\n            const touch = event.touches[0];\n            this.list.scrollTop += this.lastTouch - touch.clientY;\n            this.lastTouch = touch.clientY;\n            this.checkScrollArrows();\n        }\n    }\n    hoverScrollBy(hovering, amount) {\n        if (hovering) {\n            this.hoverScrollInterval = setInterval(() => {\n                this.list.scrollTop += amount;\n                this.checkScrollArrows();\n            }, 1);\n        }\n        else {\n            clearInterval(this.hoverScrollInterval);\n        }\n    }\n    onHoverUp(hovering) {\n        // how many px/lines to scroll by on hover\n        // 3 is just a random number that felt good\n        // 1 and 2 are too slow, 4 works but it might be a tad fast\n        this.hoverScrollBy(hovering, -3);\n    }\n    onHoverDown(hovering) {\n        this.hoverScrollBy(hovering, 3);\n    }\n    onKeyDown(event) {\n        if (event.key === \"ArrowDown\" || event.key === \"ArrowUp\") {\n            this.checkScrollArrows();\n        }\n    }\n}\nScrollableList.ɵfac = function ScrollableList_Factory(t) { return new (t || ScrollableList)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nScrollableList.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: ScrollableList, selectors: [[\"\", \"ibmScrollableList\", \"\"]], hostBindings: function ScrollableList_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"wheel\", function ScrollableList_wheel_HostBindingHandler($event) { return ctx.onWheel($event); })(\"touchstart\", function ScrollableList_touchstart_HostBindingHandler($event) { return ctx.onTouchStart($event); })(\"touchmove\", function ScrollableList_touchmove_HostBindingHandler($event) { return ctx.onTouchMove($event); })(\"keydown\", function ScrollableList_keydown_HostBindingHandler($event) { return ctx.onKeyDown($event); });\n    } }, inputs: { nScrollableList: \"nScrollableList\", scrollEnabled: \"scrollEnabled\", scrollBy: \"scrollBy\", scrollUpTarget: \"scrollUpTarget\", scrollDownTarget: \"scrollDownTarget\" }, exportAs: [\"scrollable-list\"], features: [ɵngcc0.ɵɵNgOnChangesFeature] });\n/** @nocollapse */\nScrollableList.ctorParameters = () => [\n    { type: ElementRef }\n];\nScrollableList.propDecorators = {\n    nScrollableList: [{ type: Input }],\n    scrollEnabled: [{ type: Input }],\n    scrollUpTarget: [{ type: Input }],\n    scrollDownTarget: [{ type: Input }],\n    scrollBy: [{ type: Input }],\n    onWheel: [{ type: HostListener, args: [\"wheel\", [\"$event\"],] }],\n    onTouchStart: [{ type: HostListener, args: [\"touchstart\", [\"$event\"],] }],\n    onTouchMove: [{ type: HostListener, args: [\"touchmove\", [\"$event\"],] }],\n    onKeyDown: [{ type: HostListener, args: [\"keydown\", [\"$event\"],] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ScrollableList, [{\n        type: Directive,\n        args: [{\n                selector: \"[ibmScrollableList]\",\n                exportAs: \"scrollable-list\"\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { nScrollableList: [{\n            type: Input\n        }], scrollEnabled: [{\n            type: Input\n        }], scrollBy: [{\n            type: Input\n        }], onWheel: [{\n            type: HostListener,\n            args: [\"wheel\", [\"$event\"]]\n        }], onTouchStart: [{\n            type: HostListener,\n            args: [\"touchstart\", [\"$event\"]]\n        }], onTouchMove: [{\n            type: HostListener,\n            args: [\"touchmove\", [\"$event\"]]\n        }], onKeyDown: [{\n            type: HostListener,\n            args: [\"keydown\", [\"$event\"]]\n        }], scrollUpTarget: [{\n            type: Input\n        }], scrollDownTarget: [{\n            type: Input\n        }] }); })();\n\nclass DropdownModule {\n}\nDropdownModule.ɵfac = function DropdownModule_Factory(t) { return new (t || DropdownModule)(); };\nDropdownModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: DropdownModule });\nDropdownModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ providers: [DropdownService], imports: [CommonModule,\n        FormsModule,\n        I18nModule,\n        PlaceholderModule,\n        UtilsModule,\n        IconModule] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DropdownModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    Dropdown,\n                    DropdownList,\n                    ScrollableList,\n                    AbstractDropdownView\n                ],\n                exports: [\n                    Dropdown,\n                    DropdownList,\n                    ScrollableList,\n                    AbstractDropdownView\n                ],\n                imports: [\n                    CommonModule,\n                    FormsModule,\n                    I18nModule,\n                    PlaceholderModule,\n                    UtilsModule,\n                    IconModule\n                ],\n                providers: [DropdownService]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(DropdownModule, { declarations: function () { return [Dropdown, DropdownList, ScrollableList, AbstractDropdownView]; }, imports: function () { return [CommonModule,\n        FormsModule,\n        I18nModule,\n        PlaceholderModule,\n        UtilsModule,\n        IconModule]; }, exports: function () { return [Dropdown, DropdownList, ScrollableList, AbstractDropdownView]; } }); })();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { Dropdown, DropdownList, ScrollableList, AbstractDropdownView, DropdownService, DropdownModule };\n\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,SAASA,QAAT,QAAyB,wBAAzB;AACA,SAASC,YAAT,EAAuBC,EAAvB,EAA2BC,SAA3B,EAAsCC,UAAtC,EAAkDC,YAAlD,QAAsE,MAAtE;AACA,SAASC,YAAT,EAAuBC,GAAvB,EAA4BC,MAA5B,EAAoCC,KAApC,QAAiD,gBAAjD;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,YAAxB,EAAsCC,SAAtC,EAAiDC,UAAjD,EAA6DC,SAA7D,EAAwEC,UAAxE,EAAoFC,YAApF,EAAkGC,SAAlG,EAA6GC,YAA7G,EAA2HC,WAA3H,EAAwIC,WAAxI,EAAqJC,cAArJ,EAAqKC,YAArK,EAAmLC,QAAnL,QAAmM,eAAnM;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,iBAAT,EAA4BC,WAA5B,QAA+C,gBAA/C;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,gCAAjC;AACA,SAASC,kBAAT,EAA6BC,iBAA7B,QAAsD,uCAAtD;AACA,SAASC,qBAAT,EAAgCC,WAAhC,EAA6CC,cAA7C,EAA6DC,oBAA7D,EAAmFC,oBAAnF,EAAyGC,WAAzG,QAA4H,iCAA5H;AACA,SAASC,UAAT,QAA2B,gCAA3B;AAEA;AACA;AACA;AACA;AACA;;AACA,OAAO,KAAKC,MAAZ,MAAwB,eAAxB;AACA,OAAO,KAAKC,MAAZ,MAAwB,uCAAxB;AACA,OAAO,KAAKC,MAAZ,MAAwB,iCAAxB;AACA,OAAO,KAAKC,MAAZ,MAAwB,gCAAxB;AACA,OAAO,KAAKC,MAAZ,MAAwB,iBAAxB;AACA,OAAO,KAAKC,MAAZ,MAAwB,gCAAxB;AAEA,MAAMC,GAAG,GAAG,CAAC,gBAAD,CAAZ;AACA,MAAMC,GAAG,GAAG,CAAC,cAAD,CAAZ;;AACA,SAASC,wCAAT,CAAkDC,EAAlD,EAAsDC,GAAtD,EAA2D;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACrET,MAAM,CAACW,uBAAP,CAA+B,CAA/B;IACAX,MAAM,CAACY,MAAP,CAAc,CAAd;IACAZ,MAAM,CAACa,qBAAP;EACH;;EAAC,IAAIJ,EAAE,GAAG,CAAT,EAAY;IACV,MAAMK,OAAO,GAAGd,MAAM,CAACe,aAAP,CAAqB,CAArB,CAAhB;IACAf,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACiB,iBAAP,CAAyBH,OAAO,CAACI,KAAjC;EACH;AAAE;;AACH,SAASC,yCAAT,CAAmDV,EAAnD,EAAuDC,GAAvD,EAA4D,CAAG;;AAC/D,SAASU,2BAAT,CAAqCX,EAArC,EAAyCC,GAAzC,EAA8C;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACxDT,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBF,yCAArB,EAAgE,CAAhE,EAAmE,CAAnE,EAAsE,aAAtE,EAAqF,EAArF;EACH;;EAAC,IAAIV,EAAE,GAAG,CAAT,EAAY;IACV,MAAMa,OAAO,GAAGtB,MAAM,CAACe,aAAP,CAAqB,CAArB,CAAhB;IACAf,MAAM,CAACuB,UAAP,CAAkB,kBAAlB,EAAsCD,OAAO,CAACJ,KAA9C;EACH;AAAE;;AACH,MAAMM,GAAG,GAAG,UAAUC,EAAV,EAAc;EAAE,OAAO;IAAE,uBAAuBA;EAAzB,CAAP;AAAuC,CAAnE;;AACA,SAASC,yBAAT,CAAmCjB,EAAnC,EAAuCC,GAAvC,EAA4C;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACtDT,MAAM,CAAC2B,cAAP,CAAsB,CAAtB,EAAyB,OAAzB,EAAkC,EAAlC;IACA3B,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBb,wCAArB,EAA+D,CAA/D,EAAkE,CAAlE,EAAqE,cAArE,EAAqF,CAArF;IACAR,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBD,2BAArB,EAAkD,CAAlD,EAAqD,CAArD,EAAwD,IAAxD,EAA8D,CAA9D;IACApB,MAAM,CAAC4B,YAAP;EACH;;EAAC,IAAInB,EAAE,GAAG,CAAT,EAAY;IACV,MAAMoB,MAAM,GAAG7B,MAAM,CAACe,aAAP,EAAf;IACAf,MAAM,CAACuB,UAAP,CAAkB,KAAlB,EAAyBM,MAAM,CAACC,EAAhC,EAAoC,SAApC,EAA+C9B,MAAM,CAAC+B,eAAP,CAAuB,CAAvB,EAA0BP,GAA1B,EAA+BK,MAAM,CAACG,QAAtC,CAA/C;IACAhC,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0B,CAACM,MAAM,CAACI,UAAP,CAAkBJ,MAAM,CAACX,KAAzB,CAA3B;IACAlB,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0BM,MAAM,CAACI,UAAP,CAAkBJ,MAAM,CAACX,KAAzB,CAA1B;EACH;AAAE;;AACH,SAASgB,uBAAT,CAAiCzB,EAAjC,EAAqCC,GAArC,EAA0C;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACpD,MAAM0B,IAAI,GAAGnC,MAAM,CAACoC,gBAAP,EAAb;;IACApC,MAAM,CAAC2B,cAAP,CAAsB,CAAtB,EAAyB,KAAzB,EAAgC,EAAhC;IACA3B,MAAM,CAACqC,UAAP,CAAkB,OAAlB,EAA2B,SAASC,4CAAT,GAAwD;MAAEtC,MAAM,CAACuC,aAAP,CAAqBJ,IAArB;MAA4B,MAAMK,OAAO,GAAGxC,MAAM,CAACe,aAAP,EAAhB;MAAwC,OAAOf,MAAM,CAACyC,WAAP,CAAmBD,OAAO,CAACE,aAAR,EAAnB,CAAP;IAAqD,CAA9M,EAAgN,eAAhN,EAAiO,SAASC,oDAAT,GAAgE;MAAE3C,MAAM,CAACuC,aAAP,CAAqBJ,IAArB;MAA4B,MAAMS,OAAO,GAAG5C,MAAM,CAACe,aAAP,EAAhB;MAAwC,OAAOf,MAAM,CAACyC,WAAP,CAAmBG,OAAO,CAACF,aAAR,EAAnB,CAAP;IAAqD,CAA5Z;IACA1C,MAAM,CAACY,MAAP,CAAc,CAAd;IACAZ,MAAM,CAAC6C,cAAP;IACA7C,MAAM,CAAC2B,cAAP,CAAsB,CAAtB,EAAyB,KAAzB,EAAgC,EAAhC;IACA3B,MAAM,CAAC8C,SAAP,CAAiB,CAAjB,EAAoB,MAApB,EAA4B,EAA5B;IACA9C,MAAM,CAAC4B,YAAP;EACH;;EAAC,IAAInB,EAAE,GAAG,CAAT,EAAY;IACV,MAAMsC,MAAM,GAAG/C,MAAM,CAACe,aAAP,EAAf;IACAf,MAAM,CAACuB,UAAP,CAAkB,OAAlB,EAA2BwB,MAAM,CAACC,SAAlC;IACAhD,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACiD,kBAAP,CAA0B,GAA1B,EAA+BF,MAAM,CAACG,gBAAP,EAA/B,EAA0D,GAA1D;EACH;AAAE;;AACH,SAASC,wBAAT,CAAkC1C,EAAlC,EAAsCC,GAAtC,EAA2C;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACrDT,MAAM,CAAC2B,cAAP,CAAsB,CAAtB,EAAyB,MAAzB,EAAiC,EAAjC;IACA3B,MAAM,CAACY,MAAP,CAAc,CAAd;IACAZ,MAAM,CAACoD,MAAP,CAAc,CAAd,EAAiB,OAAjB;IACApD,MAAM,CAAC4B,YAAP;EACH;;EAAC,IAAInB,EAAE,GAAG,CAAT,EAAY;IACV,MAAM4C,MAAM,GAAGrD,MAAM,CAACe,aAAP,EAAf;IACAf,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACiB,iBAAP,CAAyBjB,MAAM,CAACsD,WAAP,CAAmB,CAAnB,EAAsB,CAAtB,EAAyBD,MAAM,CAACE,qBAAP,EAAzB,CAAzB;EACH;AAAE;;AACH,SAASC,iCAAT,CAA2C/C,EAA3C,EAA+CC,GAA/C,EAAoD,CAAG;;AACvD,SAAS+C,mBAAT,CAA6BhD,EAA7B,EAAiCC,GAAjC,EAAsC;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IAChDT,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBmC,iCAArB,EAAwD,CAAxD,EAA2D,CAA3D,EAA8D,aAA9D,EAA6E,EAA7E;EACH;;EAAC,IAAI/C,EAAE,GAAG,CAAT,EAAY;IACV,MAAMiD,MAAM,GAAG1D,MAAM,CAACe,aAAP,EAAf;IACAf,MAAM,CAACuB,UAAP,CAAkB,yBAAlB,EAA6CmC,MAAM,CAACC,wBAAP,EAA7C,EAAgF,kBAAhF,EAAoGD,MAAM,CAACE,YAA3G;EACH;AAAE;;AACH,SAASC,4BAAT,CAAsCpD,EAAtC,EAA0CC,GAA1C,EAA+C;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACzDT,MAAM,CAAC6C,cAAP;IACA7C,MAAM,CAAC8C,SAAP,CAAiB,CAAjB,EAAoB,KAApB,EAA2B,EAA3B;EACH;AAAE;;AACH,SAASgB,4BAAT,CAAsCrD,EAAtC,EAA0CC,GAA1C,EAA+C;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACzDT,MAAM,CAAC6C,cAAP;IACA7C,MAAM,CAAC8C,SAAP,CAAiB,CAAjB,EAAoB,KAApB,EAA2B,EAA3B;EACH;AAAE;;AACH,MAAMiB,GAAG,GAAG,UAAUtC,EAAV,EAAc;EAAE,OAAO;IAAE,iCAAiCA;EAAnC,CAAP;AAAiD,CAA7E;;AACA,SAASuC,6BAAT,CAAuCvD,EAAvC,EAA2CC,GAA3C,EAAgD;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IAC1DT,MAAM,CAAC6C,cAAP;IACA7C,MAAM,CAAC8C,SAAP,CAAiB,CAAjB,EAAoB,KAApB,EAA2B,EAA3B;EACH;;EAAC,IAAIrC,EAAE,GAAG,CAAT,EAAY;IACV,MAAMwD,MAAM,GAAGjE,MAAM,CAACe,aAAP,EAAf;IACAf,MAAM,CAACuB,UAAP,CAAkB,SAAlB,EAA6BvB,MAAM,CAAC+B,eAAP,CAAuB,CAAvB,EAA0BgC,GAA1B,EAA+B,CAACE,MAAM,CAACC,YAAvC,CAA7B;IACAlE,MAAM,CAACmE,WAAP,CAAmB,YAAnB,EAAiCF,MAAM,CAACG,eAAxC;EACH;AAAE;;AACH,SAASC,+BAAT,CAAyC5D,EAAzC,EAA6CC,GAA7C,EAAkD;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IAC5DT,MAAM,CAACsE,YAAP,CAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAAC,OAAD,EAAU,eAAV,CAA1B;EACH;AAAE;;AACH,SAASC,uCAAT,CAAiD9D,EAAjD,EAAqDC,GAArD,EAA0D;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACpET,MAAM,CAACW,uBAAP,CAA+B,CAA/B;IACAX,MAAM,CAACY,MAAP,CAAc,CAAd;IACAZ,MAAM,CAACa,qBAAP;EACH;;EAAC,IAAIJ,EAAE,GAAG,CAAT,EAAY;IACV,MAAM+D,OAAO,GAAGxE,MAAM,CAACe,aAAP,CAAqB,CAArB,CAAhB;IACAf,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACiB,iBAAP,CAAyBuD,OAAO,CAACC,UAAjC;EACH;AAAE;;AACH,SAASC,wCAAT,CAAkDjE,EAAlD,EAAsDC,GAAtD,EAA2D,CAAG;;AAC9D,SAASiE,0BAAT,CAAoClE,EAApC,EAAwCC,GAAxC,EAA6C;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACvDT,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBqD,wCAArB,EAA+D,CAA/D,EAAkE,CAAlE,EAAqE,aAArE,EAAoF,EAApF;EACH;;EAAC,IAAIjE,EAAE,GAAG,CAAT,EAAY;IACV,MAAMmE,OAAO,GAAG5E,MAAM,CAACe,aAAP,CAAqB,CAArB,CAAhB;IACAf,MAAM,CAACuB,UAAP,CAAkB,kBAAlB,EAAsCqD,OAAO,CAACH,UAA9C;EACH;AAAE;;AACH,MAAMI,GAAG,GAAG,UAAUpD,EAAV,EAAc;EAAE,OAAO;IAAE,mCAAmCA;EAArC,CAAP;AAAmD,CAA/E;;AACA,SAASqD,wBAAT,CAAkCrE,EAAlC,EAAsCC,GAAtC,EAA2C;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACrDT,MAAM,CAAC2B,cAAP,CAAsB,CAAtB,EAAyB,KAAzB,EAAgC,EAAhC;IACA3B,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBkD,uCAArB,EAA8D,CAA9D,EAAiE,CAAjE,EAAoE,cAApE,EAAoF,CAApF;IACAvE,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBsD,0BAArB,EAAiD,CAAjD,EAAoD,CAApD,EAAuD,IAAvD,EAA6D,CAA7D;IACA3E,MAAM,CAAC4B,YAAP;EACH;;EAAC,IAAInB,EAAE,GAAG,CAAT,EAAY;IACV,MAAMsE,OAAO,GAAG/E,MAAM,CAACe,aAAP,EAAhB;IACAf,MAAM,CAACuB,UAAP,CAAkB,SAAlB,EAA6BvB,MAAM,CAAC+B,eAAP,CAAuB,CAAvB,EAA0B8C,GAA1B,EAA+BE,OAAO,CAAC/C,QAAvC,CAA7B;IACAhC,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0B,CAACwD,OAAO,CAAC9C,UAAR,CAAmB8C,OAAO,CAACN,UAA3B,CAA3B;IACAzE,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0BwD,OAAO,CAAC9C,UAAR,CAAmB8C,OAAO,CAACN,UAA3B,CAA1B;EACH;AAAE;;AACH,SAASO,uCAAT,CAAiDvE,EAAjD,EAAqDC,GAArD,EAA0D;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACpET,MAAM,CAACW,uBAAP,CAA+B,CAA/B;IACAX,MAAM,CAACY,MAAP,CAAc,CAAd;IACAZ,MAAM,CAACa,qBAAP;EACH;;EAAC,IAAIJ,EAAE,GAAG,CAAT,EAAY;IACV,MAAMwE,OAAO,GAAGjF,MAAM,CAACe,aAAP,CAAqB,CAArB,CAAhB;IACAf,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACiB,iBAAP,CAAyBgE,OAAO,CAACC,WAAjC;EACH;AAAE;;AACH,SAASC,wCAAT,CAAkD1E,EAAlD,EAAsDC,GAAtD,EAA2D,CAAG;;AAC9D,SAAS0E,0BAAT,CAAoC3E,EAApC,EAAwCC,GAAxC,EAA6C;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACvDT,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqB8D,wCAArB,EAA+D,CAA/D,EAAkE,CAAlE,EAAqE,aAArE,EAAoF,EAApF;EACH;;EAAC,IAAI1E,EAAE,GAAG,CAAT,EAAY;IACV,MAAM4E,OAAO,GAAGrF,MAAM,CAACe,aAAP,CAAqB,CAArB,CAAhB;IACAf,MAAM,CAACuB,UAAP,CAAkB,kBAAlB,EAAsC8D,OAAO,CAACH,WAA9C;EACH;AAAE;;AACH,SAASI,wBAAT,CAAkC7E,EAAlC,EAAsCC,GAAtC,EAA2C;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACrDT,MAAM,CAAC2B,cAAP,CAAsB,CAAtB,EAAyB,KAAzB,EAAgC,EAAhC;IACA3B,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqB2D,uCAArB,EAA8D,CAA9D,EAAiE,CAAjE,EAAoE,cAApE,EAAoF,CAApF;IACAhF,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqB+D,0BAArB,EAAiD,CAAjD,EAAoD,CAApD,EAAuD,IAAvD,EAA6D,CAA7D;IACApF,MAAM,CAAC4B,YAAP;EACH;;EAAC,IAAInB,EAAE,GAAG,CAAT,EAAY;IACV,MAAM8E,OAAO,GAAGvF,MAAM,CAACe,aAAP,EAAhB;IACAf,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0B,CAACgE,OAAO,CAACtD,UAAR,CAAmBsD,OAAO,CAACL,WAA3B,CAA3B;IACAlF,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0BgE,OAAO,CAACtD,UAAR,CAAmBsD,OAAO,CAACL,WAA3B,CAA1B;EACH;AAAE;;AACH,SAASM,uCAAT,CAAiD/E,EAAjD,EAAqDC,GAArD,EAA0D;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACpET,MAAM,CAACW,uBAAP,CAA+B,CAA/B;IACAX,MAAM,CAACY,MAAP,CAAc,CAAd;IACAZ,MAAM,CAACa,qBAAP;EACH;;EAAC,IAAIJ,EAAE,GAAG,CAAT,EAAY;IACV,MAAMgF,OAAO,GAAGzF,MAAM,CAACe,aAAP,CAAqB,CAArB,CAAhB;IACAf,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACiB,iBAAP,CAAyBwE,OAAO,CAACC,QAAjC;EACH;AAAE;;AACH,SAASC,wCAAT,CAAkDlF,EAAlD,EAAsDC,GAAtD,EAA2D,CAAG;;AAC9D,SAASkF,0BAAT,CAAoCnF,EAApC,EAAwCC,GAAxC,EAA6C;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACvDT,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBsE,wCAArB,EAA+D,CAA/D,EAAkE,CAAlE,EAAqE,aAArE,EAAoF,EAApF;EACH;;EAAC,IAAIlF,EAAE,GAAG,CAAT,EAAY;IACV,MAAMoF,OAAO,GAAG7F,MAAM,CAACe,aAAP,CAAqB,CAArB,CAAhB;IACAf,MAAM,CAACuB,UAAP,CAAkB,kBAAlB,EAAsCsE,OAAO,CAACH,QAA9C;EACH;AAAE;;AACH,SAASI,wBAAT,CAAkCrF,EAAlC,EAAsCC,GAAtC,EAA2C;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACrDT,MAAM,CAAC2B,cAAP,CAAsB,CAAtB,EAAyB,KAAzB,EAAgC,EAAhC;IACA3B,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBmE,uCAArB,EAA8D,CAA9D,EAAiE,CAAjE,EAAoE,cAApE,EAAoF,CAApF;IACAxF,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBuE,0BAArB,EAAiD,CAAjD,EAAoD,CAApD,EAAuD,IAAvD,EAA6D,CAA7D;IACA5F,MAAM,CAAC4B,YAAP;EACH;;EAAC,IAAInB,EAAE,GAAG,CAAT,EAAY;IACV,MAAMsF,OAAO,GAAG/F,MAAM,CAACe,aAAP,EAAhB;IACAf,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0B,CAACwE,OAAO,CAAC9D,UAAR,CAAmB8D,OAAO,CAACL,QAA3B,CAA3B;IACA1F,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0BwE,OAAO,CAAC9D,UAAR,CAAmB8D,OAAO,CAACL,QAA3B,CAA1B;EACH;AAAE;;AACH,MAAMM,GAAG,GAAG,UAAUvE,EAAV,EAAcwE,EAAd,EAAkBC,EAAlB,EAAsBC,EAAtB,EAA0BC,EAA1B,EAA8BC,EAA9B,EAAkCC,EAAlC,EAAsCC,EAAtC,EAA0CC,EAA1C,EAA8CC,EAA9C,EAAkDC,GAAlD,EAAuDC,GAAvD,EAA4DC,GAA5D,EAAiE;EAAE,OAAO;IAAE,gBAAgBnF,EAAlB;IAAsB,mBAAmBwE,EAAzC;IAA6C,8BAA8BC,EAA3E;IAA+E,uBAAuBC,EAAtG;IAA0G,uBAAuBC,EAAjI;IAAqI,wBAAwBC,EAA7J;IAAiK,gBAAgBC,EAAjL;IAAqL,iDAAiDC,EAAtO;IAA0O,yBAAyBC,EAAnQ;IAAuQ,+CAA+CC,EAAtT;IAA0T,qCAAqCC,GAA/V;IAAoW,qCAAqCC,GAAzY;IAA8Y,0BAA0BC;EAAxa,CAAP;AAAub,CAAtgB;;AACA,MAAMC,GAAG,GAAG,UAAUpF,EAAV,EAAc;EAAE,OAAO;IAAE,KAAKA;EAAP,CAAP;AAAqB,CAAjD;;AACA,MAAMqF,GAAG,GAAG,UAAUrF,EAAV,EAAc;EAAE,OAAO;IAAE,oBAAoBA;EAAtB,CAAP;AAAoC,CAAhE;;AACA,MAAMsF,GAAG,GAAG,CAAC,GAAD,CAAZ;AACA,MAAMC,GAAG,GAAG,CAAC,MAAD,CAAZ;AACA,MAAMC,IAAI,GAAG,CAAC,UAAD,CAAb;;AACA,SAASC,gCAAT,CAA0CzG,EAA1C,EAA8CC,GAA9C,EAAmD;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IAC7DT,MAAM,CAAC2B,cAAP,CAAsB,CAAtB,EAAyB,KAAzB,EAAgC,CAAhC,EAAmC,CAAnC,EAAsC,OAAtC,EAA+C,EAA/C;IACA3B,MAAM,CAAC8C,SAAP,CAAiB,CAAjB,EAAoB,OAApB,EAA6B,EAA7B,EAAiC,CAAjC,EAAoC,MAApC,EAA4C,EAA5C;IACA9C,MAAM,CAAC2B,cAAP,CAAsB,CAAtB,EAAyB,MAAzB,EAAiC,EAAjC;IACA3B,MAAM,CAACY,MAAP,CAAc,CAAd;IACAZ,MAAM,CAAC4B,YAAP;EACH;;EAAC,IAAInB,EAAE,GAAG,CAAT,EAAY;IACV,MAAM0G,OAAO,GAAGnH,MAAM,CAACe,aAAP,GAAuBqG,SAAvC;IACApH,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACmE,WAAP,CAAmB,+BAAnB,EAAoDgD,OAAO,CAACE,QAA5D;IACArH,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACuB,UAAP,CAAkB,SAAlB,EAA6B4F,OAAO,CAACE,QAArC,EAA+C,UAA/C,EAA2DF,OAAO,CAACnF,QAAnE;IACAhC,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACiB,iBAAP,CAAyBkG,OAAO,CAACG,OAAjC;EACH;AAAE;;AACH,SAASC,yCAAT,CAAmD9G,EAAnD,EAAuDC,GAAvD,EAA4D;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACtET,MAAM,CAACW,uBAAP,CAA+B,CAA/B;IACAX,MAAM,CAACY,MAAP,CAAc,CAAd;IACAZ,MAAM,CAACa,qBAAP;EACH;;EAAC,IAAIJ,EAAE,GAAG,CAAT,EAAY;IACV,MAAM0G,OAAO,GAAGnH,MAAM,CAACe,aAAP,GAAuBqG,SAAvC;IACApH,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACiB,iBAAP,CAAyBkG,OAAO,CAACG,OAAjC;EACH;AAAE;;AACH,SAASE,qCAAT,CAA+C/G,EAA/C,EAAmDC,GAAnD,EAAwD;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IAClET,MAAM,CAAC6C,cAAP;IACA7C,MAAM,CAAC8C,SAAP,CAAiB,CAAjB,EAAoB,KAApB,EAA2B,EAA3B;EACH;AAAE;;AACH,SAAS2E,0CAAT,CAAoDhH,EAApD,EAAwDC,GAAxD,EAA6D,CAAG;;AAChE,MAAMgH,IAAI,GAAG,UAAUjG,EAAV,EAAc;EAAE,OAAO;IAAEkG,IAAI,EAAElG;EAAR,CAAP;AAAsB,CAAnD;;AACA,SAASmG,4BAAT,CAAsCnH,EAAtC,EAA0CC,GAA1C,EAA+C;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACzDT,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBoG,0CAArB,EAAiE,CAAjE,EAAoE,CAApE,EAAuE,aAAvE,EAAsF,EAAtF;EACH;;EAAC,IAAIhH,EAAE,GAAG,CAAT,EAAY;IACV,MAAM0G,OAAO,GAAGnH,MAAM,CAACe,aAAP,GAAuBqG,SAAvC;IACA,MAAMS,MAAM,GAAG7H,MAAM,CAACe,aAAP,EAAf;IACAf,MAAM,CAACuB,UAAP,CAAkB,yBAAlB,EAA6CvB,MAAM,CAAC+B,eAAP,CAAuB,CAAvB,EAA0B2F,IAA1B,EAAgCP,OAAhC,CAA7C,EAAuF,kBAAvF,EAA2GU,MAAM,CAACC,OAAlH;EACH;AAAE;;AACH,MAAMC,IAAI,GAAG,UAAUtG,EAAV,EAAcwE,EAAd,EAAkBC,EAAlB,EAAsB;EAAE,OAAO;IAAE,mCAAmCzE,EAArC;IAAyC,wCAAwCwE,EAAjF;IAAqFjE,QAAQ,EAAEkE;EAA/F,CAAP;AAA6G,CAAlJ;;AACA,SAAS8B,0BAAT,CAAoCvH,EAApC,EAAwCC,GAAxC,EAA6C;EAAE,IAAID,EAAE,GAAG,CAAT,EAAY;IACvD,MAAMwH,IAAI,GAAGjI,MAAM,CAACoC,gBAAP,EAAb;;IACApC,MAAM,CAAC2B,cAAP,CAAsB,CAAtB,EAAyB,IAAzB,EAA+B,CAA/B;IACA3B,MAAM,CAACqC,UAAP,CAAkB,OAAlB,EAA2B,SAAS6F,8CAAT,CAAwDC,MAAxD,EAAgE;MAAE,MAAMC,WAAW,GAAGpI,MAAM,CAACuC,aAAP,CAAqB0F,IAArB,CAApB;MAAgD,MAAMd,OAAO,GAAGiB,WAAW,CAAChB,SAA5B;MAAuC,MAAMtG,OAAO,GAAGd,MAAM,CAACe,aAAP,EAAhB;MAAwC,OAAOf,MAAM,CAACyC,WAAP,CAAmB3B,OAAO,CAACuH,OAAR,CAAgBF,MAAhB,EAAwBhB,OAAxB,CAAnB,CAAP;IAA8D,CAA1R;IACAnH,MAAM,CAAC2B,cAAP,CAAsB,CAAtB,EAAyB,KAAzB,EAAgC,CAAhC,EAAmC,CAAnC;IACA3B,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqB6F,gCAArB,EAAuD,CAAvD,EAA0D,CAA1D,EAA6D,KAA7D,EAAoE,CAApE;IACAlH,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBkG,yCAArB,EAAgE,CAAhE,EAAmE,CAAnE,EAAsE,cAAtE,EAAsF,CAAtF;IACAvH,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBmG,qCAArB,EAA4D,CAA5D,EAA+D,CAA/D,EAAkE,KAAlE,EAAyE,CAAzE;IACAxH,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBuG,4BAArB,EAAmD,CAAnD,EAAsD,CAAtD,EAAyD,IAAzD,EAA+D,CAA/D;IACA5H,MAAM,CAAC4B,YAAP;EACH;;EAAC,IAAInB,EAAE,GAAG,CAAT,EAAY;IACV,MAAM0G,OAAO,GAAGzG,GAAG,CAAC0G,SAApB;IACA,MAAMkB,IAAI,GAAG5H,GAAG,CAAC6H,KAAjB;IACA,MAAMC,MAAM,GAAGxI,MAAM,CAACe,aAAP,EAAf;IACAf,MAAM,CAACuB,UAAP,CAAkB,IAAlB,EAAwBiH,MAAM,CAACC,SAAP,CAAiBH,IAAjB,CAAxB,EAAgD,SAAhD,EAA2DtI,MAAM,CAAC0I,eAAP,CAAuB,CAAvB,EAA0BX,IAA1B,EAAgCZ,OAAO,CAACE,QAAxC,EAAkDmB,MAAM,CAACG,eAAP,KAA2BH,MAAM,CAACC,SAAP,CAAiBH,IAAjB,CAA7E,EAAqGnB,OAAO,CAACnF,QAA7G,CAA3D;IACAhC,MAAM,CAACmE,WAAP,CAAmB,eAAnB,EAAoCgD,OAAO,CAACE,QAA5C,EAAsD,OAAtD,EAA+DmB,MAAM,CAACI,UAAP,GAAoBzB,OAAO,CAACG,OAA5B,GAAsC,IAArG;IACAtH,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0B,CAACiH,MAAM,CAACV,OAAR,IAAmBU,MAAM,CAACK,IAAP,KAAgB,OAA7D;IACA7I,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0B,CAACiH,MAAM,CAACV,OAAR,IAAmBU,MAAM,CAACK,IAAP,KAAgB,QAA7D;IACA7I,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0B,CAACiH,MAAM,CAACV,OAAR,IAAmBU,MAAM,CAACK,IAAP,KAAgB,QAA7D;IACA7I,MAAM,CAACgB,SAAP,CAAiB,CAAjB;IACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0BiH,MAAM,CAACV,OAAjC;EACH;AAAE;;AACH,MAAMgB,oBAAN,CAA2B;EACvBC,WAAW,GAAG;IACV;AACR;AACA;AACA;IACQ,KAAKF,IAAL,GAAY,QAAZ;IACA;AACR;AACA;AACA;AACA;;IACQ,KAAKG,IAAL,GAAY,IAAZ;EACH;EACD;AACJ;AACA;;;EACa,IAALC,KAAK,CAACC,KAAD,EAAQ,CAAG;;EACX,IAALD,KAAK,GAAG;IAAE;EAAS;EACvB;AACJ;AACA;;;EACIE,WAAW,GAAG;IAAE;EAAS;EACzB;AACJ;AACA;;;EACIC,cAAc,GAAG;IAAE;EAAS;EAC5B;AACJ;AACA;;;EACIC,cAAc,GAAG;IAAE;EAAS;EAC5B;AACJ;AACA;;;EACIC,WAAW,GAAG;IAAE;EAAS;EACzB;AACJ;AACA;;;EACIC,cAAc,GAAG;IAAE;EAAS;EAC5B;AACJ;AACA;;;EACIC,cAAc,GAAG;IAAE;EAAS;EAC5B;AACJ;AACA;;;EACIC,WAAW,GAAG;IAAE;EAAS;EACzB;AACJ;AACA;;;EACIC,cAAc,GAAG;IAAE;EAAS;EAC5B;AACJ;AACA;;;EACIC,iBAAiB,GAAG;IAAE;EAAS;EAC/B;AACJ;AACA;;;EACIC,YAAY,GAAG;IAAE;EAAS;EAC1B;AACJ;AACA;;;EACIC,iBAAiB,CAACX,KAAD,EAAQ,CAAG;EAC5B;AACJ;AACA;AACA;;;EACIY,QAAQ,CAACZ,KAAD,EAAQ,CAAG;EACnB;AACJ;AACA;AACA;;;EACIa,SAAS,GAAG,CAAG;EACf;AACJ;AACA;;;EACIC,YAAY,CAACC,WAAD,EAAc,CAAG;EAC7B;AACJ;AACA;;;EACIC,eAAe,CAACC,SAAD,EAAY,CAAG;;AAhFP;;AAkF3BrB,oBAAoB,CAACsB,IAArB,GAA4B,SAASC,4BAAT,CAAsCC,CAAtC,EAAyC;EAAE,OAAO,KAAKA,CAAC,IAAIxB,oBAAV,GAAP;AAA2C,CAAlH;;AACAA,oBAAoB,CAACyB,IAArB,GAA4B,aAAcvK,MAAM,CAACwK,iBAAP,CAAyB;EAAE3B,IAAI,EAAEC,oBAAR;EAA8B2B,SAAS,EAAE,CAAC,CAAC,EAAD,EAAK,yBAAL,EAAgC,EAAhC,CAAD,CAAzC;EAAgFC,MAAM,EAAE;IAAEzB,KAAK,EAAE;EAAT,CAAxF;EAA4G0B,OAAO,EAAE;IAAEC,MAAM,EAAE,QAAV;IAAoBC,UAAU,EAAE;EAAhC;AAArH,CAAzB,CAA1C;AACA/B,oBAAoB,CAACgC,cAArB,GAAsC;EAClC7B,KAAK,EAAE,CAAC;IAAEJ,IAAI,EAAE1K;EAAR,CAAD,CAD2B;EAElCyM,MAAM,EAAE,CAAC;IAAE/B,IAAI,EAAEzK;EAAR,CAAD,CAF0B;EAGlCyM,UAAU,EAAE,CAAC;IAAEhC,IAAI,EAAEzK;EAAR,CAAD;AAHsB,CAAtC;;AAKA,CAAC,YAAY;EAAE,CAAC,OAAO2M,SAAP,KAAqB,WAArB,IAAoCA,SAArC,KAAmD/K,MAAM,CAACgL,iBAAP,CAAyBlC,oBAAzB,EAA+C,CAAC;IAC1GD,IAAI,EAAEvK,SADoG;IAE1G2M,IAAI,EAAE,CAAC;MAAEC,QAAQ,EAAE;IAAZ,CAAD;EAFoG,CAAD,CAA/C,EAG1D,YAAY;IAAE,OAAO,EAAP;EAAY,CAHgC,EAG9B;IAAEjC,KAAK,EAAE,CAAC;MAClCJ,IAAI,EAAE1K;IAD4B,CAAD,CAAT;IAExByM,MAAM,EAAE,CAAC;MACT/B,IAAI,EAAEzK;IADG,CAAD,CAFgB;IAIxByM,UAAU,EAAE,CAAC;MACbhC,IAAI,EAAEzK;IADO,CAAD;EAJY,CAH8B,CAAnD;AASC,CAThB;;AAWA,MAAM+M,aAAa,GAAG;EAAEC,GAAG,EAAE,CAAP;EAAUC,IAAI,EAAE;AAAhB,CAAtB;;AACA,MAAMC,eAAN,CAAsB;EAClBvC,WAAW,CAACwC,kBAAD,EAAqBC,qBAArB,EAA4C;IACnD,KAAKD,kBAAL,GAA0BA,kBAA1B;IACA,KAAKC,qBAAL,GAA6BA,qBAA7B;IACA;AACR;AACA;AACA;;IACQ,KAAKC,0BAAL,GAAkC,IAAI/N,YAAJ,EAAlC;IACA,KAAKgO,OAAL,GAAeP,aAAf;EACH;;EACS,IAANQ,MAAM,CAACzC,KAAD,EAAQ;IACd,KAAKwC,OAAL,GAAeE,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBV,aAAlB,EAAiCjC,KAAjC,CAAf;EACH;;EACS,IAANyC,MAAM,GAAG;IACT,OAAO,KAAKD,OAAZ;EACH;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;;;EACII,YAAY,CAACC,SAAD,EAAYC,OAAZ,EAAqBC,SAArB,EAAgC;IACxC;IACAD,OAAO,CAACE,KAAR,CAAcC,OAAd,GAAwB,OAAxB;IACA,MAAMC,eAAe,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAxB;IACAF,eAAe,CAACG,SAAhB,GAA6B,YAAWN,SAAU,EAAlD;IACAG,eAAe,CAACF,KAAhB,CAAsBM,KAAtB,GAA8BT,SAAS,CAACU,WAAV,GAAwB,IAAtD;IACAL,eAAe,CAACF,KAAhB,CAAsBzO,QAAtB,GAAiC,UAAjC;IACA2O,eAAe,CAACM,WAAhB,CAA4BV,OAA5B,EAPwC,CAQxC;;IACA,IAAI,KAAKT,kBAAL,CAAwBoB,iBAAxB,EAAJ,EAAiD;MAC7C,KAAKpB,kBAAL,CAAwBqB,aAAxB,CAAsCR,eAAtC,EAD6C,CAE7C;IACH,CAHD,MAIK;MACDC,QAAQ,CAACQ,IAAT,CAAcH,WAAd,CAA0BN,eAA1B;IACH;;IACD,KAAKU,YAAL,GAAoBV,eAApB;IACA,KAAKX,0BAAL,GAAkC,KAAKD,qBAAL,CAA2BuB,IAA3B,CAAgCC,SAAhC,CAA0C,MAAM;MAC9E,KAAKC,gBAAL,CAAsBlB,SAAtB,EAAiCK,eAAjC;IACH,CAFiC,CAAlC,CAjBwC,CAoBxC;;IACA,KAAKa,gBAAL,CAAsBlB,SAAtB,EAAiCK,eAAjC;IACA,OAAOA,eAAP;EACH;EACD;AACJ;AACA;AACA;;;EACIc,gBAAgB,CAACC,OAAD,EAAU;IACtB;IACA,IAAI,CAAC,KAAKL,YAAV,EAAwB;MACpB;IACH;;IACD,MAAMM,QAAQ,GAAG,KAAKN,YAAtB;IACA,MAAMO,IAAI,GAAGD,QAAQ,CAACE,iBAAtB,CANsB,CAOtB;;IACA,KAAKR,YAAL,GAAoB,IAApB;IACAO,IAAI,CAACnB,KAAL,CAAWC,OAAX,GAAqB,MAArB;IACAgB,OAAO,CAACT,WAAR,CAAoBW,IAApB;IACA,KAAK5B,0BAAL,CAAgC8B,WAAhC;;IACA,IAAI,KAAKhC,kBAAL,CAAwBoB,iBAAxB,MAA+C,KAAKpB,kBAAL,CAAwBiC,UAAxB,CAAmCJ,QAAnC,CAAnD,EAAiG;MAC7F,KAAK7B,kBAAL,CAAwBkC,aAAxB,CAAsCL,QAAtC;IACH,CAFD,MAGK,IAAIf,QAAQ,CAACQ,IAAT,CAAca,QAAd,CAAuBN,QAAvB,CAAJ,EAAsC;MACvCf,QAAQ,CAACQ,IAAT,CAAcc,WAAd,CAA0BP,QAA1B;IACH;;IACD,OAAOA,QAAP;EACH;EACD;AACJ;AACA;;;EACIQ,cAAc,CAAC7B,SAAD,EAAY;IACtB,KAAKkB,gBAAL,CAAsBlB,SAAtB,EAAiC,KAAKe,YAAtC;EACH;;EACDe,WAAW,GAAG;IACV,KAAKpC,0BAAL,CAAgC8B,WAAhC;EACH;;EACDN,gBAAgB,CAAClB,SAAD,EAAYC,OAAZ,EAAqB;IACjC,IAAI,CAACA,OAAL,EAAc;MACV;IACH;;IACD,IAAI8B,UAAU,GAAG,CAAjB;IACA,MAAMC,OAAO,GAAG/B,OAAO,CAACgC,aAAR,CAAsB,qBAAtB,CAAhB;;IACA,IAAID,OAAJ,EAAa;MACT;MACA;MACA;MACA,IAAIhC,SAAS,CAACkC,qBAAV,GAAkC5C,IAAlC,KAA2C0C,OAAO,CAACE,qBAAR,GAAgC5C,IAA/E,EAAqF;QACjF;QACA;QACA,MAAM6C,uBAAuB,GAAGnC,SAAS,CAACkC,qBAAV,GAAkC5C,IAAlC,GAAyC0C,OAAO,CAACE,qBAAR,GAAgC5C,IAAzE,GAAgF0C,OAAO,CAACE,qBAAR,GAAgCE,KAAhJ;;QACA,IAAID,uBAAuB,IAAIE,MAAM,CAACC,UAAP,IAAqBhC,QAAQ,CAACiC,eAAT,CAAyBC,WAAlD,CAA3B,EAA2F;UACvFT,UAAU,GAAG/B,SAAS,CAACU,WAAV,GAAwBsB,OAAO,CAACtB,WAA7C;QACH,CANgF,CAOjF;QACA;;MACH,CATD,MAUK,IAAIsB,OAAO,CAACE,qBAAR,GAAgCE,KAAhC,IAAyCC,MAAM,CAACC,UAAP,IAAqBhC,QAAQ,CAACiC,eAAT,CAAyBC,WAAvF,CAAJ,EAAyG;QAC1GT,UAAU,GAAG/B,SAAS,CAACU,WAAV,GAAwBsB,OAAO,CAACtB,WAA7C;MACH;IACJ,CAvBgC,CAwBjC;;;IACA,MAAM+B,kBAAkB,GAAG9O,WAAW,CAAC,UAAD,EAAa,CAAC,UAAD,EAAa,OAAb,EAAsB,UAAtB,CAAb,EAAgDsM,OAAO,CAACyC,aAAxD,CAAtC;IACA,MAAMC,MAAM,GAAGF,kBAAkB,GAAGA,kBAAkB,CAACP,qBAAnB,GAA2C7C,GAA3C,GAAiD,CAAC,CAArD,GAAyD,KAAKO,MAAL,CAAYP,GAAtG;IACA,MAAMuD,OAAO,GAAGH,kBAAkB,GAAGA,kBAAkB,CAACP,qBAAnB,GAA2C5C,IAA3C,GAAkD,CAAC,CAAtD,GAA0D,KAAKM,MAAL,CAAYN,IAAZ,GAAmByC,UAA/G;IACA,IAAIc,GAAG,GAAGnR,QAAQ,CAACoR,YAAT,CAAsB9C,SAAtB,EAAiCC,OAAjC,EAA0C,QAA1C,CAAV;IACA4C,GAAG,GAAGnR,QAAQ,CAACqR,SAAT,CAAmBF,GAAnB,EAAwBF,MAAxB,EAAgCC,OAAhC,CAAN;IACAlR,QAAQ,CAACsR,UAAT,CAAoB/C,OAApB,EAA6B4C,GAA7B;EACH;;AAhHiB;;AAkHtBtD,eAAe,CAAClB,IAAhB,GAAuB,SAAS4E,uBAAT,CAAiC1E,CAAjC,EAAoC;EAAE,OAAO,KAAKA,CAAC,IAAIgB,eAAV,EAA2BtL,MAAM,CAACiP,QAAP,CAAgBhP,MAAM,CAACV,kBAAvB,CAA3B,EAAuES,MAAM,CAACiP,QAAP,CAAgB/O,MAAM,CAACT,qBAAvB,CAAvE,CAAP;AAA+H,CAA5L;;AACA6L,eAAe,CAAC4D,KAAhB,GAAwB,aAAclP,MAAM,CAACmP,kBAAP,CAA0B;EAAEC,KAAK,EAAE9D,eAAT;EAA0B+D,OAAO,EAAE/D,eAAe,CAAClB;AAAnD,CAA1B,CAAtC;AACA;;AACAkB,eAAe,CAACgE,cAAhB,GAAiC,MAAM,CACnC;EAAEzG,IAAI,EAAEtJ;AAAR,CADmC,EAEnC;EAAEsJ,IAAI,EAAEpJ;AAAR,CAFmC,CAAvC;;AAIA,CAAC,YAAY;EAAE,CAAC,OAAOsL,SAAP,KAAqB,WAArB,IAAoCA,SAArC,KAAmD/K,MAAM,CAACgL,iBAAP,CAAyBM,eAAzB,EAA0C,CAAC;IACrGzC,IAAI,EAAEtK;EAD+F,CAAD,CAA1C,EAE1D,YAAY;IAAE,OAAO,CAAC;MAAEsK,IAAI,EAAE5I,MAAM,CAACV;IAAf,CAAD,EAAsC;MAAEsJ,IAAI,EAAE3I,MAAM,CAACT;IAAf,CAAtC,CAAP;EAAuF,CAF3C,EAE6C,IAF7C,CAAnD;AAEwG,CAFvH;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAM8P,QAAN,CAAe;EACX;AACJ;AACA;EACIxG,WAAW,CAACyG,UAAD,EAAaC,IAAb,EAAmBC,eAAnB,EAAoCC,MAApC,EAA4CC,cAA5C,EAA4D;IACnE,KAAKJ,UAAL,GAAkBA,UAAlB;IACA,KAAKC,IAAL,GAAYA,IAAZ;IACA,KAAKC,eAAL,GAAuBA,eAAvB;IACA,KAAKC,MAAL,GAAcA,MAAd;IACA,KAAKC,cAAL,GAAsBA,cAAtB;IACA,KAAK9N,EAAL,GAAW,YAAWyN,QAAQ,CAACM,aAAT,EAAyB,EAA/C;IACA;AACR;AACA;;IACQ,KAAKC,WAAL,GAAmB,EAAnB;IACA;AACR;AACA;;IACQ,KAAKlM,YAAL,GAAoB,EAApB;IACA;AACR;AACA;;IACQ,KAAKZ,SAAL,GAAiB,KAAKyM,IAAL,CAAUM,GAAV,GAAgBC,QAAhB,CAAyBC,KAA1C;IACA;AACR;AACA;AACA;AACA;;IACQ,KAAKjH,IAAL,GAAY,IAAZ;IACA;AACR;AACA;AACA;;IACQ,KAAKH,IAAL,GAAY,QAAZ;IACA;AACR;AACA;;IACQ,KAAKqH,KAAL,GAAa,MAAb;IACA;AACR;AACA;;IACQ,KAAKlO,QAAL,GAAgB,KAAhB;IACA;AACR;AACA;;IACQ,KAAKmO,QAAL,GAAgB,KAAhB;IACA;AACR;AACA;;IACQ,KAAKC,MAAL,GAAc,KAAd;IACA;AACR;AACA;;IACQ,KAAKC,gBAAL,GAAwB,KAAxB;IACA;AACR;AACA;;IACQ,KAAKC,OAAL,GAAe,KAAf;IACA;AACR;AACA;;IACQ,KAAKC,IAAL,GAAY,KAAZ;IACA;AACR;AACA;;IACQ,KAAKC,YAAL,GAAoB,IAApB;IACA;AACR;AACA;AACA;AACA;AACA;;IACQ,KAAKC,iBAAL,GAAyB,kBAAzB;IACA;AACR;AACA;AACA;;IACQ,KAAKrM,eAAL,GAAuB,KAAKqL,IAAL,CAAUM,GAAV,GAAgBC,QAAhB,CAAyBU,IAAhD;IACA;AACR;AACA;AACA;;IACQ,KAAKC,aAAL,GAAqB,KAAKlB,IAAL,CAAUM,GAAV,GAAgBC,QAAhB,CAAyBY,QAA9C;IACA;AACR;AACA;;IACQ,KAAKvJ,QAAL,GAAgB,IAAIhJ,YAAJ,EAAhB;IACA;AACR;AACA;;IACQ,KAAKwS,OAAL,GAAe,IAAIxS,YAAJ,EAAf;IACA;AACR;AACA;;IACQ,KAAKyS,KAAL,GAAa,IAAIzS,YAAJ,EAAb;IACA,KAAK0S,SAAL,GAAiB,IAAjB;IACA;AACR;AACA;;IACQ,KAAK7M,YAAL,GAAoB,IAApB;IACA;AACR;AACA;;IACQ,KAAK8M,OAAL,GAAe,KAAf,CAnGmE,CAoGnE;IACA;;IACA,KAAKC,IAAL,GAAY,KAAKC,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAAZ;IACA,KAAKC,YAAL,GAAoB,KAAKC,aAAL,CAAmBF,IAAnB,CAAwB,IAAxB,CAApB;IACA,KAAKG,UAAL,GAAkB,KAAKC,WAAL,CAAiBJ,IAAjB,CAAsB,IAAtB,CAAlB;IACA,KAAKK,WAAL,GAAmB,KAAKC,YAAL,CAAkBN,IAAlB,CAAuB,IAAvB,CAAnB;IACA,KAAKO,sBAAL,GAA8B,IAAIhU,YAAJ,EAA9B;IACA,KAAKiU,iBAAL,GAAyB,KAAKT,KAA9B,CA3GmE,CA4GnE;;IACA,KAAKU,aAAL,GAAqB,EAArB;IACA;AACR;AACA;;IACQ,KAAKC,eAAL,GAAwBC,CAAD,IAAO,CAAG,CAAjC;EACH;EACD;AACJ;AACA;AACA;AACA;;;EACa,IAAL5I,KAAK,CAAC6I,QAAD,EAAW;IAChBC,OAAO,CAACzB,IAAR,CAAa,2EAAb;IACA,KAAK0B,YAAL,GAAoBF,QAApB;EACH;;EACQ,IAAL7I,KAAK,GAAG;IACR,OAAO,KAAK+I,YAAZ;EACH;;EACe,IAAZC,YAAY,GAAG;IACf,OAAO,KAAKN,aAAZ;EACH;;EACe,IAAZM,YAAY,CAACC,GAAD,EAAM;IAClB,IAAIA,GAAG,IAAIA,GAAG,CAACC,MAAJ,KAAe,CAA1B,EAA6B;MACzB,KAAK1P,aAAL;IACH;;IACD,KAAKkP,aAAL,GAAqBO,GAArB;EACH;EACD;AACJ;AACA;AACA;;;EACIE,QAAQ,GAAG;IACP,IAAI,KAAKC,IAAT,EAAe;MACX,KAAKA,IAAL,CAAUzJ,IAAV,GAAiB,KAAKA,IAAtB;IACH;EACJ;EACD;AACJ;AACA;;;EACI0J,kBAAkB,GAAG;IACjB,IAAI,CAAC,KAAKD,IAAV,EAAgB;MACZ;IACH;;IACD,IAAK,KAAKJ,YAAL,IAAqB,KAAKA,YAAL,CAAkBE,MAAxC,IAAmD,OAAO,KAAKF,YAAZ,KAA6B,QAApF,EAA8F;MAC1F,KAAKM,UAAL,CAAgB,KAAKN,YAArB;IACH;;IACD,KAAKI,IAAL,CAAUzJ,IAAV,GAAiB,KAAKA,IAAtB;IACA,KAAKyJ,IAAL,CAAUtJ,IAAV,GAAiB,KAAKA,IAAtB,CARiB,CASjB;;IACA,MAAMyJ,QAAQ,GAAGC,KAAK,IAAIA,KAAK,IAAIA,KAAK,CAACD,QAAzC;;IACA,KAAKH,IAAL,CAAU1H,MAAV,CAAiBoC,SAAjB,CAA2B0F,KAAK,IAAI;MAChC,IAAI,KAAK7J,IAAL,KAAc,QAAd,IAA0B,CAAC4J,QAAQ,CAACC,KAAD,CAAvC,EAAgD;QAC5C,KAAKC,SAAL;;QACA,IAAID,KAAK,CAAC/K,IAAN,IAAc+K,KAAK,CAAC/K,IAAN,CAAWN,QAA7B,EAAuC;UACnC,IAAI,KAAK4K,YAAT,EAAuB;YACnB,KAAKJ,eAAL,CAAqBa,KAAK,CAAC/K,IAAN,CAAW,KAAKsK,YAAhB,CAArB;UACH,CAFD,MAGK;YACD,KAAKJ,eAAL,CAAqBa,KAAK,CAAC/K,IAA3B;UACH;QACJ,CAPD,MAQK;UACD,KAAKkK,eAAL,CAAqB,IAArB;QACH;MACJ;;MACD,IAAI,KAAKhJ,IAAL,KAAc,OAAd,IAAyB,CAAC4J,QAAQ,CAACC,KAAD,CAAtC,EAA+C;QAC3C;QACA,IAAI,KAAKT,YAAL,IAAqB,KAAKK,IAAL,CAAU7I,WAAV,EAAzB,EAAkD;UAC9C,MAAMmJ,MAAM,GAAG,KAAKN,IAAL,CAAU7I,WAAV,GAAwBzL,GAAxB,CAA4B2J,IAAI,IAAIA,IAAI,CAAC,KAAKsK,YAAN,CAAxC,CAAf;UACA,KAAKJ,eAAL,CAAqBe,MAArB,EAF8C,CAG9C;QACH,CAJD,MAKK;UACD,KAAKf,eAAL,CAAqB,KAAKS,IAAL,CAAU7I,WAAV,EAArB;QACH;MACJ,CAzB+B,CA0BhC;;;MACA,IAAI,CAACgJ,QAAQ,CAACC,KAAD,CAAb,EAAsB;QAClB,KAAKG,eAAL;QACA,KAAKxL,QAAL,CAAcyL,IAAd,CAAmBJ,KAAnB;MACH,CA9B+B,CA+BhC;;;MACA,KAAK/C,MAAL,CAAY5C,IAAZ;IACH,CAjCD;EAkCH;;EACDgG,eAAe,GAAG;IACd;IACA;IACA;IACA;IACA,IAAI,KAAKvC,YAAL,KAAsB,IAAtB,IAA8B3Q,oBAAoB,CAAC,KAAK2P,UAAL,CAAgBwD,aAAjB,CAAtD,EAAuF;MACnF,KAAKxC,YAAL,GAAoB,KAApB,CADmF,CAEnF;IACH,CAHD,MAIK,IAAI,KAAKA,YAAL,KAAsB,IAA1B,EAAgC;MACjC,KAAKA,YAAL,GAAoB,IAApB;IACH;;IACD,KAAKqC,eAAL;EACH;EACD;AACJ;AACA;;;EACIhF,WAAW,GAAG;IACV,IAAI,CAAC,KAAK2C,YAAV,EAAwB;MACpB,KAAKyC,iBAAL;IACH;EACJ;EACD;AACJ;AACA;;;EACIT,UAAU,CAACtJ,KAAD,EAAQ;IACd;IACA,KAAKgJ,YAAL,GAAoBhJ,KAApB;IACA,KAAKoJ,IAAL,CAAUtI,YAAV,CAAuB,MAAM;MACzB;MACA,IAAI,CAACd,KAAL,EAAY;QACR,KAAKoJ,IAAL,CAAUzI,iBAAV,CAA4B,CAACX,KAAD,CAA5B;MACH,CAFD,MAGK,IAAI,KAAKL,IAAL,KAAc,QAAlB,EAA4B;QAC7B,IAAI,KAAKoJ,YAAT,EAAuB;UACnB;UACA,MAAMF,QAAQ,GAAGnG,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKyG,IAAL,CAAU1I,YAAV,GAAyBsJ,IAAzB,CAA8BvL,IAAI,IAAIA,IAAI,CAAC,KAAKsK,YAAN,CAAJ,KAA4B/I,KAAlE,CAAlB,CAAjB;UACA6I,QAAQ,CAAC1K,QAAT,GAAoB,IAApB;UACA,KAAKiL,IAAL,CAAUzI,iBAAV,CAA4B,CAACkI,QAAD,CAA5B;QACH,CALD,MAMK;UACD;UACA,KAAKO,IAAL,CAAUzI,iBAAV,CAA4B,CAACX,KAAD,CAA5B;QACH;MACJ,CAXI,MAYA;QACD,IAAI,KAAK+I,YAAT,EAAuB;UACnB;UACA;UACA,IAAIkB,SAAS,GAAG,EAAhB;;UACA,KAAK,MAAMC,CAAX,IAAgBlK,KAAhB,EAAuB;YACnB,KAAK,MAAMvB,IAAX,IAAmB,KAAK2K,IAAL,CAAU1I,YAAV,EAAnB,EAA6C;cACzC,IAAIjC,IAAI,CAAC,KAAKsK,YAAN,CAAJ,KAA4BmB,CAAhC,EAAmC;gBAC/BD,SAAS,CAACE,IAAV,CAAezH,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBlE,IAAlB,EAAwB;kBAAEN,QAAQ,EAAE;gBAAZ,CAAxB,CAAf;cACH;YACJ;UACJ;;UACD,KAAKiL,IAAL,CAAUzI,iBAAV,CAA4BsJ,SAA5B;QACH,CAZD,MAaK;UACD;UACA,KAAKb,IAAL,CAAUzI,iBAAV,CAA4BX,KAA5B;QACH;MACJ;;MACD,KAAK2J,eAAL;IACH,CArCD;EAsCH;;EACDS,MAAM,GAAG;IACL,KAAK3B,iBAAL;EACH;;EACD4B,gBAAgB,CAACC,EAAD,EAAK;IACjB,KAAK3B,eAAL,GAAuB2B,EAAvB;EACH;EACD;AACJ;AACA;;;EACIC,iBAAiB,CAACD,EAAD,EAAK;IAClB,KAAK7B,iBAAL,GAAyB6B,EAAzB;EACH;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;;;EACIE,gBAAgB,CAACC,UAAD,EAAa;IACzB,KAAK3R,QAAL,GAAgB2R,UAAhB;EACH;EACD;AACJ;AACA;EACI;;;EACAC,SAAS,CAAClB,KAAD,EAAQ;IACb,IAAI,CAACA,KAAK,CAACmB,GAAN,KAAc,QAAd,IAA0BnB,KAAK,CAACmB,GAAN,KAAc,KAAzC,KAAmD,CAAC,KAAK3P,YAA7D,EAA2E;MACvEwO,KAAK,CAACoB,wBAAN,GADuE,CACrC;IACrC;;IACD,IAAIpB,KAAK,CAACmB,GAAN,KAAc,QAAd,IAA0BnB,KAAK,CAACmB,GAAN,KAAc,KAA5C,EAAmD;MAC/CnB,KAAK,CAACqB,cAAN;MACA,KAAKpB,SAAL;MACA,KAAKqB,cAAL,CAAoBhB,aAApB,CAAkCiB,KAAlC;IACH,CAJD,MAKK,IAAI,KAAK/P,YAAL,KAAsBwO,KAAK,CAACmB,GAAN,KAAc,GAAd,IAAqBnB,KAAK,CAACmB,GAAN,KAAc,WAAnC,IAAkDnB,KAAK,CAACmB,GAAN,KAAc,SAAhE,IAC3BnB,KAAK,CAACmB,GAAN,KAAc,UADa,IACCnB,KAAK,CAACmB,GAAN,KAAc,MADf,IACyBnB,KAAK,CAACmB,GAAN,KAAc,IAD7D,CAAJ,EACwE;MACzE,IAAI,KAAKxD,gBAAL,KAA0BqC,KAAK,CAACmB,GAAN,KAAc,WAAd,IAA6BnB,KAAK,CAACmB,GAAN,KAAc,SAA3C,IAAwDnB,KAAK,CAACmB,GAAN,KAAc,MAAtE,IAAgFnB,KAAK,CAACmB,GAAN,KAAc,IAAxH,CAAJ,EAAmI;QAC/H;MACH;;MACDnB,KAAK,CAACqB,cAAN;MACA,KAAKG,QAAL;IACH;;IACD,IAAI,CAAC,KAAKhQ,YAAN,IAAsBwO,KAAK,CAACmB,GAAN,KAAc,KAApC,IAA6C,KAAKM,YAAL,CAAkBnB,aAAlB,CAAgCtF,QAAhC,CAAyCgF,KAAK,CAAC0B,MAA/C,CAAjD,EAAyG;MACrG,KAAKzB,SAAL;IACH;;IACD,IAAI,CAAC,KAAKzO,YAAN,IAAsBwO,KAAK,CAACmB,GAAN,KAAc,KAApC,IAA6CnB,KAAK,CAAC2B,QAAvD,EAAiE;MAC7D,KAAK1B,SAAL;IACH;;IACD,IAAI,KAAK9J,IAAL,KAAc,OAAlB,EAA2B;MACvB;IACH;;IACD,IAAI,KAAK3E,YAAT,EAAuB;MACnB,KAAKoQ,wBAAL,CAA8B5B,KAA9B;IACH;EACJ;;EACD4B,wBAAwB,CAAC5B,KAAD,EAAQ;IAC5B;IACA,IAAIA,KAAK,CAACmB,GAAN,KAAc,WAAd,IAA6BnB,KAAK,CAACmB,GAAN,KAAc,MAA/C,EAAuD;MACnDnB,KAAK,CAACqB,cAAN;MACA,KAAKzB,IAAL,CAAU5I,cAAV,GAA2BrC,QAA3B,GAAsC,KAAtC;MACA,IAAIM,IAAI,GAAG,KAAK2K,IAAL,CAAUnJ,WAAV,EAAX;;MACA,IAAIxB,IAAJ,EAAU;QACNA,IAAI,CAACN,QAAL,GAAgB,IAAhB;MACH;IACJ,CAPD,MAQK,IAAIqL,KAAK,CAACmB,GAAN,KAAc,SAAd,IAA2BnB,KAAK,CAACmB,GAAN,KAAc,IAA7C,EAAmD;MACpDnB,KAAK,CAACqB,cAAN;MACA,KAAKzB,IAAL,CAAU5I,cAAV,GAA2BrC,QAA3B,GAAsC,KAAtC;MACA,IAAIM,IAAI,GAAG,KAAK2K,IAAL,CAAUhJ,WAAV,EAAX;;MACA,IAAI3B,IAAJ,EAAU;QACNA,IAAI,CAACN,QAAL,GAAgB,IAAhB;MACH;IACJ;EACJ;EACD;AACJ;AACA;AACA;AACA;;;EACI9D,qBAAqB,GAAG;IACpB,IAAI,CAAC,KAAK+O,IAAV,EAAgB;MACZ;IACH;;IACD,IAAIjL,QAAQ,GAAG,KAAKiL,IAAL,CAAU7I,WAAV,EAAf;;IACA,IAAIpC,QAAQ,CAAC+K,MAAT,KAAoB,CAAC,KAAKxO,YAAN,IAAsB,CAAC,KAAK2Q,cAAL,EAA3C,CAAJ,EAAuE;MACnE,IAAI,KAAK1L,IAAL,KAAc,OAAlB,EAA2B;QACvB,OAAOlL,EAAE,CAAC,KAAKmS,WAAN,CAAT;MACH,CAFD,MAGK;QACD,OAAOnS,EAAE,CAAC0J,QAAQ,CAAC,CAAD,CAAR,CAAYC,OAAb,CAAT;MACH;IACJ,CAPD,MAQK,IAAID,QAAQ,CAAC+K,MAAT,IAAmB,KAAKmC,cAAL,EAAvB,EAA8C;MAC/C,OAAO5W,EAAE,CAAC,KAAKiG,YAAN,CAAT;IACH;;IACD,OAAOjG,EAAE,CAAC,KAAKmS,WAAN,CAAT;EACH;;EACDyE,cAAc,GAAG;IACb,OAAO,OAAO,KAAK3Q,YAAZ,KAA6B,QAApC;EACH;;EACDD,wBAAwB,GAAG;IACvB,IAAI,CAAC,KAAK2O,IAAV,EAAgB;MACZ;IACH;;IACD,IAAIjL,QAAQ,GAAG,KAAKiL,IAAL,CAAU7I,WAAV,EAAf;;IACA,IAAI,KAAKZ,IAAL,KAAc,OAAlB,EAA2B;MACvB,OAAO;QAAEI,KAAK,EAAE5B;MAAT,CAAP;IACH,CAFD,MAGK,IAAIA,QAAQ,IAAIA,QAAQ,CAAC+K,MAAT,GAAkB,CAAlC,EAAqC;MACtC,OAAO;QAAEzK,IAAI,EAAEN,QAAQ,CAAC,CAAD;MAAhB,CAAP,CADsC,CACR;IACjC,CAFI,MAGA;MACD,OAAO,EAAP;IACH;EACJ;;EACDnE,gBAAgB,GAAG;IACf,IAAI,KAAKoP,IAAL,CAAU7I,WAAV,EAAJ,EAA6B;MACzB,OAAO,KAAK6I,IAAL,CAAU7I,WAAV,GAAwB2I,MAA/B;IACH;EACJ;;EACD1P,aAAa,GAAG;IACZ,IAAI,KAAKV,QAAL,IAAiB,KAAKkB,gBAAL,OAA4B,CAAjD,EAAoD;MAChD;IACH;;IACD,KAAK,MAAMyE,IAAX,IAAmB,KAAK2K,IAAL,CAAU1I,YAAV,EAAnB,EAA6C;MACzCjC,IAAI,CAACN,QAAL,GAAgB,KAAhB;IACH;;IACD,KAAKA,QAAL,CAAcyL,IAAd,CAAmB,EAAnB;IACA,KAAKjB,eAAL,CAAqB,EAArB;EACH;EACD;AACJ;AACA;;;EACI2C,aAAa,GAAG;IACZ,IAAI,KAAKlC,IAAL,CAAU7I,WAAV,EAAJ,EAA6B;MACzB,OAAO,IAAP;IACH;;IACD,OAAO,KAAP;EACH;;EACDyH,KAAK,GAAG,CAAG;EACX;AACJ;AACA;;;EACIG,aAAa,CAACqB,KAAD,EAAQ;IACjB,IAAI,CAAC,KAAKlD,UAAL,CAAgBwD,aAAhB,CAA8BtF,QAA9B,CAAuCgF,KAAK,CAAC0B,MAA7C,CAAD,IACA;IACA;IACA,CAAC,KAAKD,YAAL,CAAkBnB,aAAlB,CAAgCtF,QAAhC,CAAyCgF,KAAK,CAAC0B,MAA/C,CAHL,EAG6D;MACzD,KAAKzB,SAAL;IACH;EACJ;;EACDpB,WAAW,CAACmB,KAAD,EAAQ;IACf,IAAI,CAAC,KAAKxO,YAAN,IAAsBwO,KAAK,CAACmB,GAAN,KAAc,KAApC,IAA6C,KAAKM,YAAL,CAAkBnB,aAAlB,CAAgCtF,QAAhC,CAAyCgF,KAAK,CAAC0B,MAA/C,CAAjD,EAAyG;MACrG,KAAKzB,SAAL;IACH;EACJ;EACD;AACJ;AACA;;;EACIlB,YAAY,CAACiB,KAAD,EAAQ;IAChB;IACA,IAAI,CAACA,KAAK,CAACmB,GAAN,KAAc,QAAd,IAA0BnB,KAAK,CAACmB,GAAN,KAAc,KAAzC,KAAmD,CAAC,KAAK3P,YAA7D,EAA2E;MACvEwO,KAAK,CAACoB,wBAAN,GADuE,CACrC;IACrC;;IACD,IAAIpB,KAAK,CAACmB,GAAN,KAAc,QAAd,IAA0BnB,KAAK,CAACmB,GAAN,KAAc,KAA5C,EAAmD;MAC/CnB,KAAK,CAACqB,cAAN;MACA,KAAKpB,SAAL;MACA,KAAKqB,cAAL,CAAoBhB,aAApB,CAAkCiB,KAAlC;IACH,CAJD,MAKK,IAAI,CAAC,KAAK/P,YAAN,IAAsBwO,KAAK,CAACmB,GAAN,KAAc,KAAxC,EAA+C;MAChD;MACA;MACA,KAAKG,cAAL,CAAoBhB,aAApB,CAAkCiB,KAAlC;MACA,KAAKD,cAAL,CAAoBhB,aAApB,CAAkCyB,aAAlC,CAAgD,IAAIC,aAAJ,CAAkB,SAAlB,EAA6B;QAAEC,OAAO,EAAE,IAAX;QAAiBC,UAAU,EAAE,IAA7B;QAAmCf,GAAG,EAAE;MAAxC,CAA7B,CAAhD;MACA,KAAKlB,SAAL;IACH;EACJ;EACD;AACJ;AACA;;;EACIM,iBAAiB,GAAG;IAChB,KAAKvD,eAAL,CAAqBxC,gBAArB,CAAsC,KAAKsC,UAAL,CAAgBwD,aAAtD;IACA,KAAKmB,YAAL,CAAkBnB,aAAlB,CAAgC6B,mBAAhC,CAAoD,SAApD,EAA+D,KAAKrD,WAApE,EAAiF,IAAjF;EACH;EACD;AACJ;AACA;;;EACIsD,aAAa,GAAG;IACZ,MAAMC,UAAU,GAAG,KAAK7E,KAAL,KAAe,OAAf,GAAyB,sBAAzB,GAAkD,EAArE;IACA,MAAM8E,aAAa,GAAG,CAAC,KAAK9Q,YAAN,GAAqB,yBAArB,GAAiD,EAAvE;IACA,KAAKwL,eAAL,CAAqB5D,YAArB,CAAkC,KAAKkI,cAAL,CAAoBhB,aAAtD,EAAqE,KAAKmB,YAAL,CAAkBnB,aAAvF,EAAuG,GAAE,KAAKxD,UAAL,CAAgBwD,aAAhB,CAA8BzG,SAAU,GAAEwI,UAAW,GAAEC,aAAc,EAA9K;IACA,KAAKb,YAAL,CAAkBnB,aAAlB,CAAgCiC,gBAAhC,CAAiD,SAAjD,EAA4D,KAAKzD,WAAjE,EAA8E,IAA9E;EACH;EACD;AACJ;AACA;AACA;;;EACI0D,aAAa,GAAG;IACZ;IACA,MAAM7H,IAAI,GAAG,KAAK8G,YAAL,IAAqB,KAAKA,YAAL,CAAkBnB,aAAlB,CAAgChF,aAAhC,CAA8C,qBAA9C,CAAlC,CAFY,CAGZ;;IACA,MAAMmH,QAAQ,GAAG9H,IAAI,IAAIA,IAAI,CAACY,qBAAL,EAAzB;;IACA,IAAIZ,IAAI,IAAI8H,QAAZ,EAAsB;MAClB,MAAMC,iBAAiB,GAAGxV,oBAAoB,CAACyN,IAAD,CAA9C;MACA,OAAO+H,iBAAiB,CAACC,MAAlB,CAAyB,CAACC,YAAD,EAAeC,MAAf,KAA0B;QACtD,MAAMC,UAAU,GAAGD,MAAM,CAACtH,qBAAP,EAAnB;QACA,MAAMwH,aAAa,GAAG,EAAEN,QAAQ,CAACO,MAAT,IAAmBF,UAAU,CAACE,MAAhC,CAAtB;QACA,OAAOJ,YAAY,IAAIG,aAAvB;MACH,CAJM,EAIJ,KAJI,CAAP;IAKH;;IACD,OAAO,KAAP;EACH;EACD;AACJ;AACA;;;EACIvB,QAAQ,GAAG;IACP;IACA,IAAI,KAAK5B,IAAL,CAAU1I,YAAV,GAAyBwI,MAAzB,KAAoC,CAAxC,EAA2C;MACvC;IACH;;IACD,KAAKpB,OAAL,GAAe,KAAf;IACA,KAAK9M,YAAL,GAAoB,KAApB,CANO,CAOP;IACA;;IACA,IAAI,CAAC,KAAKsM,YAAV,EAAwB;MACpB,MAAM4D,MAAM,GAAG,KAAKJ,cAAL,CAAoBhB,aAAnC;MACA,MAAMuC,MAAM,GAAG,KAAK/F,UAAL,CAAgBwD,aAA/B;MACA,KAAKtB,sBAAL,GAA8B,KAAK9B,cAAL,CACzB+F,UADyB,CACdvB,MADc,EACNmB,MADM,EAEzBvI,SAFyB,CAEf9D,KAAK,IAAI;QACpB,IAAI,CAACA,KAAK,CAAC0M,OAAX,EAAoB;UAChB,KAAKjD,SAAL;QACH;MACJ,CAN6B,CAA9B;;MAOA,KAAKmC,aAAL;IACH,CApBM,CAqBP;IACA;;;IACAe,UAAU,CAAC,MAAM;MACb,IAAI,KAAKC,MAAL,KAAgB,IAAhB,IAAwB,KAAKA,MAAL,KAAgBC,SAA5C,EAAuD;QACnD,KAAK/E,OAAL,GAAe,KAAKkE,aAAL,EAAf;MACH;IACJ,CAJS,EAIP,CAJO,CAAV,CAvBO,CA4BP;IACA;;IACA7I,QAAQ,CAACQ,IAAT,CAAcS,iBAAd,CAAgC2H,gBAAhC,CAAiD,OAAjD,EAA0D,KAAKhE,IAA/D,EAAqE,IAArE;IACA5E,QAAQ,CAACQ,IAAT,CAAcS,iBAAd,CAAgC2H,gBAAhC,CAAiD,SAAjD,EAA4D,KAAKhE,IAAjE,EAAuE,IAAvE;IACA5E,QAAQ,CAAC4I,gBAAT,CAA0B,OAA1B,EAAmC,KAAK7D,YAAxC,EAAsD,IAAtD;IACA/E,QAAQ,CAAC4I,gBAAT,CAA0B,SAA1B,EAAqC,KAAK3D,UAA1C,EAAsD,IAAtD;IACAuE,UAAU,CAAC,MAAM,KAAKvD,IAAL,CAAUvI,SAAV,EAAP,EAA8B,CAA9B,CAAV;EACH;EACD;AACJ;AACA;;;EACI4I,SAAS,GAAG;IACR;IACA,IAAI,KAAKzO,YAAT,EAAuB;MACnB;IACH;;IACD,KAAKA,YAAL,GAAoB,IAApB;IACA,KAAK2O,eAAL;IACA,KAAKhC,OAAL,CAAaiC,IAAb;IACA,KAAKhC,KAAL,CAAWgC,IAAX,GARQ,CASR;;IACA,KAAKkB,cAAL,CAAoBhB,aAApB,CAAkCiB,KAAlC,GAVQ,CAWR;;IACA,IAAI,KAAK3B,IAAL,CAAU,eAAV,CAAJ,EAAgC;MAC5B,KAAKA,IAAL,CAAU,eAAV;IACH,CAdO,CAeR;;;IACA,IAAI,CAAC,KAAK9B,YAAV,EAAwB;MACpB,KAAKkB,sBAAL,CAA4BnE,WAA5B;;MACA,KAAK0F,iBAAL;IACH;;IACD5G,QAAQ,CAACQ,IAAT,CAAcS,iBAAd,CAAgCuH,mBAAhC,CAAoD,OAApD,EAA6D,KAAK5D,IAAlE,EAAwE,IAAxE;IACA5E,QAAQ,CAACQ,IAAT,CAAcS,iBAAd,CAAgCuH,mBAAhC,CAAoD,SAApD,EAA+D,KAAK5D,IAApE,EAA0E,IAA1E;IACA5E,QAAQ,CAACwI,mBAAT,CAA6B,OAA7B,EAAsC,KAAKzD,YAA3C,EAAyD,IAAzD;IACA/E,QAAQ,CAACwI,mBAAT,CAA6B,SAA7B,EAAwC,KAAKvD,UAA7C,EAAyD,IAAzD;EACH;EACD;AACJ;AACA;;;EACI0E,UAAU,GAAG;IACT,IAAI,KAAK9R,YAAT,EAAuB;MACnB,KAAKgQ,QAAL;IACH,CAFD,MAGK;MACD,KAAKvB,SAAL;IACH;EACJ;;EACD1Q,UAAU,CAACiH,KAAD,EAAQ;IACd,OAAOA,KAAK,YAAYpK,WAAxB;EACH;EACD;AACJ;AACA;;;EACI+T,eAAe,GAAG;IACd,MAAMoD,cAAc,GAAG,KAAK/R,YAAL,IAAqB,KAAKuM,iBAAL,KAA2B,kBAAvE;;IACA,IAAK,KAAK5H,IAAL,KAAc,OAAf,KAA4BoN,cAAc,IAAI,KAAKxF,iBAAL,KAA2B,KAAzE,CAAJ,EAAqF;MACjF,KAAK6B,IAAL,CAAUpI,eAAV;IACH;EACJ;;AAvjBU;;AAyjBfqF,QAAQ,CAACnF,IAAT,GAAgB,SAAS8L,gBAAT,CAA0B5L,CAA1B,EAA6B;EAAE,OAAO,KAAKA,CAAC,IAAIiF,QAAV,EAAoBvP,MAAM,CAACmW,iBAAP,CAAyBnW,MAAM,CAACvB,UAAhC,CAApB,EAAiEuB,MAAM,CAACmW,iBAAP,CAAyBhW,MAAM,CAACd,IAAhC,CAAjE,EAAwGW,MAAM,CAACmW,iBAAP,CAAyB7K,eAAzB,CAAxG,EAAmJtL,MAAM,CAACmW,iBAAP,CAAyBnW,MAAM,CAACjB,cAAhC,CAAnJ,EAAoMiB,MAAM,CAACmW,iBAAP,CAAyBjW,MAAM,CAACP,cAAhC,CAApM,CAAP;AAA8P,CAA7S;;AACA4P,QAAQ,CAAC6G,IAAT,GAAgB,aAAcpW,MAAM,CAACqW,iBAAP,CAAyB;EAAExN,IAAI,EAAE0G,QAAR;EAAkB9E,SAAS,EAAE,CAAC,CAAC,cAAD,CAAD,CAA7B;EAAiD6L,cAAc,EAAE,SAASC,uBAAT,CAAiC9V,EAAjC,EAAqCC,GAArC,EAA0C8V,QAA1C,EAAoD;IAAE,IAAI/V,EAAE,GAAG,CAAT,EAAY;MAClLT,MAAM,CAACyW,cAAP,CAAsBD,QAAtB,EAAgC1N,oBAAhC,EAAsD,CAAtD;IACH;;IAAC,IAAIrI,EAAE,GAAG,CAAT,EAAY;MACV,IAAIiW,EAAJ;;MACA1W,MAAM,CAAC2W,cAAP,CAAsBD,EAAE,GAAG1W,MAAM,CAAC4W,WAAP,EAA3B,MAAqDlW,GAAG,CAAC4R,IAAJ,GAAWoE,EAAE,CAACxY,KAAnE;IACH;EAAE,CALgD;EAK9C2Y,SAAS,EAAE,SAASC,cAAT,CAAwBrW,EAAxB,EAA4BC,GAA5B,EAAiC;IAAE,IAAID,EAAE,GAAG,CAAT,EAAY;MAC3DT,MAAM,CAAC+W,WAAP,CAAmBzW,GAAnB,EAAwB,CAAxB;MACAN,MAAM,CAAC+W,WAAP,CAAmBxW,GAAnB,EAAwB,CAAxB;IACH;;IAAC,IAAIE,EAAE,GAAG,CAAT,EAAY;MACV,IAAIiW,EAAJ;;MACA1W,MAAM,CAAC2W,cAAP,CAAsBD,EAAE,GAAG1W,MAAM,CAAC4W,WAAP,EAA3B,MAAqDlW,GAAG,CAACsT,cAAJ,GAAqB0C,EAAE,CAACxY,KAA7E;MACA8B,MAAM,CAAC2W,cAAP,CAAsBD,EAAE,GAAG1W,MAAM,CAAC4W,WAAP,EAA3B,MAAqDlW,GAAG,CAACyT,YAAJ,GAAmBuC,EAAE,CAACxY,KAA3E;IACH;EAAE,CAZgD;EAY9C8Y,QAAQ,EAAE,CAZoC;EAYjCC,YAAY,EAAE,SAASC,qBAAT,CAA+BzW,EAA/B,EAAmCC,GAAnC,EAAwC;IAAE,IAAID,EAAE,GAAG,CAAT,EAAY;MAClFT,MAAM,CAACqC,UAAP,CAAkB,SAAlB,EAA6B,SAAS8U,mCAAT,CAA6ChP,MAA7C,EAAqD;QAAE,OAAOzH,GAAG,CAACkT,SAAJ,CAAczL,MAAd,CAAP;MAA+B,CAAnH;IACH;;IAAC,IAAI1H,EAAE,GAAG,CAAT,EAAY;MACVT,MAAM,CAACoX,WAAP,CAAmB,uBAAnB,EAA4C1W,GAAG,CAACqQ,SAAhD;IACH;EAAE,CAhBgD;EAgB9CrG,MAAM,EAAE;IAAE5I,EAAE,EAAE,IAAN;IAAYgO,WAAW,EAAE,aAAzB;IAAwClM,YAAY,EAAE,cAAtD;IAAsEZ,SAAS,EAAE,WAAjF;IAA8FgG,IAAI,EAAE,MAApG;IAA4GH,IAAI,EAAE,MAAlH;IAA0HqH,KAAK,EAAE,OAAjI;IAA0IlO,QAAQ,EAAE,UAApJ;IAAgKmO,QAAQ,EAAE,UAA1K;IAAsLC,MAAM,EAAE,QAA9L;IAAwMC,gBAAgB,EAAE,kBAA1N;IAA8OC,OAAO,EAAE,SAAvP;IAAkQC,IAAI,EAAE,MAAxQ;IAAgRC,YAAY,EAAE,cAA9R;IAA8SC,iBAAiB,EAAE,mBAAjU;IAAsVrM,eAAe,EAAE,iBAAvW;IAA0XuM,aAAa,EAAE,eAAzY;IAA0ZzH,KAAK,EAAE,OAAja;IAA0a+I,YAAY,EAAE,cAAxb;IAAwc/Q,KAAK,EAAE,OAA/c;IAAwduD,UAAU,EAAE,YAApe;IAAkfS,WAAW,EAAE,aAA/f;IAA8gBQ,QAAQ,EAAE,UAAxhB;IAAoiB2R,mBAAmB,EAAE,qBAAzjB;IAAglBvB,MAAM,EAAE;EAAxlB,CAhBsC;EAgB8jBnL,OAAO,EAAE;IAAEtD,QAAQ,EAAE,UAAZ;IAAwBwJ,OAAO,EAAE,SAAjC;IAA4CC,KAAK,EAAE;EAAnD,CAhBvkB;EAgBqoBwG,QAAQ,EAAE,CAACtX,MAAM,CAACuX,kBAAP,CAA0B,CACrtB;IACIC,OAAO,EAAErY,iBADb;IAEIsY,WAAW,EAAElI,QAFjB;IAGImI,KAAK,EAAE;EAHX,CADqtB,CAA1B,CAAD,CAhB/oB;EAsB1CC,kBAAkB,EAAE5Q,GAtBsB;EAsBjB6Q,KAAK,EAAE,EAtBU;EAsBNC,IAAI,EAAE,EAtBA;EAsBIC,MAAM,EAAE,CAAC,CAAC,OAAD,EAAU,WAAV,EAAuB,CAAvB,EAA0B,KAA1B,EAAiC,SAAjC,EAA4C,CAA5C,EAA+C,MAA/C,CAAD,EAAyD,CAAC,CAAD,EAAI,cAAJ,EAAoB,CAApB,EAAuB,SAAvB,CAAzD,EAA4F,CAAC,MAAD,EAAS,QAAT,EAAmB,eAAnB,EAAoC,SAApC,EAA+C,CAA/C,EAAkD,qBAAlD,EAAyE,CAAzE,EAA4E,IAA5E,EAAkF,SAAlF,EAA6F,OAA7F,EAAsG,MAAtG,CAA5F,EAA2M,CAAC,gBAAD,EAAmB,EAAnB,CAA3M,EAAmO,CAAC,OAAD,EAAU,wEAAV,EAAoF,UAApF,EAAgG,GAAhG,EAAqG,CAArG,EAAwG,OAAxG,EAAiH,OAAjH,EAA0H,eAA1H,EAA2I,CAA3I,EAA8I,MAA9I,CAAnO,EAA0X,CAAC,OAAD,EAAU,qBAAV,EAAiC,CAAjC,EAAoC,MAApC,CAA1X,EAAua,CAAC,CAAD,EAAI,MAAJ,CAAva,EAAob,CAAC,OAAD,EAAU,4BAAV,EAAwC,SAAxC,EAAmD,iBAAnD,EAAsE,MAAtE,EAA8E,IAA9E,EAAoF,CAApF,EAAuF,MAAvF,CAApb,EAAohB,CAAC,SAAD,EAAY,sBAAZ,EAAoC,MAApC,EAA4C,IAA5C,EAAkD,OAAlD,EAA2D,gEAA3D,EAA6H,CAA7H,EAAgI,MAAhI,CAAphB,EAA6pB,CAAC,CAAD,EAAI,yBAAJ,CAA7pB,EAA6rB,CAAC,SAAD,EAAY,eAAZ,EAA6B,MAA7B,EAAqC,IAArC,EAA2C,CAA3C,EAA8C,SAA9C,EAAyD,CAAzD,EAA4D,MAA5D,CAA7rB,EAAkwB,CAAC,CAAD,EAAI,SAAJ,CAAlwB,EAAkxB,CAAC,cAAD,EAAiB,EAAjB,CAAlxB,EAAwyB,CAAC,OAAD,EAAU,uBAAV,EAAmC,CAAnC,EAAsC,SAAtC,EAAiD,CAAjD,EAAoD,MAApD,CAAxyB,EAAq2B,CAAC,OAAD,EAAU,sBAAV,EAAkC,CAAlC,EAAqC,MAArC,CAAr2B,EAAm5B,CAAC,CAAD,EAAI,WAAJ,EAAiB,CAAjB,EAAoB,KAApB,EAA2B,SAA3B,CAAn5B,EAA07B,CAAC,CAAD,EAAI,kBAAJ,CAA17B,EAAm9B,CAAC,UAAD,EAAa,GAAb,EAAkB,CAAlB,EAAqB,yBAArB,EAAgD,iBAAhD,EAAmE,gCAAnE,EAAqG,CAArG,EAAwG,OAAxG,EAAiH,OAAjH,EAA0H,eAA1H,CAAn9B,EAA+lC,CAAC,WAAD,EAAc,OAAd,EAAuB,qBAAvB,EAA8C,eAA9C,EAA+D,MAA/D,EAAuE,KAAvE,EAA8E,OAA9E,EAAuF,4BAAvF,EAAqH,OAArH,EAA8H,IAA9H,EAAoI,QAApI,EAA8I,IAA9I,EAAoJ,SAApJ,EAA+J,WAA/J,EAA4K,aAA5K,EAA2L,MAA3L,EAAmM,CAAnM,EAAsM,aAAtM,EAAqN,WAArN,CAA/lC,EAAk0C,CAAC,GAAD,EAAM,8EAAN,CAAl0C,EAAy5C,CAAC,CAAD,EAAI,qBAAJ,CAAz5C,EAAq7C,CAAC,CAAD,EAAI,yBAAJ,EAA+B,kBAA/B,CAAr7C,EAAy+C,CAAC,SAAD,EAAY,iBAAZ,EAA+B,MAA/B,EAAuC,IAAvC,EAA6C,CAA7C,EAAgD,4BAAhD,CAAz+C,EAAwjD,CAAC,SAAD,EAAY,sBAAZ,EAAoC,MAApC,EAA4C,IAA5C,EAAkD,CAAlD,EAAqD,4BAArD,EAAmF,qCAAnF,CAAxjD,EAAmrD,CAAC,SAAD,EAAY,eAAZ,EAA6B,MAA7B,EAAqC,IAArC,EAA2C,CAA3C,EAA8C,SAA9C,CAAnrD,EAA6uD,CAAC,CAAD,EAAI,uBAAJ,EAA6B,CAA7B,EAAgC,SAAhC,CAA7uD,EAAyxD,CAAC,CAAD,EAAI,sBAAJ,CAAzxD,CAtBZ;EAsBm0DC,QAAQ,EAAE,SAASC,iBAAT,CAA2BvX,EAA3B,EAA+BC,GAA/B,EAAoC;IAAE,IAAID,EAAE,GAAG,CAAT,EAAY;MAC96DT,MAAM,CAACiY,eAAP;MACAjY,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBK,yBAArB,EAAgD,CAAhD,EAAmD,CAAnD,EAAsD,OAAtD,EAA+D,CAA/D;MACA1B,MAAM,CAAC2B,cAAP,CAAsB,CAAtB,EAAyB,KAAzB,EAAgC,CAAhC,EAAmC,CAAnC,EAAsC,QAAtC,EAAgD,CAAhD,EAAmD,CAAnD;MACA3B,MAAM,CAACqC,UAAP,CAAkB,OAAlB,EAA2B,SAAS6V,yCAAT,CAAmD/P,MAAnD,EAA2D;QAAE,OAAOzH,GAAG,CAACsB,QAAJ,GAAemG,MAAM,CAACgQ,eAAP,EAAf,GAA0CzX,GAAG,CAACsV,UAAJ,EAAjD;MAAoE,CAA5J,EAA8J,MAA9J,EAAsK,SAASoC,wCAAT,GAAoD;QAAE,OAAO1X,GAAG,CAAC4S,MAAJ,EAAP;MAAsB,CAAlP;MACAtT,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBa,uBAArB,EAA8C,CAA9C,EAAiD,CAAjD,EAAoD,KAApD,EAA2D,CAA3D;MACAlC,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqB8B,wBAArB,EAA+C,CAA/C,EAAkD,CAAlD,EAAqD,MAArD,EAA6D,CAA7D;MACAnD,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBoC,mBAArB,EAA0C,CAA1C,EAA6C,CAA7C,EAAgD,IAAhD,EAAsD,CAAtD;MACAzD,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqBwC,4BAArB,EAAmD,CAAnD,EAAsD,CAAtD,EAAyD,KAAzD,EAAgE,CAAhE;MACA7D,MAAM,CAACqB,UAAP,CAAkB,CAAlB,EAAqByC,4BAArB,EAAmD,CAAnD,EAAsD,CAAtD,EAAyD,KAAzD,EAAgE,CAAhE;MACA9D,MAAM,CAAC2B,cAAP,CAAsB,CAAtB,EAAyB,MAAzB,EAAiC,CAAjC;MACA3B,MAAM,CAACqB,UAAP,CAAkB,EAAlB,EAAsB2C,6BAAtB,EAAqD,CAArD,EAAwD,CAAxD,EAA2D,KAA3D,EAAkE,EAAlE;MACAhE,MAAM,CAAC4B,YAAP;MACA5B,MAAM,CAAC2B,cAAP,CAAsB,EAAtB,EAA0B,KAA1B,EAAiC,EAAjC,EAAqC,EAArC;MACA3B,MAAM,CAACqB,UAAP,CAAkB,EAAlB,EAAsBgD,+BAAtB,EAAuD,CAAvD,EAA0D,CAA1D,EAA6D,YAA7D,EAA2E,CAA3E;MACArE,MAAM,CAAC4B,YAAP;MACA5B,MAAM,CAACqB,UAAP,CAAkB,EAAlB,EAAsByD,wBAAtB,EAAgD,CAAhD,EAAmD,CAAnD,EAAsD,KAAtD,EAA6D,EAA7D;MACA9E,MAAM,CAACqB,UAAP,CAAkB,EAAlB,EAAsBiE,wBAAtB,EAAgD,CAAhD,EAAmD,CAAnD,EAAsD,KAAtD,EAA6D,EAA7D;MACAtF,MAAM,CAACqB,UAAP,CAAkB,EAAlB,EAAsByE,wBAAtB,EAAgD,CAAhD,EAAmD,CAAnD,EAAsD,KAAtD,EAA6D,EAA7D;IACH;;IAAC,IAAIrF,EAAE,GAAG,CAAT,EAAY;MACVT,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0Bb,GAAG,CAACQ,KAA9B;MACAlB,MAAM,CAACgB,SAAP,CAAiB,CAAjB;MACAhB,MAAM,CAACuB,UAAP,CAAkB,SAAlB,EAA6BvB,MAAM,CAACqY,eAAP,CAAuB,EAAvB,EAA2BrS,GAA3B,EAAgC,CAACtF,GAAG,CAACmI,IAAJ,KAAa,OAAd,EAAuBnI,GAAG,CAACmI,IAAJ,KAAa,OAApC,EAA6CnI,GAAG,CAACmI,IAAJ,KAAa,OAAb,IAAwBnI,GAAG,CAACwC,gBAAJ,KAAyB,CAA9F,EAAiGxC,GAAG,CAACwP,KAAJ,KAAc,OAA/G,EAAwHxP,GAAG,CAACwP,KAAJ,KAAc,OAAtI,EAA+IxP,GAAG,CAAC0P,MAAnJ,EAA2J1P,GAAG,CAACyP,QAA/J,EAAyKzP,GAAG,CAACsB,QAA7K,EAAuLtB,GAAG,CAAC4P,OAA3L,EAAoM5P,GAAG,CAAC6P,IAAxM,EAA8M7P,GAAG,CAACsI,IAAJ,KAAa,IAA3N,EAAiOtI,GAAG,CAACsI,IAAJ,KAAa,IAA9O,EAAoP,CAACtI,GAAG,CAACwD,YAAzP,CAAhC,CAA7B;MACAlE,MAAM,CAACgB,SAAP,CAAiB,CAAjB;MACAhB,MAAM,CAACuB,UAAP,CAAkB,IAAlB,EAAwBb,GAAG,CAACoB,EAA5B,EAAgC,SAAhC,EAA2C9B,MAAM,CAAC+B,eAAP,CAAuB,EAAvB,EAA2B8E,GAA3B,EAAgC,CAACnG,GAAG,CAACwD,YAArC,CAA3C;MACAlE,MAAM,CAACmE,WAAP,CAAmB,eAAnB,EAAoC,CAACzD,GAAG,CAACwD,YAAzC,EAAuD,eAAvD,EAAwExD,GAAG,CAACsB,QAA5E,EAAsF,UAAtF,EAAkGtB,GAAG,CAACsB,QAAJ,GAAe,IAAf,GAAsB,IAAxH;MACAhC,MAAM,CAACgB,SAAP,CAAiB,CAAjB;MACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0Bb,GAAG,CAACmI,IAAJ,KAAa,OAAb,IAAwBnI,GAAG,CAACwC,gBAAJ,KAAyB,CAA3E;MACAlD,MAAM,CAACgB,SAAP,CAAiB,CAAjB;MACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0Bb,GAAG,CAAC6T,cAAJ,EAA1B;MACAvU,MAAM,CAACgB,SAAP,CAAiB,CAAjB;MACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0B,CAACb,GAAG,CAAC6T,cAAJ,EAA3B;MACAvU,MAAM,CAACgB,SAAP,CAAiB,CAAjB;MACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0B,CAACb,GAAG,CAAC6P,IAAL,IAAa7P,GAAG,CAAC4P,OAA3C;MACAtQ,MAAM,CAACgB,SAAP,CAAiB,CAAjB;MACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0B,CAACb,GAAG,CAAC4P,OAAL,IAAgB5P,GAAG,CAAC6P,IAA9C;MACAvQ,MAAM,CAACgB,SAAP,CAAiB,CAAjB;MACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0B,CAACb,GAAG,CAACyP,QAA/B;MACAnQ,MAAM,CAACgB,SAAP,CAAiB,CAAjB;MACAhB,MAAM,CAACuB,UAAP,CAAkB,SAAlB,EAA6BvB,MAAM,CAAC+B,eAAP,CAAuB,EAAvB,EAA2B+E,GAA3B,EAAgCpG,GAAG,CAACoV,MAAJ,KAAe,IAAf,IAAuBpV,GAAG,CAACoV,MAAJ,KAAeC,SAAtC,GAAkDrV,GAAG,CAACoV,MAAtD,GAA+DpV,GAAG,CAACsQ,OAAnG,CAA7B;MACAhR,MAAM,CAACgB,SAAP,CAAiB,CAAjB;MACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0B,CAACb,GAAG,CAACwD,YAA/B;MACAlE,MAAM,CAACgB,SAAP,CAAiB,CAAjB;MACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0Bb,GAAG,CAAC+D,UAAJ,IAAkB,CAAC/D,GAAG,CAAC4P,OAAvB,IAAkC,CAAC5P,GAAG,CAAC6P,IAAjE;MACAvQ,MAAM,CAACgB,SAAP,CAAiB,CAAjB;MACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0B,CAACb,GAAG,CAAC6P,IAAL,IAAa7P,GAAG,CAAC4P,OAA3C;MACAtQ,MAAM,CAACgB,SAAP,CAAiB,CAAjB;MACAhB,MAAM,CAACuB,UAAP,CAAkB,MAAlB,EAA0B,CAACb,GAAG,CAAC4P,OAAL,IAAgB5P,GAAG,CAAC6P,IAA9C;IACH;EAAE,CAtEgD;EAsE9C+H,YAAY,EAAE,CAAClY,MAAM,CAACmY,OAAR,EAAiBnY,MAAM,CAACoY,IAAxB,EAA8BpY,MAAM,CAACqY,gBAArC,EAAuDpY,MAAM,CAACqY,aAA9D,EAA6EtY,MAAM,CAACuY,SAApF,CAtEgC;EAsEgEC,aAAa,EAAE;AAtE/E,CAAzB,CAA9B;AAuEArJ,QAAQ,CAACM,aAAT,GAAyB,CAAzB;AACA;;AACAN,QAAQ,CAACD,cAAT,GAA0B,MAAM,CAC5B;EAAEzG,IAAI,EAAEpK;AAAR,CAD4B,EAE5B;EAAEoK,IAAI,EAAExJ;AAAR,CAF4B,EAG5B;EAAEwJ,IAAI,EAAEyC;AAAR,CAH4B,EAI5B;EAAEzC,IAAI,EAAE9J;AAAR,CAJ4B,EAK5B;EAAE8J,IAAI,EAAElJ;AAAR,CAL4B,CAAhC;;AAOA4P,QAAQ,CAACzE,cAAT,GAA0B;EACtBhJ,EAAE,EAAE,CAAC;IAAE+G,IAAI,EAAE1K;EAAR,CAAD,CADkB;EAEtB+C,KAAK,EAAE,CAAC;IAAE2H,IAAI,EAAE1K;EAAR,CAAD,CAFe;EAGtBsG,UAAU,EAAE,CAAC;IAAEoE,IAAI,EAAE1K;EAAR,CAAD,CAHU;EAItB2R,WAAW,EAAE,CAAC;IAAEjH,IAAI,EAAE1K;EAAR,CAAD,CAJS;EAKtByF,YAAY,EAAE,CAAC;IAAEiF,IAAI,EAAE1K;EAAR,CAAD,CALQ;EAMtB6E,SAAS,EAAE,CAAC;IAAE6F,IAAI,EAAE1K;EAAR,CAAD,CANW;EAOtB6K,IAAI,EAAE,CAAC;IAAEH,IAAI,EAAE1K;EAAR,CAAD,CAPgB;EAQtB0K,IAAI,EAAE,CAAC;IAAEA,IAAI,EAAE1K;EAAR,CAAD,CARgB;EAStB+R,KAAK,EAAE,CAAC;IAAErH,IAAI,EAAE1K;EAAR,CAAD,CATe;EAUtB6D,QAAQ,EAAE,CAAC;IAAE6G,IAAI,EAAE1K;EAAR,CAAD,CAVY;EAWtBgS,QAAQ,EAAE,CAAC;IAAEtH,IAAI,EAAE1K;EAAR,CAAD,CAXY;EAYtBiS,MAAM,EAAE,CAAC;IAAEvH,IAAI,EAAE1K;EAAR,CAAD,CAZc;EAatBkS,gBAAgB,EAAE,CAAC;IAAExH,IAAI,EAAE1K;EAAR,CAAD,CAbI;EActBmS,OAAO,EAAE,CAAC;IAAEzH,IAAI,EAAE1K;EAAR,CAAD,CAda;EAetB+G,WAAW,EAAE,CAAC;IAAE2D,IAAI,EAAE1K;EAAR,CAAD,CAfS;EAgBtBoS,IAAI,EAAE,CAAC;IAAE1H,IAAI,EAAE1K;EAAR,CAAD,CAhBgB;EAiBtBuH,QAAQ,EAAE,CAAC;IAAEmD,IAAI,EAAE1K;EAAR,CAAD,CAjBY;EAkBtBqS,YAAY,EAAE,CAAC;IAAE3H,IAAI,EAAE1K;EAAR,CAAD,CAlBQ;EAmBtBkZ,mBAAmB,EAAE,CAAC;IAAExO,IAAI,EAAE1K;EAAR,CAAD,CAnBC;EAoBtB+K,KAAK,EAAE,CAAC;IAAEL,IAAI,EAAE1K;EAAR,CAAD,CApBe;EAqBtB8T,YAAY,EAAE,CAAC;IAAEpJ,IAAI,EAAE1K;EAAR,CAAD,CArBQ;EAsBtBsS,iBAAiB,EAAE,CAAC;IAAE5H,IAAI,EAAE1K;EAAR,CAAD,CAtBG;EAuBtBiG,eAAe,EAAE,CAAC;IAAEyE,IAAI,EAAE1K;EAAR,CAAD,CAvBK;EAwBtBwS,aAAa,EAAE,CAAC;IAAE9H,IAAI,EAAE1K;EAAR,CAAD,CAxBO;EAyBtB2X,MAAM,EAAE,CAAC;IAAEjN,IAAI,EAAE1K;EAAR,CAAD,CAzBc;EA0BtBkJ,QAAQ,EAAE,CAAC;IAAEwB,IAAI,EAAEzK;EAAR,CAAD,CA1BY;EA2BtByS,OAAO,EAAE,CAAC;IAAEhI,IAAI,EAAEzK;EAAR,CAAD,CA3Ba;EA4BtB0S,KAAK,EAAE,CAAC;IAAEjI,IAAI,EAAEzK;EAAR,CAAD,CA5Be;EA6BtBkU,IAAI,EAAE,CAAC;IAAEzJ,IAAI,EAAEnK,YAAR;IAAsBuM,IAAI,EAAE,CAACnC,oBAAD,EAAuB;MAAE+P,MAAM,EAAE;IAAV,CAAvB;EAA5B,CAAD,CA7BgB;EA8BtB7E,cAAc,EAAE,CAAC;IAAEnL,IAAI,EAAElK,SAAR;IAAmBsM,IAAI,EAAE,CAAC,gBAAD,EAAmB;MAAE4N,MAAM,EAAE;IAAV,CAAnB;EAAzB,CAAD,CA9BM;EA+BtB1E,YAAY,EAAE,CAAC;IAAEtL,IAAI,EAAElK,SAAR;IAAmBsM,IAAI,EAAE,CAAC,cAAD,EAAiB;MAAE4N,MAAM,EAAE;IAAV,CAAjB;EAAzB,CAAD,CA/BQ;EAgCtB9H,SAAS,EAAE,CAAC;IAAElI,IAAI,EAAEhK,WAAR;IAAqBoM,IAAI,EAAE,CAAC,6BAAD;EAA3B,CAAD,CAhCW;EAiCtB2I,SAAS,EAAE,CAAC;IAAE/K,IAAI,EAAEjK,YAAR;IAAsBqM,IAAI,EAAE,CAAC,SAAD,EAAY,CAAC,QAAD,CAAZ;EAA5B,CAAD;AAjCW,CAA1B;;AAmCA,CAAC,YAAY;EAAE,CAAC,OAAOF,SAAP,KAAqB,WAArB,IAAoCA,SAArC,KAAmD/K,MAAM,CAACgL,iBAAP,CAAyBuE,QAAzB,EAAmC,CAAC;IAC9F1G,IAAI,EAAErK,SADwF;IAE9FyM,IAAI,EAAE,CAAC;MACCC,QAAQ,EAAE,cADX;MAEC6M,QAAQ,EAAG;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAhHe;MAiHCe,SAAS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"},"metadata":{},"sourceType":"module"}