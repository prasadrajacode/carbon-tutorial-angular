{"ast":null,"code":"/**\n *\n * carbon-angular v0.0.0 | carbon-components-angular-utils.js\n *\n * Copyright 2014, 2022 IBM\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as ɵngcc0 from '@angular/core';\nexport { PLACEMENTS, Position, defaultPositions, position } from '@carbon/utils-position';\nimport { map } from 'rxjs/operators';\nimport { Injectable, NgZone, NgModule, Optional, SkipSelf } from '@angular/core';\nimport { Subject, from, fromEvent, merge, Observable, Subscription } from 'rxjs';\n\nfunction findSiblingElem(target, direction) {\n  if (target[direction]) {\n    if (target[direction].classList.contains(\"disabled\")) {\n      return findSiblingElem(target[direction], direction);\n    }\n\n    return target[direction];\n  }\n}\n\nfunction findNextElem(target) {\n  return findSiblingElem(target, \"nextElementSibling\");\n}\n\nfunction findPrevElem(target) {\n  return findSiblingElem(target, \"previousElementSibling\");\n} // check for Hight contrast mode\n\n\nfunction HcModeChecker() {\n  let colorTest = \"rgb(255, 0, 0)\";\n  let htmlChecker = document.createElement(\"div\");\n  htmlChecker.classList.add(\"hc-checker\");\n  document.body.appendChild(htmlChecker);\n\n  if (window.getComputedStyle(htmlChecker).backgroundColor.toString() !== colorTest) {\n    document.body.classList.add(\"a11y\");\n  }\n\n  document.body.removeChild(htmlChecker);\n}\n\nfunction focusNextTree(elem, rootElem = null) {\n  if (elem) {\n    let focusable = elem.querySelector(\"[tabindex='0']\");\n\n    if (focusable) {\n      focusable.focus();\n    } else {\n      focusNextElem(elem, rootElem);\n    }\n  }\n}\n\nfunction focusNextElem(elem, rootElem = null) {\n  if (elem) {\n    let nextElem = elem.nextElementSibling;\n\n    if (nextElem) {\n      let focusableElem = nextElem.querySelector(\"[tabindex='0']\");\n\n      if (focusableElem) {\n        focusableElem.focus();\n      } else {\n        focusNextElem(nextElem, rootElem);\n      }\n    } else {\n      if (rootElem) {\n        let nextRootElem = rootElem.nextElementSibling;\n\n        if (nextRootElem) {\n          focusNextTree(nextRootElem, rootElem);\n        }\n      }\n    }\n  }\n}\n\nfunction focusPrevElem(elem, parentRef = null) {\n  if (elem) {\n    let prevElem = elem.previousElementSibling;\n\n    if (prevElem) {\n      let focusableElem = prevElem.querySelector(\"[tabindex='0']\");\n\n      if (focusableElem) {\n        if (focusableElem.getAttribute(\"aria-expanded\") === \"true\") {\n          let lastFocElms = prevElem.querySelectorAll(\"[tabindex='0']\");\n          let arrLen = lastFocElms.length - 1;\n\n          for (let i = arrLen; i >= 0; i--) {\n            if (!!(lastFocElms[i].offsetWidth || lastFocElms[i].offsetHeight || lastFocElms[i].getClientRects().length)) {\n              focusableElem = lastFocElms[i];\n              break;\n            }\n          }\n        }\n\n        focusableElem.focus();\n      } else {\n        focusPrevElem(prevElem, parentRef);\n      }\n    } else {\n      if (parentRef) {\n        parentRef.querySelector(\"[tabindex='0']\").focus();\n      }\n    }\n  }\n}\n\nclass AnimationFrameServiceSingleton {\n  constructor(ngZone) {\n    this.ngZone = ngZone;\n    this.frameSource = new Subject();\n    this.tick = this.frameSource.asObservable();\n    this.ngZone.runOutsideAngular(() => {\n      this.animationFrameId = requestAnimationFrame(this.doTick.bind(this));\n    });\n  }\n\n  ngOnDestroy() {\n    cancelAnimationFrame(this.animationFrameId);\n  }\n\n  doTick(frame) {\n    this.frameSource.next(frame);\n    this.ngZone.runOutsideAngular(() => {\n      requestAnimationFrame(this.doTick.bind(this));\n    });\n  }\n\n}\n\nAnimationFrameServiceSingleton.ɵfac = function AnimationFrameServiceSingleton_Factory(t) {\n  return new (t || AnimationFrameServiceSingleton)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone));\n};\n\nAnimationFrameServiceSingleton.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n  token: AnimationFrameServiceSingleton,\n  factory: AnimationFrameServiceSingleton.ɵfac\n});\n/** @nocollapse */\n\nAnimationFrameServiceSingleton.ctorParameters = () => [{\n  type: NgZone\n}];\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AnimationFrameServiceSingleton, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: ɵngcc0.NgZone\n    }];\n  }, null);\n})();\n\nclass AnimationFrameService {\n  constructor(singleton) {\n    this.singleton = singleton;\n    this.tick = from(this.singleton.tick);\n  }\n\n}\n\nAnimationFrameService.ɵfac = function AnimationFrameService_Factory(t) {\n  return new (t || AnimationFrameService)(ɵngcc0.ɵɵinject(AnimationFrameServiceSingleton));\n};\n\nAnimationFrameService.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n  token: AnimationFrameService,\n  factory: AnimationFrameService.ɵfac\n});\n/** @nocollapse */\n\nAnimationFrameService.ctorParameters = () => [{\n  type: AnimationFrameServiceSingleton\n}];\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AnimationFrameService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: AnimationFrameServiceSingleton\n    }];\n  }, null);\n})(); // custom deep object merge\n\n\nconst merge$1 = (target, ...objects) => {\n  for (const object of objects) {\n    for (const key in object) {\n      if (object.hasOwnProperty(key)) {\n        // since we're dealing just with JSON this simple check should be enough\n        if (object[key] instanceof Object) {\n          if (!target[key]) {\n            target[key] = {};\n          } // recursively merge into the target\n          // most translations only run 3 or 4 levels deep, so no stack explosions\n\n\n          target[key] = merge$1(target[key], object[key]);\n        } else {\n          target[key] = object[key];\n        }\n      }\n    }\n  }\n\n  return target;\n};\n/**\n * Checks if a given element is scrollable.\n * If the element has an overflow set as part of its computed style it can scroll.\n * @param element the element to check scrollability\n */\n\n\nconst isScrollableElement = element => {\n  const computedStyle = getComputedStyle(element);\n  return computedStyle.overflow === \"auto\" || computedStyle.overflow === \"scroll\" || computedStyle[\"overflow-y\"] === \"auto\" || computedStyle[\"overflow-y\"] === \"scroll\" || computedStyle[\"overflow-x\"] === \"auto\" || computedStyle[\"overflow-x\"] === \"scroll\";\n};\n/**\n * Checks if an element is visible within a container\n * @param element the element to check\n * @param container the container to check\n */\n\n\nconst isVisibleInContainer = (element, container) => {\n  const elementRect = element.getBoundingClientRect();\n  const containerRect = container.getBoundingClientRect(); // If there exists `height: 100%` on the `html` or `body` tag of an application,\n  // it causes the calculation to return true if you need to scroll before the element is seen.\n  // In that case we calculate its visibility based on the window viewport.\n\n  if (container.tagName === \"BODY\" || container.tagName === \"HTML\") {\n    // This checks if element is within the top, bottom, left and right of viewport, ie. if the element is visible in\n    // the screen. This also takes into account partial visibility of an element.\n    const isAboveViewport = elementRect.top < 0 && elementRect.top + element.clientHeight < 0;\n    const isLeftOfViewport = elementRect.left < 0;\n    const isBelowViewport = elementRect.bottom - element.clientHeight > (window.innerHeight || document.documentElement.clientHeight);\n    const isRightOfViewport = elementRect.right > (window.innerWidth || document.documentElement.clientWidth);\n    const isVisibleInViewport = !(isAboveViewport || isBelowViewport || isLeftOfViewport || isRightOfViewport);\n    return isVisibleInViewport;\n  }\n\n  return (// This also accounts for partial visibility. It will still return true if the element is partially visible inside the container.\n    elementRect.bottom - element.clientHeight <= containerRect.bottom + (container.offsetHeight - container.clientHeight) / 2 && elementRect.top >= -element.clientHeight\n  );\n};\n\nconst getScrollableParents = node => {\n  const elements = [document.body];\n\n  while (node.parentElement && node !== document.body) {\n    if (isScrollableElement(node)) {\n      elements.push(node);\n    }\n\n    node = node.parentElement;\n  }\n\n  return elements;\n};\n\nconst hasScrollableParents = node => {\n  while (node.parentElement && node !== document.body) {\n    if (isScrollableElement(node)) {\n      return true;\n    }\n\n    node = node.parentElement;\n  }\n\n  return false;\n};\n/**\n * Returns an observable that emits whenever any scrollable parent element scrolls\n *\n * @param node root element to start finding scrolling parents from\n */\n\n\nconst scrollableParentsObservable = node => {\n  const windowScroll = fromEvent(window, \"scroll\", {\n    passive: true\n  }).pipe(map(event => // update the event target to be something useful. In this case `body` is a sensible replacement\n  Object.assign({}, event, {\n    target: document.body\n  })));\n  let observables = [windowScroll]; // walk the parents and subscribe to all the scroll events we can\n\n  while (node.parentElement && node !== document.body) {\n    if (isScrollableElement(node)) {\n      observables.push(fromEvent(node, \"scroll\", {\n        passive: true\n      }));\n    }\n\n    node = node.parentElement;\n  }\n\n  return merge(...observables);\n};\n\nfunction clone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nfunction matchesAttr(el, attr, val) {\n  const styles = window.getComputedStyle(el);\n  return val.includes(styles[attr]);\n}\n\nfunction closestAttr(s, t, element) {\n  let el = element;\n\n  if (!element) {\n    return null;\n  }\n\n  do {\n    if (matchesAttr(el, s, t)) {\n      return el;\n    }\n\n    el = el.parentElement || el.parentNode;\n  } while (el !== null && el.nodeType === 1);\n\n  return null;\n}\n\nclass ElementService {\n  constructor(singleton) {\n    this.singleton = singleton;\n    this.tick = from(this.singleton.tick);\n  }\n\n  visibility(target, parentElement = target) {\n    const scrollableParents = getScrollableParents(parentElement);\n    return this.tick.pipe(map(() => {\n      for (const parent of scrollableParents) {\n        if (!isVisibleInContainer(target, parent)) {\n          return {\n            visible: false\n          };\n        }\n      }\n\n      return {\n        visible: true\n      };\n    }));\n  }\n\n}\n\nElementService.ɵfac = function ElementService_Factory(t) {\n  return new (t || ElementService)(ɵngcc0.ɵɵinject(AnimationFrameServiceSingleton));\n};\n\nElementService.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n  token: ElementService,\n  factory: ElementService.ɵfac\n});\n/** @nocollapse */\n\nElementService.ctorParameters = () => [{\n  type: AnimationFrameServiceSingleton\n}];\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ElementService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: AnimationFrameServiceSingleton\n    }];\n  }, null);\n})();\n\nconst getEventObservable = (targetElement, eventType) => {\n  switch (eventType) {\n    case \"scroll\":\n    case \"resize\":\n    case \"touchstart\":\n    case \"touchmove\":\n    case \"touchend\":\n      return fromEvent(targetElement, eventType, {\n        passive: true\n      });\n\n    default:\n      return fromEvent(targetElement, eventType);\n  }\n};\n\nclass DocumentService {\n  constructor() {\n    this.globalEvents = new Map();\n    this.documentRef = document;\n    this.subscriptions = new Subscription();\n  }\n\n  handleEvent(eventType, callback) {\n    if (!this.globalEvents.has(eventType)) {\n      if (this.documentRef) {\n        this.globalEvents.set(eventType, getEventObservable(this.documentRef, eventType));\n      } else {\n        this.globalEvents.set(eventType, new Observable());\n      }\n    }\n\n    const observable = this.globalEvents.get(eventType);\n    this.subscriptions.add(observable.subscribe(callback));\n  }\n\n  handleClick(callback) {\n    this.handleEvent(\"click\", callback);\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n    this.globalEvents = null;\n  }\n\n}\n\nDocumentService.ɵfac = function DocumentService_Factory(t) {\n  return new (t || DocumentService)();\n};\n\nDocumentService.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n  token: DocumentService,\n  factory: DocumentService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DocumentService, [{\n    type: Injectable\n  }], function () {\n    return [];\n  }, null);\n})();\n\nclass EventService {\n  constructor(documentService) {\n    this.documentService = documentService;\n    this.subscriptions = new Subscription();\n    this.targets = new WeakMap();\n  }\n\n  on(targetElement, eventType, callback) {\n    if (!this.targets.has(targetElement)) {\n      this.targets.set(targetElement, new Map());\n    }\n\n    const eventMap = this.targets.get(targetElement);\n\n    if (!eventMap.has(eventType)) {\n      eventMap.set(eventType, getEventObservable(targetElement, eventType));\n    }\n\n    const subscription = eventMap.get(eventType).subscribe(callback);\n    this.subscriptions.add(subscription);\n  }\n\n  onDocument(eventType, callback) {\n    this.documentService.handleEvent(eventType, callback);\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n  }\n\n}\n\nEventService.ɵfac = function EventService_Factory(t) {\n  return new (t || EventService)(ɵngcc0.ɵɵinject(DocumentService));\n};\n\nEventService.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n  token: EventService,\n  factory: EventService.ɵfac\n});\n/** @nocollapse */\n\nEventService.ctorParameters = () => [{\n  type: DocumentService\n}];\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(EventService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: DocumentService\n    }];\n  }, null);\n})(); // either provides a new instance of DocumentService, or returns the parent\n\n\nfunction DOCUMENT_SERVICE_PROVIDER_FACTORY(parentService) {\n  return parentService || new DocumentService();\n} // DocumentService *must* be a singleton to ensure that we handle events and other document level settings once (and only once)\n\n\nconst DOCUMENT_SERVICE_PROVIDER = {\n  provide: DocumentService,\n  deps: [[new Optional(), new SkipSelf(), DocumentService]],\n  useFactory: DOCUMENT_SERVICE_PROVIDER_FACTORY\n}; // either provides a new instance of AnimationFrameServiceSingleton, or returns the parent\n\nfunction ANIMATION_FRAME_SERVICE_SINGLETON_PROVIDER_FACTORY(parentService, ngZone) {\n  return parentService || new AnimationFrameServiceSingleton(ngZone);\n} // AnimationFrameServiceSingleton is a singleton so we don't have a ton of duplicate RAFs firing (better for scheduling)\n\n\nconst ANIMATION_FRAME_SERVICE_SINGLETON_PROVIDER = {\n  provide: AnimationFrameServiceSingleton,\n  deps: [[new Optional(), new SkipSelf(), AnimationFrameServiceSingleton], NgZone],\n  useFactory: ANIMATION_FRAME_SERVICE_SINGLETON_PROVIDER_FACTORY\n};\n\nclass UtilsModule {}\n\nUtilsModule.ɵfac = function UtilsModule_Factory(t) {\n  return new (t || UtilsModule)();\n};\n\nUtilsModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n  type: UtilsModule\n});\nUtilsModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n  providers: [DOCUMENT_SERVICE_PROVIDER, ANIMATION_FRAME_SERVICE_SINGLETON_PROVIDER, AnimationFrameServiceSingleton, DocumentService, AnimationFrameService, ElementService, EventService]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(UtilsModule, [{\n    type: NgModule,\n    args: [{\n      providers: [DOCUMENT_SERVICE_PROVIDER, ANIMATION_FRAME_SERVICE_SINGLETON_PROVIDER, AnimationFrameServiceSingleton, DocumentService, AnimationFrameService, ElementService, EventService]\n    }]\n  }], null, null);\n})();\n\nlet _scrollbarWidth = -1;\n\nfunction getScrollbarWidth() {\n  // lets not recreate this whole thing every time\n  if (_scrollbarWidth >= 0) {\n    return _scrollbarWidth;\n  } // do the calculations the first time\n\n\n  const outer = document.createElement(\"div\");\n  outer.style.visibility = \"hidden\";\n  outer.style.width = \"100px\";\n  outer.style.msOverflowStyle = \"scrollbar\"; // needed for WinJS apps\n\n  document.body.appendChild(outer);\n  const widthNoScroll = outer.offsetWidth; // force scrollbars\n\n  outer.style.overflow = \"scroll\"; // add innerdiv\n\n  const inner = document.createElement(\"div\");\n  inner.style.width = \"100%\";\n  outer.appendChild(inner);\n  const widthWithScroll = inner.offsetWidth; // remove divs\n\n  outer.parentNode.removeChild(outer);\n  _scrollbarWidth = widthNoScroll - widthWithScroll;\n  return _scrollbarWidth;\n}\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { HcModeChecker, findNextElem, findPrevElem, focusNextElem, focusNextTree, focusPrevElem, AnimationFrameService, AnimationFrameServiceSingleton, merge$1 as merge, getScrollableParents, hasScrollableParents, isScrollableElement, isVisibleInContainer, scrollableParentsObservable, clone, closestAttr, ANIMATION_FRAME_SERVICE_SINGLETON_PROVIDER, ANIMATION_FRAME_SERVICE_SINGLETON_PROVIDER_FACTORY, DOCUMENT_SERVICE_PROVIDER, DOCUMENT_SERVICE_PROVIDER_FACTORY, UtilsModule, getScrollbarWidth, ElementService, EventService, getEventObservable, DocumentService };","map":{"version":3,"names":["ɵngcc0","PLACEMENTS","Position","defaultPositions","position","map","Injectable","NgZone","NgModule","Optional","SkipSelf","Subject","from","fromEvent","merge","Observable","Subscription","findSiblingElem","target","direction","classList","contains","findNextElem","findPrevElem","HcModeChecker","colorTest","htmlChecker","document","createElement","add","body","appendChild","window","getComputedStyle","backgroundColor","toString","removeChild","focusNextTree","elem","rootElem","focusable","querySelector","focus","focusNextElem","nextElem","nextElementSibling","focusableElem","nextRootElem","focusPrevElem","parentRef","prevElem","previousElementSibling","getAttribute","lastFocElms","querySelectorAll","arrLen","length","i","offsetWidth","offsetHeight","getClientRects","AnimationFrameServiceSingleton","constructor","ngZone","frameSource","tick","asObservable","runOutsideAngular","animationFrameId","requestAnimationFrame","doTick","bind","ngOnDestroy","cancelAnimationFrame","frame","next","ɵfac","AnimationFrameServiceSingleton_Factory","t","ɵɵinject","ɵprov","ɵɵdefineInjectable","token","factory","ctorParameters","type","ngDevMode","ɵsetClassMetadata","AnimationFrameService","singleton","AnimationFrameService_Factory","merge$1","objects","object","key","hasOwnProperty","Object","isScrollableElement","element","computedStyle","overflow","isVisibleInContainer","container","elementRect","getBoundingClientRect","containerRect","tagName","isAboveViewport","top","clientHeight","isLeftOfViewport","left","isBelowViewport","bottom","innerHeight","documentElement","isRightOfViewport","right","innerWidth","clientWidth","isVisibleInViewport","getScrollableParents","node","elements","parentElement","push","hasScrollableParents","scrollableParentsObservable","windowScroll","passive","pipe","event","assign","observables","clone","obj","JSON","parse","stringify","matchesAttr","el","attr","val","styles","includes","closestAttr","s","parentNode","nodeType","ElementService","visibility","scrollableParents","parent","visible","ElementService_Factory","getEventObservable","targetElement","eventType","DocumentService","globalEvents","Map","documentRef","subscriptions","handleEvent","callback","has","set","observable","get","subscribe","handleClick","unsubscribe","DocumentService_Factory","EventService","documentService","targets","WeakMap","on","eventMap","subscription","onDocument","EventService_Factory","DOCUMENT_SERVICE_PROVIDER_FACTORY","parentService","DOCUMENT_SERVICE_PROVIDER","provide","deps","useFactory","ANIMATION_FRAME_SERVICE_SINGLETON_PROVIDER_FACTORY","ANIMATION_FRAME_SERVICE_SINGLETON_PROVIDER","UtilsModule","UtilsModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","providers","args","_scrollbarWidth","getScrollbarWidth","outer","style","width","msOverflowStyle","widthNoScroll","inner","widthWithScroll"],"sources":["/Users/TSC/Desktop/Angular-Carbon/carbon-tutorial-angular/node_modules/carbon-components-angular/__ivy_ngcc__/fesm2015/carbon-components-angular-utils.js"],"sourcesContent":["/**\n *\n * carbon-angular v0.0.0 | carbon-components-angular-utils.js\n *\n * Copyright 2014, 2022 IBM\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport * as ɵngcc0 from '@angular/core';\nexport { PLACEMENTS, Position, defaultPositions, position } from '@carbon/utils-position';\nimport { map } from 'rxjs/operators';\nimport { Injectable, NgZone, NgModule, Optional, SkipSelf } from '@angular/core';\nimport { Subject, from, fromEvent, merge, Observable, Subscription } from 'rxjs';\n\nfunction findSiblingElem(target, direction) {\n    if (target[direction]) {\n        if (target[direction].classList.contains(\"disabled\")) {\n            return findSiblingElem(target[direction], direction);\n        }\n        return target[direction];\n    }\n}\nfunction findNextElem(target) {\n    return findSiblingElem(target, \"nextElementSibling\");\n}\nfunction findPrevElem(target) {\n    return findSiblingElem(target, \"previousElementSibling\");\n}\n// check for Hight contrast mode\nfunction HcModeChecker() {\n    let colorTest = \"rgb(255, 0, 0)\";\n    let htmlChecker = document.createElement(\"div\");\n    htmlChecker.classList.add(\"hc-checker\");\n    document.body.appendChild(htmlChecker);\n    if (window.getComputedStyle(htmlChecker).backgroundColor.toString() !== colorTest) {\n        document.body.classList.add(\"a11y\");\n    }\n    document.body.removeChild(htmlChecker);\n}\nfunction focusNextTree(elem, rootElem = null) {\n    if (elem) {\n        let focusable = elem.querySelector(\"[tabindex='0']\");\n        if (focusable) {\n            focusable.focus();\n        }\n        else {\n            focusNextElem(elem, rootElem);\n        }\n    }\n}\nfunction focusNextElem(elem, rootElem = null) {\n    if (elem) {\n        let nextElem = elem.nextElementSibling;\n        if (nextElem) {\n            let focusableElem = nextElem.querySelector(\"[tabindex='0']\");\n            if (focusableElem) {\n                focusableElem.focus();\n            }\n            else {\n                focusNextElem(nextElem, rootElem);\n            }\n        }\n        else {\n            if (rootElem) {\n                let nextRootElem = rootElem.nextElementSibling;\n                if (nextRootElem) {\n                    focusNextTree(nextRootElem, rootElem);\n                }\n            }\n        }\n    }\n}\nfunction focusPrevElem(elem, parentRef = null) {\n    if (elem) {\n        let prevElem = elem.previousElementSibling;\n        if (prevElem) {\n            let focusableElem = prevElem.querySelector(\"[tabindex='0']\");\n            if (focusableElem) {\n                if (focusableElem.getAttribute(\"aria-expanded\") === \"true\") {\n                    let lastFocElms = prevElem.querySelectorAll(\"[tabindex='0']\");\n                    let arrLen = lastFocElms.length - 1;\n                    for (let i = arrLen; i >= 0; i--) {\n                        if (!!(lastFocElms[i].offsetWidth || lastFocElms[i].offsetHeight ||\n                            lastFocElms[i].getClientRects().length)) {\n                            focusableElem = lastFocElms[i];\n                            break;\n                        }\n                    }\n                }\n                focusableElem.focus();\n            }\n            else {\n                focusPrevElem(prevElem, parentRef);\n            }\n        }\n        else {\n            if (parentRef) {\n                parentRef.querySelector(\"[tabindex='0']\").focus();\n            }\n        }\n    }\n}\n\nclass AnimationFrameServiceSingleton {\n    constructor(ngZone) {\n        this.ngZone = ngZone;\n        this.frameSource = new Subject();\n        this.tick = this.frameSource.asObservable();\n        this.ngZone.runOutsideAngular(() => {\n            this.animationFrameId = requestAnimationFrame(this.doTick.bind(this));\n        });\n    }\n    ngOnDestroy() {\n        cancelAnimationFrame(this.animationFrameId);\n    }\n    doTick(frame) {\n        this.frameSource.next(frame);\n        this.ngZone.runOutsideAngular(() => {\n            requestAnimationFrame(this.doTick.bind(this));\n        });\n    }\n}\nAnimationFrameServiceSingleton.ɵfac = function AnimationFrameServiceSingleton_Factory(t) { return new (t || AnimationFrameServiceSingleton)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone)); };\nAnimationFrameServiceSingleton.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: AnimationFrameServiceSingleton, factory: AnimationFrameServiceSingleton.ɵfac });\n/** @nocollapse */\nAnimationFrameServiceSingleton.ctorParameters = () => [\n    { type: NgZone }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AnimationFrameServiceSingleton, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.NgZone }]; }, null); })();\nclass AnimationFrameService {\n    constructor(singleton) {\n        this.singleton = singleton;\n        this.tick = from(this.singleton.tick);\n    }\n}\nAnimationFrameService.ɵfac = function AnimationFrameService_Factory(t) { return new (t || AnimationFrameService)(ɵngcc0.ɵɵinject(AnimationFrameServiceSingleton)); };\nAnimationFrameService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: AnimationFrameService, factory: AnimationFrameService.ɵfac });\n/** @nocollapse */\nAnimationFrameService.ctorParameters = () => [\n    { type: AnimationFrameServiceSingleton }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AnimationFrameService, [{\n        type: Injectable\n    }], function () { return [{ type: AnimationFrameServiceSingleton }]; }, null); })();\n\n// custom deep object merge\nconst merge$1 = (target, ...objects) => {\n    for (const object of objects) {\n        for (const key in object) {\n            if (object.hasOwnProperty(key)) {\n                // since we're dealing just with JSON this simple check should be enough\n                if (object[key] instanceof Object) {\n                    if (!target[key]) {\n                        target[key] = {};\n                    }\n                    // recursively merge into the target\n                    // most translations only run 3 or 4 levels deep, so no stack explosions\n                    target[key] = merge$1(target[key], object[key]);\n                }\n                else {\n                    target[key] = object[key];\n                }\n            }\n        }\n    }\n    return target;\n};\n\n/**\n * Checks if a given element is scrollable.\n * If the element has an overflow set as part of its computed style it can scroll.\n * @param element the element to check scrollability\n */\nconst isScrollableElement = (element) => {\n    const computedStyle = getComputedStyle(element);\n    return (computedStyle.overflow === \"auto\" ||\n        computedStyle.overflow === \"scroll\" ||\n        computedStyle[\"overflow-y\"] === \"auto\" ||\n        computedStyle[\"overflow-y\"] === \"scroll\" ||\n        computedStyle[\"overflow-x\"] === \"auto\" ||\n        computedStyle[\"overflow-x\"] === \"scroll\");\n};\n/**\n * Checks if an element is visible within a container\n * @param element the element to check\n * @param container the container to check\n */\nconst isVisibleInContainer = (element, container) => {\n    const elementRect = element.getBoundingClientRect();\n    const containerRect = container.getBoundingClientRect();\n    // If there exists `height: 100%` on the `html` or `body` tag of an application,\n    // it causes the calculation to return true if you need to scroll before the element is seen.\n    // In that case we calculate its visibility based on the window viewport.\n    if (container.tagName === \"BODY\" || container.tagName === \"HTML\") {\n        // This checks if element is within the top, bottom, left and right of viewport, ie. if the element is visible in\n        // the screen. This also takes into account partial visibility of an element.\n        const isAboveViewport = elementRect.top < 0 && (elementRect.top + element.clientHeight) < 0;\n        const isLeftOfViewport = elementRect.left < 0;\n        const isBelowViewport = (elementRect.bottom - element.clientHeight) > (window.innerHeight || document.documentElement.clientHeight);\n        const isRightOfViewport = elementRect.right > (window.innerWidth || document.documentElement.clientWidth);\n        const isVisibleInViewport = !(isAboveViewport || isBelowViewport || isLeftOfViewport || isRightOfViewport);\n        return isVisibleInViewport;\n    }\n    return (\n    // This also accounts for partial visibility. It will still return true if the element is partially visible inside the container.\n    (elementRect.bottom - element.clientHeight) <= (containerRect.bottom + (container.offsetHeight - container.clientHeight) / 2) &&\n        elementRect.top >= (-element.clientHeight));\n};\nconst getScrollableParents = (node) => {\n    const elements = [document.body];\n    while (node.parentElement && node !== document.body) {\n        if (isScrollableElement(node)) {\n            elements.push(node);\n        }\n        node = node.parentElement;\n    }\n    return elements;\n};\nconst hasScrollableParents = (node) => {\n    while (node.parentElement && node !== document.body) {\n        if (isScrollableElement(node)) {\n            return true;\n        }\n        node = node.parentElement;\n    }\n    return false;\n};\n/**\n * Returns an observable that emits whenever any scrollable parent element scrolls\n *\n * @param node root element to start finding scrolling parents from\n */\nconst scrollableParentsObservable = (node) => {\n    const windowScroll = fromEvent(window, \"scroll\", { passive: true }).pipe(map(event => (\n    // update the event target to be something useful. In this case `body` is a sensible replacement\n    Object.assign({}, event, { target: document.body }))));\n    let observables = [windowScroll];\n    // walk the parents and subscribe to all the scroll events we can\n    while (node.parentElement && node !== document.body) {\n        if (isScrollableElement(node)) {\n            observables.push(fromEvent(node, \"scroll\", { passive: true }));\n        }\n        node = node.parentElement;\n    }\n    return merge(...observables);\n};\n\nfunction clone(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\nfunction matchesAttr(el, attr, val) {\n    const styles = window.getComputedStyle(el);\n    return val.includes(styles[attr]);\n}\nfunction closestAttr(s, t, element) {\n    let el = element;\n    if (!element) {\n        return null;\n    }\n    do {\n        if (matchesAttr(el, s, t)) {\n            return el;\n        }\n        el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\n\nclass ElementService {\n    constructor(singleton) {\n        this.singleton = singleton;\n        this.tick = from(this.singleton.tick);\n    }\n    visibility(target, parentElement = target) {\n        const scrollableParents = getScrollableParents(parentElement);\n        return this.tick.pipe(map(() => {\n            for (const parent of scrollableParents) {\n                if (!isVisibleInContainer(target, parent)) {\n                    return {\n                        visible: false\n                    };\n                }\n            }\n            return {\n                visible: true\n            };\n        }));\n    }\n}\nElementService.ɵfac = function ElementService_Factory(t) { return new (t || ElementService)(ɵngcc0.ɵɵinject(AnimationFrameServiceSingleton)); };\nElementService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: ElementService, factory: ElementService.ɵfac });\n/** @nocollapse */\nElementService.ctorParameters = () => [\n    { type: AnimationFrameServiceSingleton }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ElementService, [{\n        type: Injectable\n    }], function () { return [{ type: AnimationFrameServiceSingleton }]; }, null); })();\n\nconst getEventObservable = (targetElement, eventType) => {\n    switch (eventType) {\n        case \"scroll\":\n        case \"resize\":\n        case \"touchstart\":\n        case \"touchmove\":\n        case \"touchend\":\n            return fromEvent(targetElement, eventType, { passive: true });\n        default:\n            return fromEvent(targetElement, eventType);\n    }\n};\n\nclass DocumentService {\n    constructor() {\n        this.globalEvents = new Map();\n        this.documentRef = document;\n        this.subscriptions = new Subscription();\n    }\n    handleEvent(eventType, callback) {\n        if (!this.globalEvents.has(eventType)) {\n            if (this.documentRef) {\n                this.globalEvents.set(eventType, getEventObservable(this.documentRef, eventType));\n            }\n            else {\n                this.globalEvents.set(eventType, new Observable());\n            }\n        }\n        const observable = this.globalEvents.get(eventType);\n        this.subscriptions.add(observable.subscribe(callback));\n    }\n    handleClick(callback) {\n        this.handleEvent(\"click\", callback);\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n        this.globalEvents = null;\n    }\n}\nDocumentService.ɵfac = function DocumentService_Factory(t) { return new (t || DocumentService)(); };\nDocumentService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: DocumentService, factory: DocumentService.ɵfac });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DocumentService, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\n\nclass EventService {\n    constructor(documentService) {\n        this.documentService = documentService;\n        this.subscriptions = new Subscription();\n        this.targets = new WeakMap();\n    }\n    on(targetElement, eventType, callback) {\n        if (!this.targets.has(targetElement)) {\n            this.targets.set(targetElement, new Map());\n        }\n        const eventMap = this.targets.get(targetElement);\n        if (!eventMap.has(eventType)) {\n            eventMap.set(eventType, getEventObservable(targetElement, eventType));\n        }\n        const subscription = eventMap.get(eventType).subscribe(callback);\n        this.subscriptions.add(subscription);\n    }\n    onDocument(eventType, callback) {\n        this.documentService.handleEvent(eventType, callback);\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n}\nEventService.ɵfac = function EventService_Factory(t) { return new (t || EventService)(ɵngcc0.ɵɵinject(DocumentService)); };\nEventService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: EventService, factory: EventService.ɵfac });\n/** @nocollapse */\nEventService.ctorParameters = () => [\n    { type: DocumentService }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(EventService, [{\n        type: Injectable\n    }], function () { return [{ type: DocumentService }]; }, null); })();\n\n// either provides a new instance of DocumentService, or returns the parent\nfunction DOCUMENT_SERVICE_PROVIDER_FACTORY(parentService) {\n    return parentService || new DocumentService();\n}\n// DocumentService *must* be a singleton to ensure that we handle events and other document level settings once (and only once)\nconst DOCUMENT_SERVICE_PROVIDER = {\n    provide: DocumentService,\n    deps: [[new Optional(), new SkipSelf(), DocumentService]],\n    useFactory: DOCUMENT_SERVICE_PROVIDER_FACTORY\n};\n// either provides a new instance of AnimationFrameServiceSingleton, or returns the parent\nfunction ANIMATION_FRAME_SERVICE_SINGLETON_PROVIDER_FACTORY(parentService, ngZone) {\n    return parentService || new AnimationFrameServiceSingleton(ngZone);\n}\n// AnimationFrameServiceSingleton is a singleton so we don't have a ton of duplicate RAFs firing (better for scheduling)\nconst ANIMATION_FRAME_SERVICE_SINGLETON_PROVIDER = {\n    provide: AnimationFrameServiceSingleton,\n    deps: [[new Optional(), new SkipSelf(), AnimationFrameServiceSingleton], NgZone],\n    useFactory: ANIMATION_FRAME_SERVICE_SINGLETON_PROVIDER_FACTORY\n};\nclass UtilsModule {\n}\nUtilsModule.ɵfac = function UtilsModule_Factory(t) { return new (t || UtilsModule)(); };\nUtilsModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: UtilsModule });\nUtilsModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ providers: [\n        DOCUMENT_SERVICE_PROVIDER,\n        ANIMATION_FRAME_SERVICE_SINGLETON_PROVIDER,\n        AnimationFrameServiceSingleton,\n        DocumentService,\n        AnimationFrameService,\n        ElementService,\n        EventService\n    ] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(UtilsModule, [{\n        type: NgModule,\n        args: [{\n                providers: [\n                    DOCUMENT_SERVICE_PROVIDER,\n                    ANIMATION_FRAME_SERVICE_SINGLETON_PROVIDER,\n                    AnimationFrameServiceSingleton,\n                    DocumentService,\n                    AnimationFrameService,\n                    ElementService,\n                    EventService\n                ]\n            }]\n    }], null, null); })();\n\nlet _scrollbarWidth = -1;\nfunction getScrollbarWidth() {\n    // lets not recreate this whole thing every time\n    if (_scrollbarWidth >= 0) {\n        return _scrollbarWidth;\n    }\n    // do the calculations the first time\n    const outer = document.createElement(\"div\");\n    outer.style.visibility = \"hidden\";\n    outer.style.width = \"100px\";\n    outer.style.msOverflowStyle = \"scrollbar\"; // needed for WinJS apps\n    document.body.appendChild(outer);\n    const widthNoScroll = outer.offsetWidth;\n    // force scrollbars\n    outer.style.overflow = \"scroll\";\n    // add innerdiv\n    const inner = document.createElement(\"div\");\n    inner.style.width = \"100%\";\n    outer.appendChild(inner);\n    const widthWithScroll = inner.offsetWidth;\n    // remove divs\n    outer.parentNode.removeChild(outer);\n    _scrollbarWidth = widthNoScroll - widthWithScroll;\n    return _scrollbarWidth;\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { HcModeChecker, findNextElem, findPrevElem, focusNextElem, focusNextTree, focusPrevElem, AnimationFrameService, AnimationFrameServiceSingleton, merge$1 as merge, getScrollableParents, hasScrollableParents, isScrollableElement, isVisibleInContainer, scrollableParentsObservable, clone, closestAttr, ANIMATION_FRAME_SERVICE_SINGLETON_PROVIDER, ANIMATION_FRAME_SERVICE_SINGLETON_PROVIDER_FACTORY, DOCUMENT_SERVICE_PROVIDER, DOCUMENT_SERVICE_PROVIDER_FACTORY, UtilsModule, getScrollbarWidth, ElementService, EventService, getEventObservable, DocumentService };\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}