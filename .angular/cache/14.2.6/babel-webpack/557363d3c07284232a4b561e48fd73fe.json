{"ast":null,"code":"/**\n *\n * carbon-angular v0.0.0 | carbon-components-angular-combobox.js\n *\n * Copyright 2014, 2022 IBM\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { filter } from 'rxjs/operators';\nimport { Component, ContentChild, Input, Output, HostListener, ElementRef, ViewChild, EventEmitter, HostBinding, TemplateRef, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AbstractDropdownView, DropdownService, DropdownModule } from 'carbon-components-angular/dropdown';\nimport { I18n, I18nModule } from 'carbon-components-angular/i18n';\nimport { DocumentService, getScrollableParents, hasScrollableParents, UtilsModule } from 'carbon-components-angular/utils';\nimport { IconModule } from 'carbon-components-angular/icon';\n/**\n * ComboBoxes are similar to dropdowns, except a combobox provides an input field for users to search items and (optionally) add their own.\n * Multi-select comboboxes also provide \"pills\" of selected items.\n *\n * [See demo](../../?path=/story/components-combobox--basic)\n *\n * <example-url>../../iframe.html?id=components-combobox--basic</example-url>\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'carbon-components-angular/utils';\nimport * as ɵngcc2 from 'carbon-components-angular/dropdown';\nimport * as ɵngcc3 from 'carbon-components-angular/i18n';\nimport * as ɵngcc4 from '@angular/common';\nimport * as ɵngcc5 from 'carbon-components-angular/icon';\nconst _c0 = [\"dropdownMenu\"];\nconst _c1 = [\"input\"];\nconst _c2 = [\"listbox\"];\n\nfunction ComboBox_label_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r12.label);\n  }\n}\n\nfunction ComboBox_label_1_2_ng_template_0_Template(rf, ctx) {}\n\nfunction ComboBox_label_1_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, ComboBox_label_1_2_ng_template_0_Template, 0, 0, \"ng-template\", 19);\n  }\n\n  if (rf & 2) {\n    const ctx_r13 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r13.label);\n  }\n}\n\nconst _c3 = function (a0) {\n  return {\n    \"bx--label--disabled\": a0\n  };\n};\n\nfunction ComboBox_label_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"label\", 18);\n    ɵngcc0.ɵɵtemplate(1, ComboBox_label_1_ng_container_1_Template, 2, 1, \"ng-container\", 15);\n    ɵngcc0.ɵɵtemplate(2, ComboBox_label_1_2_Template, 1, 1, null, 15);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"for\", ctx_r0.id)(\"ngClass\", ɵngcc0.ɵɵpureFunction1(4, _c3, ctx_r0.disabled));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r0.isTemplate(ctx_r0.label));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.isTemplate(ctx_r0.label));\n  }\n}\n\nconst _c4 = function (a0) {\n  return {\n    \"bx--tag--disabled\": a0\n  };\n};\n\nfunction ComboBox_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"div\", 20)(1, \"span\", 21);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(3, \"button\", 22);\n    ɵngcc0.ɵɵlistener(\"click\", function ComboBox_div_5_Template_button_click_3_listener() {\n      ɵngcc0.ɵɵrestoreView(_r16);\n      const ctx_r15 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r15.clearSelected());\n    })(\"blur\", function ComboBox_div_5_Template_button_blur_3_listener() {\n      ɵngcc0.ɵɵrestoreView(_r16);\n      const ctx_r17 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r17.onBlur());\n    })(\"keydown.enter\", function ComboBox_div_5_Template_button_keydown_enter_3_listener() {\n      ɵngcc0.ɵɵrestoreView(_r16);\n      const ctx_r18 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r18.clearSelected());\n    });\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(4, \"svg\", 23);\n    ɵngcc0.ɵɵelement(5, \"path\", 24);\n    ɵngcc0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(5, _c4, ctx_r2.disabled));\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r2.pills.length);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"title\", ctx_r2.clearSelectionsTitle)(\"disabled\", ctx_r2.disabled);\n    ɵngcc0.ɵɵattribute(\"aria-label\", ctx_r2.clearSelectionAria);\n  }\n}\n\nfunction ComboBox__svg_svg_8_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"svg\", 25);\n  }\n}\n\nfunction ComboBox__svg_svg_9_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"svg\", 26);\n  }\n}\n\nfunction ComboBox_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"div\", 27);\n    ɵngcc0.ɵɵlistener(\"keyup.enter\", function ComboBox_div_10_Template_div_keyup_enter_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r20);\n      const ctx_r19 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r19.clearInput($event));\n    })(\"click\", function ComboBox_div_10_Template_div_click_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r20);\n      const ctx_r21 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r21.clearInput($event));\n    })(\"blur\", function ComboBox_div_10_Template_div_blur_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r20);\n      const ctx_r22 = ɵngcc0.ɵɵnextContext();\n      return ɵngcc0.ɵɵresetView(ctx_r22.onBlur());\n    });\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(1, \"svg\", 28);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"title\", ctx_r6.clearSelectionTitle);\n    ɵngcc0.ɵɵattribute(\"aria-label\", ctx_r6.clearSelectionAria);\n  }\n}\n\nfunction ComboBox_ng_content_15_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵprojection(0, 0, [\"*ngIf\", \"open\"]);\n  }\n}\n\nfunction ComboBox_div_16_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r23 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r23.helperText);\n  }\n}\n\nfunction ComboBox_div_16_2_ng_template_0_Template(rf, ctx) {}\n\nfunction ComboBox_div_16_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, ComboBox_div_16_2_ng_template_0_Template, 0, 0, \"ng-template\", 19);\n  }\n\n  if (rf & 2) {\n    const ctx_r24 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r24.helperText);\n  }\n}\n\nconst _c5 = function (a0) {\n  return {\n    \"bx--form__helper-text--disabled\": a0\n  };\n};\n\nfunction ComboBox_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 29);\n    ɵngcc0.ɵɵtemplate(1, ComboBox_div_16_ng_container_1_Template, 2, 1, \"ng-container\", 15);\n    ɵngcc0.ɵɵtemplate(2, ComboBox_div_16_2_Template, 1, 1, null, 15);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(3, _c5, ctx_r9.disabled));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r9.isTemplate(ctx_r9.helperText));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r9.isTemplate(ctx_r9.helperText));\n  }\n}\n\nfunction ComboBox_div_17_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r26 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r26.invalidText);\n  }\n}\n\nfunction ComboBox_div_17_2_ng_template_0_Template(rf, ctx) {}\n\nfunction ComboBox_div_17_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, ComboBox_div_17_2_ng_template_0_Template, 0, 0, \"ng-template\", 19);\n  }\n\n  if (rf & 2) {\n    const ctx_r27 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r27.invalidText);\n  }\n}\n\nfunction ComboBox_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 30);\n    ɵngcc0.ɵɵtemplate(1, ComboBox_div_17_ng_container_1_Template, 2, 1, \"ng-container\", 15);\n    ɵngcc0.ɵɵtemplate(2, ComboBox_div_17_2_Template, 1, 1, null, 15);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r10.isTemplate(ctx_r10.invalidText));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r10.isTemplate(ctx_r10.invalidText));\n  }\n}\n\nfunction ComboBox_div_18_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r29 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r29.warnText);\n  }\n}\n\nfunction ComboBox_div_18_2_ng_template_0_Template(rf, ctx) {}\n\nfunction ComboBox_div_18_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, ComboBox_div_18_2_ng_template_0_Template, 0, 0, \"ng-template\", 19);\n  }\n\n  if (rf & 2) {\n    const ctx_r30 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r30.warnText);\n  }\n}\n\nfunction ComboBox_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 30);\n    ɵngcc0.ɵɵtemplate(1, ComboBox_div_18_ng_container_1_Template, 2, 1, \"ng-container\", 15);\n    ɵngcc0.ɵɵtemplate(2, ComboBox_div_18_2_Template, 1, 1, null, 15);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r11.isTemplate(ctx_r11.warnText));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r11.isTemplate(ctx_r11.warnText));\n  }\n}\n\nconst _c6 = function (a0, a1, a2, a3, a4, a5, a6) {\n  return {\n    \"bx--multi-select bx--multi-select--filterable\": a0,\n    \"bx--list-box--light\": a1,\n    \"bx--list-box--expanded\": a2,\n    \"bx--list-box--sm\": a3,\n    \"bx--list-box--lg\": a4,\n    \"bx--list-box--disabled\": a5,\n    \"bx--combo-box--warning bx--list-box--warning\": a6\n  };\n};\n\nconst _c7 = function (a0) {\n  return {\n    \"bx--text-input--empty\": a0\n  };\n};\n\nconst _c8 = function (a0) {\n  return {\n    \"bx--list-box__menu-icon--open\": a0\n  };\n};\n\nconst _c9 = function (a0) {\n  return {\n    \"bx--list-box--up\": a0\n  };\n};\n\nconst _c10 = [\"*\"];\n\nclass ComboBox {\n  /**\n   * Creates an instance of ComboBox.\n   */\n  constructor(elementRef, documentService, dropdownService, i18n) {\n    this.elementRef = elementRef;\n    this.documentService = documentService;\n    this.dropdownService = dropdownService;\n    this.i18n = i18n;\n    this.id = `dropdown-${ComboBox.comboBoxCount++}`;\n    /**\n     * List of items to fill the content with.\n     *\n     * **Example:**\n     * ```javascript\n     * items = [\n     *\t\t{\n     *\t\t\tcontent: \"Abacus\",\n     *\t\t\tselected: false\n     *\t\t},\n     *\t\t{\n     *\t\t\tcontent: \"Byte\",\n     *\t\t\tselected: false,\n     *\t\t},\n     *\t\t{\n     *\t\t\tcontent: \"Computer\",\n     *\t\t\tselected: false\n     *\t\t},\n     *\t\t{\n     *\t\t\tcontent: \"Digital\",\n     *\t\t\tselected: false\n     *\t\t}\n     * ];\n     * ```\n     *\n     */\n\n    this.items = [];\n    /**\n     * Combo box type (supporting single or multi selection of items).\n     */\n\n    this.type = \"single\";\n    /**\n     * Combo box render size.\n     *\n     * @deprecated since v4\n     */\n\n    this.size = \"md\";\n    /**\n     * set to `true` to place the dropdown view inline with the component\n     */\n\n    this.appendInline = null;\n    /**\n     * Set to `true` to show the invalid state.\n     */\n\n    this.invalid = false;\n    /**\n    * Set to `true` to show a warning (contents set by warnText)\n    */\n\n    this.warn = false;\n    /**\n     * Max length value to limit input characters\n     */\n\n    this.maxLength = null;\n    /**\n     * `light` or `dark` dropdown theme\n     */\n\n    this.theme = \"dark\";\n    /**\n     * Specify feedback (mode) of the selection.\n     * `top`: selected item jumps to top\n     * `fixed`: selected item stays at its position\n     * `top-after-reopen`: selected item jump to top after reopen dropdown\n     */\n\n    this.selectionFeedback = \"top-after-reopen\";\n    /**\n     * Specify aria-autocomplete attribute of text input.\n     * \"list\", is the expected value for a combobox that invokes a drop-down list\n     */\n\n    this.autocomplete = \"list\";\n    /**\n     * Set to `true` to disable combobox.\n     */\n\n    this.disabled = false;\n    /**\n     * Emits a ListItem\n     *\n     * Example:\n     * ```javascript\n     * {\n     * \t\tcontent: \"one\",\n     * \t\tselected: true\n     * }\n     * ```\n     */\n\n    this.selected = new EventEmitter();\n    /**\n     * Intended to be used to add items to the list.\n     *\n     * Emits an event that includes the current item list, the suggested index for the new item, and a simple ListItem\n     *\n     * Example:\n     * ```javascript\n     *\t{\n     *\t\titems: [{content: \"one\", selected: true}, {content: \"two\", selected: true}],\n     *\t\tindex: 1,\n     *\t\tvalue: {\n     *\t\t\tcontent: \"some user string\",\n     *\t\t\tselected: false\n     *\t\t}\n     *\t}\n     * ```\n     *\n     *\n     * Example:\n     * ```javascript\n     * {\n     *\tafter: 1,\n     *\tvalue: \"some user string\"\n     * }\n     * ```\n     */\n\n    this.submit = new EventEmitter();\n    /** emits an empty event when the menu is closed */\n\n    this.close = new EventEmitter();\n    /** emits the search string from the input */\n\n    this.search = new EventEmitter();\n    this.hostClass = true; // @HostBinding(\"attr.role\") role = \"combobox\";\n\n    this.display = \"block\";\n    this.open = false;\n    this.showClearButton = false;\n    /** Selected items for multi-select combo-boxes. */\n\n    this.pills = [];\n    /** used to update the displayValue */\n\n    this.selectedValue = \"\";\n    this.keyboardNav = this._keyboardNav.bind(this);\n    /**\n     * controls whether the `drop-up` class is applied\n     */\n\n    this._dropUp = false;\n    this.noop = this._noop.bind(this);\n    this.onTouchedCallback = this._noop;\n    this.propagateChangeCallback = this._noop;\n    this._placeholder = this.i18n.getOverridable(\"COMBOBOX.PLACEHOLDER\");\n    this._closeMenuAria = this.i18n.getOverridable(\"COMBOBOX.A11Y.CLOSE_MENU\");\n    this._openMenuAria = this.i18n.getOverridable(\"COMBOBOX.A11Y.OPEN_MENU\");\n    this._clearSelectionsTitle = this.i18n.getOverridable(\"COMBOBOX.CLEAR_SELECTIONS\");\n    this._clearSelectionsAria = this.i18n.getOverridable(\"COMBOBOX.A11Y.CLEAR_SELECTIONS\");\n    this._clearSelectionTitle = this.i18n.getOverridable(\"COMBOBOX.CLEAR_SELECTED\");\n    this._clearSelectionAria = this.i18n.getOverridable(\"COMBOBOX.A11Y.CLEAR_SELECTED\");\n  }\n  /**\n   * Text to show when nothing is selected.\n   */\n\n\n  set placeholder(value) {\n    this._placeholder.override(value);\n  }\n\n  get placeholder() {\n    return this._placeholder.value;\n  }\n  /**\n   * Value to display for accessibility purposes on the combobox control menu when closed\n   */\n\n\n  set openMenuAria(value) {\n    this._openMenuAria.override(value);\n  }\n\n  get openMenuAria() {\n    return this._openMenuAria.value;\n  }\n  /**\n   * Value to display for accessibility purposes on the combobox control menu when opened\n   */\n\n\n  set closeMenuAria(value) {\n    this._closeMenuAria.override(value);\n  }\n\n  get closeMenuAria() {\n    return this._closeMenuAria.value;\n  }\n  /**\n   * Value to display on the clear selections icon, when multi is selected\n   */\n\n\n  set clearSelectionsTitle(value) {\n    this._clearSelectionsTitle.override(value);\n  }\n\n  get clearSelectionsTitle() {\n    return this._clearSelectionsTitle.value;\n  }\n  /**\n   * Value to display for accessibility purposes to clear selections, when multi is selected\n   */\n\n\n  set clearSelectionsAria(value) {\n    this._clearSelectionsAria.override(value);\n  }\n\n  get clearSelectionsAria() {\n    return this._clearSelectionsAria.value;\n  }\n  /**\n   * Value to display on the clear the selected item icon, when single is selected\n   */\n\n\n  set clearSelectionTitle(value) {\n    this._clearSelectionTitle.override(value);\n  }\n\n  get clearSelectionTitle() {\n    return this._clearSelectionTitle.value;\n  }\n  /**\n   * Value to display for accessibility purposes on the clear the selected item icon, when single is selected\n   */\n\n\n  set clearSelectionAria(value) {\n    this._clearSelectionAria.override(value);\n  }\n\n  get clearSelectionAria() {\n    return this._clearSelectionAria.value;\n  }\n  /**\n   * Lifecycle hook.\n   * Updates pills if necessary.\n   *\n   */\n\n\n  ngOnChanges(changes) {\n    if (changes.items) {\n      this.view.items = changes.items.currentValue;\n      this.updateSelected(); // If new items are added into the combobox while there is search input,\n      // repeat the search. Search should only trigger for type 'single' when there is no value selected.\n\n      if (this.type === \"multi\" || this.type === \"single\" && !this.selectedValue) {\n        this.onSearch(this.input.nativeElement.value, false);\n      }\n    }\n  }\n  /**\n   * Sets initial state that depends on child components\n   * Subscribes to select events and handles focus/filtering/initial list updates\n   */\n\n\n  ngAfterContentInit() {\n    if (this.view) {\n      this.view.type = this.type; // function to check if the event is organic (isUpdate === false) or programmatic\n\n      const isUpdate = event => event && event.isUpdate;\n\n      this.view.select.subscribe(event => {\n        if (this.type === \"multi\") {\n          this.updatePills();\n\n          if (!isUpdate(event)) {\n            if (this.itemValueKey && this.view.getSelected()) {\n              const values = this.view.getSelected().map(item => item[this.itemValueKey]);\n              this.propagateChangeCallback(values); // otherwise just pass up the values from `getSelected`\n            } else {\n              this.propagateChangeCallback(this.view.getSelected());\n            }\n          }\n        } else {\n          if (event.item && event.item.selected) {\n            this.showClearButton = true;\n            this.selectedValue = event.item.content;\n\n            if (!isUpdate(event)) {\n              if (this.itemValueKey) {\n                this.propagateChangeCallback(event.item[this.itemValueKey]);\n              } else {\n                this.propagateChangeCallback(event.item);\n              }\n            }\n          } else {\n            this.selectedValue = \"\";\n\n            if (!isUpdate(event)) {\n              this.propagateChangeCallback(null);\n            }\n          } // not guarding these since the nativeElement has to be loaded\n          // for select to even fire\n          // only focus for \"organic\" selections\n\n\n          if (!isUpdate(event)) {\n            this.elementRef.nativeElement.querySelector(\"input\").focus();\n            this.view.filterBy(\"\");\n          }\n\n          this.closeDropdown();\n        }\n\n        if (!isUpdate(event)) {\n          this.selected.emit(event);\n        }\n      }); // update the rest of combobox with any pre-selected items\n      // setTimeout just defers the call to the next check cycle\n\n      setTimeout(() => {\n        this.updateSelected();\n      });\n      this.view.blurIntent.pipe(filter(v => v === \"top\")).subscribe(() => {\n        this.elementRef.nativeElement.querySelector(\".bx--text-input\").focus();\n      });\n    }\n  }\n  /**\n   * Binds event handlers against the rendered view\n   */\n\n\n  ngAfterViewInit() {\n    this.documentService.handleClick(event => {\n      if (!this.elementRef.nativeElement.contains(event.target) && !this.dropdownMenu.nativeElement.contains(event.target)) {\n        if (this.open) {\n          this.closeDropdown();\n        }\n      }\n    }); // if appendInline is default valued (null) we should:\n    // 1. if there are scrollable parents (not including body) don't append inline\n    //    this should also cover the case where the dropdown is in a modal\n    //    (where we _do_ want to append to the placeholder)\n\n    if (this.appendInline === null && hasScrollableParents(this.elementRef.nativeElement)) {\n      this.appendInline = false; // 2. otherwise we should append inline\n    } else if (this.appendInline === null) {\n      this.appendInline = true;\n    }\n  }\n  /**\n   * Removing the `Dropdown` from the body if it is appended to the body.\n   */\n\n\n  ngOnDestroy() {\n    if (!this.appendInline) {\n      this._appendToDropdown();\n    }\n  }\n  /**\n   * Handles `Escape/Tab` key closing the dropdown, and arrow up/down focus to/from the dropdown list.\n   */\n\n\n  hostkeys(ev) {\n    if (ev.key === \"Escape\") {\n      this.closeDropdown();\n    } else if ((ev.key === \"ArrowDown\" || ev.key === \"Down\" // `\"Down\"` is IE specific value\n    ) && (!this.dropdownMenu || !this.dropdownMenu.nativeElement.contains(ev.target))) {\n      ev.stopPropagation();\n      this.openDropdown();\n      setTimeout(() => {\n        this.view.initFocus();\n      }, 0);\n    }\n\n    if (this.open && ev.key === \"Tab\" && (this.dropdownMenu.nativeElement.contains(ev.target) || ev.target === this.input.nativeElement)) {\n      this.closeDropdown();\n    }\n\n    if (this.open && ev.key === \"Tab\" && ev.shiftKey) {\n      this.closeDropdown();\n    }\n  }\n  /*\n   * no-op method for null event listeners, and other no op calls\n   */\n\n\n  _noop() {}\n  /*\n   * propagates the value provided from ngModel\n   */\n\n\n  writeValue(value) {\n    if (this.type === \"single\") {\n      if (this.itemValueKey) {\n        // clone the specified item and update its state\n        const newValue = Object.assign({}, this.view.getListItems().find(item => item[this.itemValueKey] === value));\n        newValue.selected = true;\n        this.view.propagateSelected([newValue]);\n      } else {\n        // all items in propagateSelected must be iterable\n        this.view.propagateSelected([value || \"\"]);\n      }\n\n      this.showClearButton = !!(value && this.view.getSelected().length);\n    } else {\n      if (this.itemValueKey) {\n        // clone the items and update their state based on the received value array\n        // this way we don't lose any additional metadata that may be passed in via the `items` Input\n        let newValues = [];\n\n        for (const v of value) {\n          for (const item of this.view.getListItems()) {\n            if (item[this.itemValueKey] === v) {\n              newValues.push(Object.assign({}, item, {\n                selected: true\n              }));\n            }\n          }\n        }\n\n        this.view.propagateSelected(newValues);\n      } else {\n        this.view.propagateSelected(value ? value : [\"\"]);\n      }\n    }\n\n    this.updateSelected();\n  }\n\n  onBlur() {\n    this.onTouchedCallback();\n  }\n\n  registerOnChange(fn) {\n    this.propagateChangeCallback = fn;\n  }\n\n  registerOnTouched(fn) {\n    this.onTouchedCallback = fn;\n  }\n  /**\n   * `ControlValueAccessor` method to programmatically disable the combobox.\n   *\n   * ex: `this.formGroup.get(\"myCoolCombobox\").disable();`\n   */\n\n\n  setDisabledState(isDisabled) {\n    this.disabled = isDisabled;\n  }\n  /**\n   * Called by `n-pill-input` when the selected pills have changed.\n   */\n\n\n  updatePills() {\n    this.pills = this.view.getSelected() || [];\n    this.checkForReorder();\n  }\n\n  clearSelected() {\n    this.items = this.items.map(item => {\n      if (!item.disabled) {\n        item.selected = false;\n      }\n\n      return item;\n    });\n    this.view.items = this.items;\n    this.updatePills(); // clearSelected can only fire on type=multi\n    // so we just emit getSelected() (just in case there's any disabled but selected items)\n\n    const selected = this.view.getSelected();\n    this.propagateChangeCallback(selected);\n    this.selected.emit(selected);\n  }\n  /**\n   * Closes the dropdown and emits the close event.\n   */\n\n\n  closeDropdown() {\n    this.open = false;\n    this.checkForReorder();\n    this.close.emit();\n\n    if (!this.appendInline) {\n      this._appendToDropdown();\n    }\n  }\n  /**\n   * Opens the dropdown.\n   */\n\n\n  openDropdown() {\n    if (this.disabled) {\n      return;\n    }\n\n    this.open = true;\n    this._dropUp = false;\n\n    if (!this.appendInline) {\n      this._appendToBody();\n    } // set the dropdown menu to drop up if it is near the bottom of the screen\n    // setTimeout lets us do the calculations after it is visible in the DOM\n\n\n    setTimeout(() => {\n      if (this.dropUp === null || this.dropUp === undefined) {\n        this._dropUp = this._shouldDropUp();\n      }\n    }, 0);\n  }\n  /**\n   * Toggles the dropdown.\n   */\n\n\n  toggleDropdown() {\n    if (this.open) {\n      this.closeDropdown();\n    } else {\n      this.openDropdown();\n    }\n  }\n  /**\n   * Sets the list group filter, and manages single select item selection.\n   */\n\n\n  onSearch(searchString, shouldEmitSearch = true) {\n    if (shouldEmitSearch) {\n      this.search.emit(searchString);\n    }\n\n    this.showClearButton = !!searchString;\n    this.view.filterBy(searchString);\n\n    if (searchString !== \"\") {\n      this.openDropdown();\n    } else {\n      this.selectedValue = \"\";\n\n      if (this.type === \"multi\" && (this.selectionFeedback === \"top\" || this.selectionFeedback === \"top-after-reopen\")) {\n        this.view.reorderSelected();\n      }\n    }\n\n    if (this.type === \"single\") {\n      // deselect if the input doesn't match the content\n      // of any given item\n      const matches = this.view.getListItems().some(item => item.content.toLowerCase().includes(searchString.toLowerCase()));\n\n      if (!matches) {\n        const selected = this.view.getSelected();\n\n        if (!selected || !selected[0]) {\n          this.view.filterBy(\"\");\n        }\n      }\n    }\n  }\n  /**\n   * Intended to be used to add items to the list.\n   */\n\n\n  onSubmit(event) {\n    this.submit.emit({\n      items: this.view.getListItems(),\n      index: 0,\n      value: {\n        content: event.target.value,\n        selected: false\n      }\n    });\n  }\n\n  clearInput(event) {\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (this.type === \"single\") {\n      // don't want to clear selected or close if multi\n      this.clearSelected();\n      this.closeDropdown();\n    }\n\n    this.selectedValue = \"\";\n    this.input.nativeElement.value = \"\";\n    this.showClearButton = false;\n    this.input.nativeElement.focus();\n    this.onSearch(this.input.nativeElement.value);\n  }\n\n  isTemplate(value) {\n    return value instanceof TemplateRef;\n  }\n  /**\n   * Handles keyboard events so users are controlling the `Dropdown` instead of unintentionally controlling outside elements.\n   */\n\n\n  _keyboardNav(event) {\n    // \"Esc\" is an IE specific value\n    if ((event.key === \"Escape\" || event.key === \"Esc\") && this.open) {\n      event.stopImmediatePropagation(); // don't unintentionally close modal if inside of it\n    }\n\n    if (event.key === \"Escape\" || event.key === \"Esc\") {\n      event.preventDefault();\n      this.closeDropdown();\n      this.input.nativeElement.focus();\n    } else if (this.open && event.key === \"Tab\") {\n      // this way focus will start on the next focusable item from the dropdown\n      // not the top of the body!\n      this.input.nativeElement.focus();\n      this.input.nativeElement.dispatchEvent(new KeyboardEvent(\"keydown\", {\n        bubbles: true,\n        cancelable: true,\n        key: \"Tab\"\n      }));\n      this.closeDropdown();\n    }\n  }\n  /**\n   * Creates the `Dropdown` list as an element that is appended to the DOM body.\n   */\n\n\n  _appendToBody() {\n    this.dropdownService.appendToBody(this.listbox.nativeElement, this.dropdownMenu.nativeElement, `${this.elementRef.nativeElement.className}${this.open ? \" bx--list-box--expanded\" : \"\"}`);\n    this.dropdownMenu.nativeElement.addEventListener(\"keydown\", this.keyboardNav, true);\n  }\n  /**\n   * Creates the `Dropdown` list appending it to the dropdown parent object instead of the body.\n   */\n\n\n  _appendToDropdown() {\n    this.dropdownService.appendToDropdown(this.elementRef.nativeElement);\n    this.dropdownMenu.nativeElement.removeEventListener(\"keydown\", this.keyboardNav, true);\n  }\n  /**\n   * Detects whether or not the `Dropdown` list is visible within all scrollable parents.\n   * This can be overridden by passing in a value to the `dropUp` input.\n   */\n\n\n  _shouldDropUp() {\n    // check if dropdownMenu exists first.\n    const menu = this.dropdownMenu && this.dropdownMenu.nativeElement.querySelector(\".bx--list-box__menu\"); // check if menu exists first.\n\n    const menuRect = menu && menu.getBoundingClientRect();\n\n    if (menu && menuRect) {\n      const scrollableParents = getScrollableParents(menu);\n      return scrollableParents.reduce((shouldDropUp, parent) => {\n        const parentRect = parent.getBoundingClientRect();\n        const isBelowParent = !(menuRect.bottom <= parentRect.bottom);\n        return shouldDropUp || isBelowParent;\n      }, false);\n    }\n\n    return false;\n  }\n\n  updateSelected() {\n    const selected = this.view.getSelected();\n\n    if (this.type === \"multi\") {\n      this.updatePills();\n    } else if (selected) {\n      const value = selected[0] ? selected[0].content : \"\";\n      const changeCallbackValue = selected[0] ? selected[0] : \"\";\n      this.selectedValue = value;\n      this.showClearButton = !!value;\n    }\n  }\n\n  checkForReorder() {\n    const topAfterReopen = !this.open && this.selectionFeedback === \"top-after-reopen\";\n\n    if (this.type === \"multi\" && (topAfterReopen || this.selectionFeedback === \"top\")) {\n      this.view.reorderSelected(true);\n    }\n  }\n\n}\n\nComboBox.ɵfac = function ComboBox_Factory(t) {\n  return new (t || ComboBox)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DocumentService), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.DropdownService), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.I18n));\n};\n\nComboBox.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: ComboBox,\n  selectors: [[\"ibm-combo-box\"]],\n  contentQueries: function ComboBox_ContentQueries(rf, ctx, dirIndex) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵcontentQuery(dirIndex, AbstractDropdownView, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.view = _t.first);\n    }\n  },\n  viewQuery: function ComboBox_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(_c0, 5);\n      ɵngcc0.ɵɵviewQuery(_c1, 7);\n      ɵngcc0.ɵɵviewQuery(_c2, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.dropdownMenu = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.input = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.listbox = _t.first);\n    }\n  },\n  hostVars: 4,\n  hostBindings: function ComboBox_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"keydown\", function ComboBox_keydown_HostBindingHandler($event) {\n        return ctx.hostkeys($event);\n      });\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵstyleProp(\"display\", ctx.display);\n      ɵngcc0.ɵɵclassProp(\"bx--list-box__wrapper\", ctx.hostClass);\n    }\n  },\n  inputs: {\n    id: \"id\",\n    items: \"items\",\n    type: \"type\",\n    size: \"size\",\n    appendInline: \"appendInline\",\n    invalid: \"invalid\",\n    warn: \"warn\",\n    maxLength: \"maxLength\",\n    theme: \"theme\",\n    selectionFeedback: \"selectionFeedback\",\n    autocomplete: \"autocomplete\",\n    disabled: \"disabled\",\n    placeholder: \"placeholder\",\n    openMenuAria: \"openMenuAria\",\n    closeMenuAria: \"closeMenuAria\",\n    clearSelectionsTitle: \"clearSelectionsTitle\",\n    clearSelectionsAria: \"clearSelectionsAria\",\n    clearSelectionTitle: \"clearSelectionTitle\",\n    clearSelectionAria: \"clearSelectionAria\",\n    itemValueKey: \"itemValueKey\",\n    label: \"label\",\n    helperText: \"helperText\",\n    invalidText: \"invalidText\",\n    warnText: \"warnText\",\n    dropUp: \"dropUp\"\n  },\n  outputs: {\n    selected: \"selected\",\n    submit: \"submit\",\n    close: \"close\",\n    search: \"search\"\n  },\n  features: [ɵngcc0.ɵɵProvidersFeature([{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: ComboBox,\n    multi: true\n  }]), ɵngcc0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c10,\n  decls: 19,\n  vars: 38,\n  consts: [[1, \"bx--list-box__wrapper\"], [\"class\", \"bx--label\", 3, \"for\", \"ngClass\", 4, \"ngIf\"], [1, \"bx--list-box\", \"bx--combo-box\", 3, \"ngClass\"], [\"listbox\", \"\"], [1, \"bx--list-box__field\", 3, \"click\", \"blur\"], [\"class\", \"bx--tag bx--tag--filter bx--tag--high-contrast\", 3, \"ngClass\", 4, \"ngIf\"], [\"type\", \"text\", \"autocomplete\", \"off\", \"role\", \"combobox\", \"tabindex\", \"0\", \"aria-haspopup\", \"listbox\", \"aria-haspopup\", \"true\", 1, \"bx--text-input\", 3, \"disabled\", \"value\", \"ngClass\", \"id\", \"placeholder\", \"input\", \"blur\", \"keydown.enter\"], [\"input\", \"\"], [\"ibmIcon\", \"warning--filled\", \"size\", \"16\", \"class\", \"bx--list-box__invalid-icon\", 4, \"ngIf\"], [\"ibmIcon\", \"warning--alt--filled\", \"size\", \"16\", \"class\", \"bx--list-box__invalid-icon bx--list-box__invalid-icon--warning\", 4, \"ngIf\"], [\"role\", \"button\", \"class\", \"bx--list-box__selection\", \"tabindex\", \"0\", 3, \"title\", \"keyup.enter\", \"click\", \"blur\", 4, \"ngIf\"], [\"type\", \"button\", \"role\", \"button\", \"tabindex\", \"-1\", 1, \"bx--list-box__menu-icon\", 3, \"title\", \"ngClass\"], [\"ibmIcon\", \"chevron--down\", \"size\", \"16\"], [3, \"ngClass\"], [\"dropdownMenu\", \"\"], [4, \"ngIf\"], [\"class\", \"bx--form__helper-text\", 3, \"ngClass\", 4, \"ngIf\"], [\"class\", \"bx--form-requirement\", 4, \"ngIf\"], [1, \"bx--label\", 3, \"for\", \"ngClass\"], [3, \"ngTemplateOutlet\"], [1, \"bx--tag\", \"bx--tag--filter\", \"bx--tag--high-contrast\", 3, \"ngClass\"], [1, \"bx--tag__label\"], [\"type\", \"button\", \"tabindex\", \"0\", 1, \"bx--tag__close-icon\", 3, \"title\", \"disabled\", \"click\", \"blur\", \"keydown.enter\"], [\"focusable\", \"false\", \"preserveAspectRatio\", \"xMidYMid meet\", \"role\", \"img\", \"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"viewBox\", \"0 0 16 16\", \"aria-hidden\", \"true\", 2, \"will-change\", \"transform\"], [\"d\", \"M12 4.7l-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z\"], [\"ibmIcon\", \"warning--filled\", \"size\", \"16\", 1, \"bx--list-box__invalid-icon\"], [\"ibmIcon\", \"warning--alt--filled\", \"size\", \"16\", 1, \"bx--list-box__invalid-icon\", \"bx--list-box__invalid-icon--warning\"], [\"role\", \"button\", \"tabindex\", \"0\", 1, \"bx--list-box__selection\", 3, \"title\", \"keyup.enter\", \"click\", \"blur\"], [\"ibmIcon\", \"close\", \"size\", \"16\"], [1, \"bx--form__helper-text\", 3, \"ngClass\"], [1, \"bx--form-requirement\"]],\n  template: function ComboBox_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n      ɵngcc0.ɵɵtemplate(1, ComboBox_label_1_Template, 3, 6, \"label\", 1);\n      ɵngcc0.ɵɵelementStart(2, \"div\", 2, 3)(4, \"div\", 4);\n      ɵngcc0.ɵɵlistener(\"click\", function ComboBox_Template_div_click_4_listener() {\n        return ctx.toggleDropdown();\n      })(\"blur\", function ComboBox_Template_div_blur_4_listener() {\n        return ctx.onBlur();\n      });\n      ɵngcc0.ɵɵtemplate(5, ComboBox_div_5_Template, 6, 7, \"div\", 5);\n      ɵngcc0.ɵɵelementStart(6, \"input\", 6, 7);\n      ɵngcc0.ɵɵlistener(\"input\", function ComboBox_Template_input_input_6_listener($event) {\n        return ctx.onSearch($event.target.value);\n      })(\"blur\", function ComboBox_Template_input_blur_6_listener() {\n        return ctx.onBlur();\n      })(\"keydown.enter\", function ComboBox_Template_input_keydown_enter_6_listener($event) {\n        return ctx.onSubmit($event);\n      });\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵtemplate(8, ComboBox__svg_svg_8_Template, 1, 0, \"svg\", 8);\n      ɵngcc0.ɵɵtemplate(9, ComboBox__svg_svg_9_Template, 1, 0, \"svg\", 9);\n      ɵngcc0.ɵɵtemplate(10, ComboBox_div_10_Template, 2, 2, \"div\", 10);\n      ɵngcc0.ɵɵelementStart(11, \"button\", 11);\n      ɵngcc0.ɵɵnamespaceSVG();\n      ɵngcc0.ɵɵelement(12, \"svg\", 12);\n      ɵngcc0.ɵɵelementEnd()();\n      ɵngcc0.ɵɵnamespaceHTML();\n      ɵngcc0.ɵɵelementStart(13, \"div\", 13, 14);\n      ɵngcc0.ɵɵtemplate(15, ComboBox_ng_content_15_Template, 1, 0, \"ng-content\", 15);\n      ɵngcc0.ɵɵelementEnd()();\n      ɵngcc0.ɵɵtemplate(16, ComboBox_div_16_Template, 3, 5, \"div\", 16);\n      ɵngcc0.ɵɵtemplate(17, ComboBox_div_17_Template, 3, 2, \"div\", 17);\n      ɵngcc0.ɵɵtemplate(18, ComboBox_div_18_Template, 3, 2, \"div\", 17);\n      ɵngcc0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.label);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction7(24, _c6, ctx.type === \"multi\", ctx.theme === \"light\", ctx.open, ctx.size === \"sm\", ctx.size === \"xl\", ctx.disabled, ctx.warn));\n      ɵngcc0.ɵɵattribute(\"data-invalid\", ctx.invalid ? true : null);\n      ɵngcc0.ɵɵadvance(3);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.type === \"multi\" && ctx.pills.length > 0);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"disabled\", ctx.disabled)(\"value\", ctx.selectedValue)(\"ngClass\", ɵngcc0.ɵɵpureFunction1(32, _c7, !ctx.showClearButton))(\"id\", ctx.id)(\"placeholder\", ctx.placeholder);\n      ɵngcc0.ɵɵattribute(\"aria-labelledby\", ctx.id)(\"aria-expanded\", ctx.open)(\"maxlength\", ctx.maxLength)(\"aria-autocomplete\", ctx.autocomplete);\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.warn && ctx.invalid);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.invalid && ctx.warn);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showClearButton);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"title\", ctx.open ? ctx.closeMenuAria : ctx.openMenuAria)(\"ngClass\", ɵngcc0.ɵɵpureFunction1(34, _c8, ctx.open));\n      ɵngcc0.ɵɵattribute(\"aria-label\", ctx.open ? ctx.closeMenuAria : ctx.openMenuAria);\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(36, _c9, ctx.dropUp !== null && ctx.dropUp !== undefined ? ctx.dropUp : ctx._dropUp));\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.open);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.helperText && !ctx.invalid && !ctx.warn);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.warn && ctx.invalid);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.invalid && ctx.warn);\n    }\n  },\n  dependencies: [ɵngcc4.NgClass, ɵngcc4.NgIf, ɵngcc4.NgTemplateOutlet, ɵngcc5.IconDirective],\n  encapsulation: 2\n});\nComboBox.comboBoxCount = 0;\n/** @nocollapse */\n\nComboBox.ctorParameters = () => [{\n  type: ElementRef\n}, {\n  type: DocumentService\n}, {\n  type: DropdownService\n}, {\n  type: I18n\n}];\n\nComboBox.propDecorators = {\n  placeholder: [{\n    type: Input\n  }],\n  openMenuAria: [{\n    type: Input\n  }],\n  closeMenuAria: [{\n    type: Input\n  }],\n  clearSelectionsTitle: [{\n    type: Input\n  }],\n  clearSelectionsAria: [{\n    type: Input\n  }],\n  clearSelectionTitle: [{\n    type: Input\n  }],\n  clearSelectionAria: [{\n    type: Input\n  }],\n  id: [{\n    type: Input\n  }],\n  items: [{\n    type: Input\n  }],\n  type: [{\n    type: Input\n  }],\n  size: [{\n    type: Input\n  }],\n  itemValueKey: [{\n    type: Input\n  }],\n  label: [{\n    type: Input\n  }],\n  helperText: [{\n    type: Input\n  }],\n  appendInline: [{\n    type: Input\n  }],\n  invalid: [{\n    type: Input\n  }],\n  invalidText: [{\n    type: Input\n  }],\n  warn: [{\n    type: Input\n  }],\n  warnText: [{\n    type: Input\n  }],\n  maxLength: [{\n    type: Input\n  }],\n  theme: [{\n    type: Input\n  }],\n  selectionFeedback: [{\n    type: Input\n  }],\n  autocomplete: [{\n    type: Input\n  }],\n  dropUp: [{\n    type: Input\n  }],\n  disabled: [{\n    type: Input\n  }],\n  selected: [{\n    type: Output\n  }],\n  submit: [{\n    type: Output\n  }],\n  close: [{\n    type: Output\n  }],\n  search: [{\n    type: Output\n  }],\n  view: [{\n    type: ContentChild,\n    args: [AbstractDropdownView, {\n      static: true\n    }]\n  }],\n  dropdownMenu: [{\n    type: ViewChild,\n    args: [\"dropdownMenu\", {\n      static: false\n    }]\n  }],\n  input: [{\n    type: ViewChild,\n    args: [\"input\", {\n      static: true\n    }]\n  }],\n  listbox: [{\n    type: ViewChild,\n    args: [\"listbox\", {\n      static: true\n    }]\n  }],\n  hostClass: [{\n    type: HostBinding,\n    args: [\"class.bx--list-box__wrapper\"]\n  }],\n  display: [{\n    type: HostBinding,\n    args: [\"style.display\"]\n  }],\n  hostkeys: [{\n    type: HostListener,\n    args: [\"keydown\", [\"$event\"]]\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ComboBox, [{\n    type: Component,\n    args: [{\n      selector: \"ibm-combo-box\",\n      template: `\n\t\t<div class=\"bx--list-box__wrapper\">\n\t\t\t<label\n\t\t\t\t*ngIf=\"label\"\n\t\t\t\t[for]=\"id\"\n\t\t\t\tclass=\"bx--label\"\n\t\t\t\t[ngClass]=\"{'bx--label--disabled': disabled}\">\n\t\t\t\t<ng-container *ngIf=\"!isTemplate(label)\">{{label}}</ng-container>\n\t\t\t\t<ng-template *ngIf=\"isTemplate(label)\" [ngTemplateOutlet]=\"label\"></ng-template>\n\t\t\t</label>\n\t\t\t<div\n\t\t\t\t#listbox\n\t\t\t\t[ngClass]=\"{\n\t\t\t\t\t'bx--multi-select bx--multi-select--filterable': type === 'multi',\n\t\t\t\t\t'bx--list-box--light': theme === 'light',\n\t\t\t\t\t'bx--list-box--expanded': open,\n\t\t\t\t\t'bx--list-box--sm': size === 'sm',\n\t\t\t\t\t'bx--list-box--lg': size === 'xl',\n\t\t\t\t\t'bx--list-box--disabled': disabled,\n\t\t\t\t\t'bx--combo-box--warning bx--list-box--warning': warn\n\t\t\t\t}\"\n\t\t\t\tclass=\"bx--list-box bx--combo-box\"\n\t\t\t\t[attr.data-invalid]=\"(invalid ? true : null)\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"bx--list-box__field\"\n\t\t\t\t\t(click)=\"toggleDropdown()\"\n\t\t\t\t\t(blur)=\"onBlur()\">\n\t\t\t\t\t<div\n\t\t\t\t\t\t*ngIf=\"type === 'multi' && pills.length > 0\"\n\t\t\t\t\t\tclass=\"bx--tag bx--tag--filter bx--tag--high-contrast\"\n\t\t\t\t\t\t[ngClass]=\"{'bx--tag--disabled': disabled}\">\n\t\t\t\t\t\t<span class=\"bx--tag__label\">{{ pills.length }}</span>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t(click)=\"clearSelected()\"\n\t\t\t\t\t\t\t(blur)=\"onBlur()\"\n\t\t\t\t\t\t\t(keydown.enter)=\"clearSelected()\"\n\t\t\t\t\t\t\tclass=\"bx--tag__close-icon\"\n\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\t[title]=\"clearSelectionsTitle\"\n\t\t\t\t\t\t\t[disabled]=\"disabled\"\n\t\t\t\t\t\t\t[attr.aria-label]=\"clearSelectionAria\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tfocusable=\"false\"\n\t\t\t\t\t\t\t\tpreserveAspectRatio=\"xMidYMid meet\"\n\t\t\t\t\t\t\t\tstyle=\"will-change: transform;\"\n\t\t\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\twidth=\"16\"\n\t\t\t\t\t\t\t\theight=\"16\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\taria-hidden=\"true\">\n\t\t\t\t\t\t\t\t<path d=\"M12 4.7l-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z\"></path>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\t#input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\t[disabled]=\"disabled\"\n\t\t\t\t\t\t(input)=\"onSearch($event.target.value)\"\n\t\t\t\t\t\t(blur)=\"onBlur()\"\n\t\t\t\t\t\t(keydown.enter)=\"onSubmit($event)\"\n\t\t\t\t\t\t[value]=\"selectedValue\"\n\t\t\t\t\t\tclass=\"bx--text-input\"\n\t\t\t\t\t\t[ngClass]=\"{'bx--text-input--empty': !showClearButton}\"\n\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t[id]=\"id\"\n\t\t\t\t\t\t[attr.aria-labelledby]=\"id\"\n\t\t\t\t\t\t[attr.aria-expanded]=\"open\"\n\t\t\t\t\t\taria-haspopup=\"listbox\"\n\t\t\t\t\t\t[attr.maxlength]=\"maxLength\"\n\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t[attr.aria-autocomplete]=\"autocomplete\"\n\t\t\t\t\t\t[placeholder]=\"placeholder\"/>\n\t\t\t\t\t<svg\n\t\t\t\t\t\t*ngIf=\"!warn && invalid\"\n\t\t\t\t\t\tibmIcon=\"warning--filled\"\n\t\t\t\t\t\tsize=\"16\"\n\t\t\t\t\t\tclass=\"bx--list-box__invalid-icon\">\n\t\t\t\t\t</svg>\n\t\t\t\t\t<svg\n\t\t\t\t\t\t*ngIf=\"!invalid && warn\"\n\t\t\t\t\t\tibmIcon=\"warning--alt--filled\"\n\t\t\t\t\t\tsize=\"16\"\n\t\t\t\t\t\tclass=\"bx--list-box__invalid-icon bx--list-box__invalid-icon--warning\">\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div\n\t\t\t\t\t\t*ngIf=\"showClearButton\"\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\tclass=\"bx--list-box__selection\"\n\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t[attr.aria-label]=\"clearSelectionAria\"\n\t\t\t\t\t\t[title]=\"clearSelectionTitle\"\n\t\t\t\t\t\t(keyup.enter)=\"clearInput($event)\"\n\t\t\t\t\t\t(click)=\"clearInput($event)\"\n\t\t\t\t\t\t(blur)=\"onBlur()\">\n\t\t\t\t\t\t<svg ibmIcon=\"close\" size=\"16\"></svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\ttabindex=\"-1\"\n\t\t\t\t\t\tclass=\"bx--list-box__menu-icon\"\n\t\t\t\t\t\t[title]=\"open ? closeMenuAria : openMenuAria\"\n\t\t\t\t\t\t[attr.aria-label]=\"open ? closeMenuAria : openMenuAria\"\n\t\t\t\t\t\t[ngClass]=\"{'bx--list-box__menu-icon--open': open}\">\n\t\t\t\t\t\t<svg ibmIcon=\"chevron--down\" size=\"16\"></svg>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\t#dropdownMenu\n\t\t\t\t\t[ngClass]=\"{\n\t\t\t\t\t\t'bx--list-box--up': this.dropUp !== null && this.dropUp !== undefined ? dropUp : _dropUp\n\t\t\t\t\t}\">\n\t\t\t\t\t<ng-content *ngIf=\"open\"></ng-content>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\t*ngIf=\"helperText && !invalid && !warn\"\n\t\t\t\tclass=\"bx--form__helper-text\"\n\t\t\t\t[ngClass]=\"{'bx--form__helper-text--disabled': disabled}\">\n\t\t\t\t<ng-container *ngIf=\"!isTemplate(helperText)\">{{helperText}}</ng-container>\n\t\t\t\t<ng-template *ngIf=\"isTemplate(helperText)\" [ngTemplateOutlet]=\"helperText\"></ng-template>\n\t\t\t</div>\n\t\t\t<div *ngIf=\"!warn && invalid\" class=\"bx--form-requirement\">\n\t\t\t\t<ng-container *ngIf=\"!isTemplate(invalidText)\">{{ invalidText }}</ng-container>\n\t\t\t\t<ng-template *ngIf=\"isTemplate(invalidText)\" [ngTemplateOutlet]=\"invalidText\"></ng-template>\n\t\t\t</div>\n\t\t\t<div *ngIf=\"!invalid && warn\" class=\"bx--form-requirement\">\n\t\t\t\t<ng-container *ngIf=\"!isTemplate(warnText)\">{{warnText}}</ng-container>\n\t\t\t\t<ng-template *ngIf=\"isTemplate(warnText)\" [ngTemplateOutlet]=\"warnText\"></ng-template>\n\t\t\t</div>\n\t\t</div>\n\t`,\n      providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: ComboBox,\n        multi: true\n      }]\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc1.DocumentService\n    }, {\n      type: ɵngcc2.DropdownService\n    }, {\n      type: ɵngcc3.I18n\n    }];\n  }, {\n    id: [{\n      type: Input\n    }],\n    items: [{\n      type: Input\n    }],\n    type: [{\n      type: Input\n    }],\n    size: [{\n      type: Input\n    }],\n    appendInline: [{\n      type: Input\n    }],\n    invalid: [{\n      type: Input\n    }],\n    warn: [{\n      type: Input\n    }],\n    maxLength: [{\n      type: Input\n    }],\n    theme: [{\n      type: Input\n    }],\n    selectionFeedback: [{\n      type: Input\n    }],\n    autocomplete: [{\n      type: Input\n    }],\n    disabled: [{\n      type: Input\n    }],\n    selected: [{\n      type: Output\n    }],\n    submit: [{\n      type: Output\n    }],\n    close: [{\n      type: Output\n    }],\n    search: [{\n      type: Output\n    }],\n    hostClass: [{\n      type: HostBinding,\n      args: [\"class.bx--list-box__wrapper\"]\n    }],\n    display: [{\n      type: HostBinding,\n      args: [\"style.display\"]\n    }],\n    placeholder: [{\n      type: Input\n    }],\n    openMenuAria: [{\n      type: Input\n    }],\n    closeMenuAria: [{\n      type: Input\n    }],\n    clearSelectionsTitle: [{\n      type: Input\n    }],\n    clearSelectionsAria: [{\n      type: Input\n    }],\n    clearSelectionTitle: [{\n      type: Input\n    }],\n    clearSelectionAria: [{\n      type: Input\n    }],\n\n    /**\n     * Handles `Escape/Tab` key closing the dropdown, and arrow up/down focus to/from the dropdown list.\n     */\n    hostkeys: [{\n      type: HostListener,\n      args: [\"keydown\", [\"$event\"]]\n    }],\n    itemValueKey: [{\n      type: Input\n    }],\n    label: [{\n      type: Input\n    }],\n    helperText: [{\n      type: Input\n    }],\n    invalidText: [{\n      type: Input\n    }],\n    warnText: [{\n      type: Input\n    }],\n    dropUp: [{\n      type: Input\n    }],\n    view: [{\n      type: ContentChild,\n      args: [AbstractDropdownView, {\n        static: true\n      }]\n    }],\n    dropdownMenu: [{\n      type: ViewChild,\n      args: [\"dropdownMenu\", {\n        static: false\n      }]\n    }],\n    input: [{\n      type: ViewChild,\n      args: [\"input\", {\n        static: true\n      }]\n    }],\n    listbox: [{\n      type: ViewChild,\n      args: [\"listbox\", {\n        static: true\n      }]\n    }]\n  });\n})();\n\nclass ComboBoxModule {}\n\nComboBoxModule.ɵfac = function ComboBoxModule_Factory(t) {\n  return new (t || ComboBoxModule)();\n};\n\nComboBoxModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n  type: ComboBoxModule\n});\nComboBoxModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n  providers: [DropdownService],\n  imports: [CommonModule, DropdownModule, I18nModule, UtilsModule, IconModule, DropdownModule]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ComboBoxModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [ComboBox],\n      exports: [ComboBox, DropdownModule],\n      imports: [CommonModule, DropdownModule, I18nModule, UtilsModule, IconModule],\n      providers: [DropdownService]\n    }]\n  }], null, null);\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ComboBoxModule, {\n    declarations: function () {\n      return [ComboBox];\n    },\n    imports: function () {\n      return [CommonModule, DropdownModule, I18nModule, UtilsModule, IconModule];\n    },\n    exports: function () {\n      return [ComboBox, DropdownModule];\n    }\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { ComboBox, ComboBoxModule };","map":{"version":3,"names":["NG_VALUE_ACCESSOR","filter","Component","ContentChild","Input","Output","HostListener","ElementRef","ViewChild","EventEmitter","HostBinding","TemplateRef","NgModule","CommonModule","AbstractDropdownView","DropdownService","DropdownModule","I18n","I18nModule","DocumentService","getScrollableParents","hasScrollableParents","UtilsModule","IconModule","ɵngcc0","ɵngcc1","ɵngcc2","ɵngcc3","ɵngcc4","ɵngcc5","_c0","_c1","_c2","ComboBox_label_1_ng_container_1_Template","rf","ctx","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","ctx_r12","ɵɵnextContext","ɵɵadvance","ɵɵtextInterpolate","label","ComboBox_label_1_2_ng_template_0_Template","ComboBox_label_1_2_Template","ɵɵtemplate","ctx_r13","ɵɵproperty","_c3","a0","ComboBox_label_1_Template","ɵɵelementStart","ɵɵelementEnd","ctx_r0","id","ɵɵpureFunction1","disabled","isTemplate","_c4","ComboBox_div_5_Template","_r16","ɵɵgetCurrentView","ɵɵlistener","ComboBox_div_5_Template_button_click_3_listener","ɵɵrestoreView","ctx_r15","ɵɵresetView","clearSelected","ComboBox_div_5_Template_button_blur_3_listener","ctx_r17","onBlur","ComboBox_div_5_Template_button_keydown_enter_3_listener","ctx_r18","ɵɵnamespaceSVG","ɵɵelement","ctx_r2","pills","length","clearSelectionsTitle","ɵɵattribute","clearSelectionAria","ComboBox__svg_svg_8_Template","ComboBox__svg_svg_9_Template","ComboBox_div_10_Template","_r20","ComboBox_div_10_Template_div_keyup_enter_0_listener","$event","ctx_r19","clearInput","ComboBox_div_10_Template_div_click_0_listener","ctx_r21","ComboBox_div_10_Template_div_blur_0_listener","ctx_r22","ctx_r6","clearSelectionTitle","ComboBox_ng_content_15_Template","ɵɵprojection","ComboBox_div_16_ng_container_1_Template","ctx_r23","helperText","ComboBox_div_16_2_ng_template_0_Template","ComboBox_div_16_2_Template","ctx_r24","_c5","ComboBox_div_16_Template","ctx_r9","ComboBox_div_17_ng_container_1_Template","ctx_r26","invalidText","ComboBox_div_17_2_ng_template_0_Template","ComboBox_div_17_2_Template","ctx_r27","ComboBox_div_17_Template","ctx_r10","ComboBox_div_18_ng_container_1_Template","ctx_r29","warnText","ComboBox_div_18_2_ng_template_0_Template","ComboBox_div_18_2_Template","ctx_r30","ComboBox_div_18_Template","ctx_r11","_c6","a1","a2","a3","a4","a5","a6","_c7","_c8","_c9","_c10","ComboBox","constructor","elementRef","documentService","dropdownService","i18n","comboBoxCount","items","type","size","appendInline","invalid","warn","maxLength","theme","selectionFeedback","autocomplete","selected","submit","close","search","hostClass","display","open","showClearButton","selectedValue","keyboardNav","_keyboardNav","bind","_dropUp","noop","_noop","onTouchedCallback","propagateChangeCallback","_placeholder","getOverridable","_closeMenuAria","_openMenuAria","_clearSelectionsTitle","_clearSelectionsAria","_clearSelectionTitle","_clearSelectionAria","placeholder","value","override","openMenuAria","closeMenuAria","clearSelectionsAria","ngOnChanges","changes","view","currentValue","updateSelected","onSearch","input","nativeElement","ngAfterContentInit","isUpdate","event","select","subscribe","updatePills","itemValueKey","getSelected","values","map","item","content","querySelector","focus","filterBy","closeDropdown","emit","setTimeout","blurIntent","pipe","v","ngAfterViewInit","handleClick","contains","target","dropdownMenu","ngOnDestroy","_appendToDropdown","hostkeys","ev","key","stopPropagation","openDropdown","initFocus","shiftKey","writeValue","newValue","Object","assign","getListItems","find","propagateSelected","newValues","push","registerOnChange","fn","registerOnTouched","setDisabledState","isDisabled","checkForReorder","_appendToBody","dropUp","undefined","_shouldDropUp","toggleDropdown","searchString","shouldEmitSearch","reorderSelected","matches","some","toLowerCase","includes","onSubmit","index","preventDefault","stopImmediatePropagation","dispatchEvent","KeyboardEvent","bubbles","cancelable","appendToBody","listbox","className","addEventListener","appendToDropdown","removeEventListener","menu","menuRect","getBoundingClientRect","scrollableParents","reduce","shouldDropUp","parent","parentRect","isBelowParent","bottom","changeCallbackValue","topAfterReopen","ɵfac","ComboBox_Factory","t","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","selectors","contentQueries","ComboBox_ContentQueries","dirIndex","ɵɵcontentQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","first","viewQuery","ComboBox_Query","ɵɵviewQuery","hostVars","hostBindings","ComboBox_HostBindings","ComboBox_keydown_HostBindingHandler","ɵɵstyleProp","ɵɵclassProp","inputs","outputs","features","ɵɵProvidersFeature","provide","useExisting","multi","ɵɵNgOnChangesFeature","ngContentSelectors","decls","vars","consts","template","ComboBox_Template","ɵɵprojectionDef","ComboBox_Template_div_click_4_listener","ComboBox_Template_div_blur_4_listener","ComboBox_Template_input_input_6_listener","ComboBox_Template_input_blur_6_listener","ComboBox_Template_input_keydown_enter_6_listener","ɵɵnamespaceHTML","ɵɵpureFunction7","dependencies","NgClass","NgIf","NgTemplateOutlet","IconDirective","encapsulation","ctorParameters","propDecorators","args","static","ngDevMode","ɵsetClassMetadata","selector","providers","ComboBoxModule","ComboBoxModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","imports","declarations","exports","ngJitMode","ɵɵsetNgModuleScope"],"sources":["/Users/TSC/Desktop/Angular-Carbon/carbon-tutorial-angular/node_modules/carbon-components-angular/__ivy_ngcc__/fesm2015/carbon-components-angular-combobox.js"],"sourcesContent":["/**\n *\n * carbon-angular v0.0.0 | carbon-components-angular-combobox.js\n *\n * Copyright 2014, 2022 IBM\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { filter } from 'rxjs/operators';\nimport { Component, ContentChild, Input, Output, HostListener, ElementRef, ViewChild, EventEmitter, HostBinding, TemplateRef, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AbstractDropdownView, DropdownService, DropdownModule } from 'carbon-components-angular/dropdown';\nimport { I18n, I18nModule } from 'carbon-components-angular/i18n';\nimport { DocumentService, getScrollableParents, hasScrollableParents, UtilsModule } from 'carbon-components-angular/utils';\nimport { IconModule } from 'carbon-components-angular/icon';\n\n/**\n * ComboBoxes are similar to dropdowns, except a combobox provides an input field for users to search items and (optionally) add their own.\n * Multi-select comboboxes also provide \"pills\" of selected items.\n *\n * [See demo](../../?path=/story/components-combobox--basic)\n *\n * <example-url>../../iframe.html?id=components-combobox--basic</example-url>\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'carbon-components-angular/utils';\nimport * as ɵngcc2 from 'carbon-components-angular/dropdown';\nimport * as ɵngcc3 from 'carbon-components-angular/i18n';\nimport * as ɵngcc4 from '@angular/common';\nimport * as ɵngcc5 from 'carbon-components-angular/icon';\n\nconst _c0 = [\"dropdownMenu\"];\nconst _c1 = [\"input\"];\nconst _c2 = [\"listbox\"];\nfunction ComboBox_label_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r12 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r12.label);\n} }\nfunction ComboBox_label_1_2_ng_template_0_Template(rf, ctx) { }\nfunction ComboBox_label_1_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, ComboBox_label_1_2_ng_template_0_Template, 0, 0, \"ng-template\", 19);\n} if (rf & 2) {\n    const ctx_r13 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r13.label);\n} }\nconst _c3 = function (a0) { return { \"bx--label--disabled\": a0 }; };\nfunction ComboBox_label_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"label\", 18);\n    ɵngcc0.ɵɵtemplate(1, ComboBox_label_1_ng_container_1_Template, 2, 1, \"ng-container\", 15);\n    ɵngcc0.ɵɵtemplate(2, ComboBox_label_1_2_Template, 1, 1, null, 15);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"for\", ctx_r0.id)(\"ngClass\", ɵngcc0.ɵɵpureFunction1(4, _c3, ctx_r0.disabled));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r0.isTemplate(ctx_r0.label));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.isTemplate(ctx_r0.label));\n} }\nconst _c4 = function (a0) { return { \"bx--tag--disabled\": a0 }; };\nfunction ComboBox_div_5_Template(rf, ctx) { if (rf & 1) {\n    const _r16 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 20)(1, \"span\", 21);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(3, \"button\", 22);\n    ɵngcc0.ɵɵlistener(\"click\", function ComboBox_div_5_Template_button_click_3_listener() { ɵngcc0.ɵɵrestoreView(_r16); const ctx_r15 = ɵngcc0.ɵɵnextContext(); return ɵngcc0.ɵɵresetView(ctx_r15.clearSelected()); })(\"blur\", function ComboBox_div_5_Template_button_blur_3_listener() { ɵngcc0.ɵɵrestoreView(_r16); const ctx_r17 = ɵngcc0.ɵɵnextContext(); return ɵngcc0.ɵɵresetView(ctx_r17.onBlur()); })(\"keydown.enter\", function ComboBox_div_5_Template_button_keydown_enter_3_listener() { ɵngcc0.ɵɵrestoreView(_r16); const ctx_r18 = ɵngcc0.ɵɵnextContext(); return ɵngcc0.ɵɵresetView(ctx_r18.clearSelected()); });\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelementStart(4, \"svg\", 23);\n    ɵngcc0.ɵɵelement(5, \"path\", 24);\n    ɵngcc0.ɵɵelementEnd()()();\n} if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(5, _c4, ctx_r2.disabled));\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r2.pills.length);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"title\", ctx_r2.clearSelectionsTitle)(\"disabled\", ctx_r2.disabled);\n    ɵngcc0.ɵɵattribute(\"aria-label\", ctx_r2.clearSelectionAria);\n} }\nfunction ComboBox__svg_svg_8_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"svg\", 25);\n} }\nfunction ComboBox__svg_svg_9_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(0, \"svg\", 26);\n} }\nfunction ComboBox_div_10_Template(rf, ctx) { if (rf & 1) {\n    const _r20 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 27);\n    ɵngcc0.ɵɵlistener(\"keyup.enter\", function ComboBox_div_10_Template_div_keyup_enter_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r20); const ctx_r19 = ɵngcc0.ɵɵnextContext(); return ɵngcc0.ɵɵresetView(ctx_r19.clearInput($event)); })(\"click\", function ComboBox_div_10_Template_div_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r20); const ctx_r21 = ɵngcc0.ɵɵnextContext(); return ɵngcc0.ɵɵresetView(ctx_r21.clearInput($event)); })(\"blur\", function ComboBox_div_10_Template_div_blur_0_listener() { ɵngcc0.ɵɵrestoreView(_r20); const ctx_r22 = ɵngcc0.ɵɵnextContext(); return ɵngcc0.ɵɵresetView(ctx_r22.onBlur()); });\n    ɵngcc0.ɵɵnamespaceSVG();\n    ɵngcc0.ɵɵelement(1, \"svg\", 28);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r6 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"title\", ctx_r6.clearSelectionTitle);\n    ɵngcc0.ɵɵattribute(\"aria-label\", ctx_r6.clearSelectionAria);\n} }\nfunction ComboBox_ng_content_15_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵprojection(0, 0, [\"*ngIf\", \"open\"]);\n} }\nfunction ComboBox_div_16_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r23 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r23.helperText);\n} }\nfunction ComboBox_div_16_2_ng_template_0_Template(rf, ctx) { }\nfunction ComboBox_div_16_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, ComboBox_div_16_2_ng_template_0_Template, 0, 0, \"ng-template\", 19);\n} if (rf & 2) {\n    const ctx_r24 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r24.helperText);\n} }\nconst _c5 = function (a0) { return { \"bx--form__helper-text--disabled\": a0 }; };\nfunction ComboBox_div_16_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 29);\n    ɵngcc0.ɵɵtemplate(1, ComboBox_div_16_ng_container_1_Template, 2, 1, \"ng-container\", 15);\n    ɵngcc0.ɵɵtemplate(2, ComboBox_div_16_2_Template, 1, 1, null, 15);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r9 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(3, _c5, ctx_r9.disabled));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r9.isTemplate(ctx_r9.helperText));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r9.isTemplate(ctx_r9.helperText));\n} }\nfunction ComboBox_div_17_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r26 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r26.invalidText);\n} }\nfunction ComboBox_div_17_2_ng_template_0_Template(rf, ctx) { }\nfunction ComboBox_div_17_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, ComboBox_div_17_2_ng_template_0_Template, 0, 0, \"ng-template\", 19);\n} if (rf & 2) {\n    const ctx_r27 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r27.invalidText);\n} }\nfunction ComboBox_div_17_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 30);\n    ɵngcc0.ɵɵtemplate(1, ComboBox_div_17_ng_container_1_Template, 2, 1, \"ng-container\", 15);\n    ɵngcc0.ɵɵtemplate(2, ComboBox_div_17_2_Template, 1, 1, null, 15);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r10 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r10.isTemplate(ctx_r10.invalidText));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r10.isTemplate(ctx_r10.invalidText));\n} }\nfunction ComboBox_div_18_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r29 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r29.warnText);\n} }\nfunction ComboBox_div_18_2_ng_template_0_Template(rf, ctx) { }\nfunction ComboBox_div_18_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, ComboBox_div_18_2_ng_template_0_Template, 0, 0, \"ng-template\", 19);\n} if (rf & 2) {\n    const ctx_r30 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r30.warnText);\n} }\nfunction ComboBox_div_18_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 30);\n    ɵngcc0.ɵɵtemplate(1, ComboBox_div_18_ng_container_1_Template, 2, 1, \"ng-container\", 15);\n    ɵngcc0.ɵɵtemplate(2, ComboBox_div_18_2_Template, 1, 1, null, 15);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r11 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r11.isTemplate(ctx_r11.warnText));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r11.isTemplate(ctx_r11.warnText));\n} }\nconst _c6 = function (a0, a1, a2, a3, a4, a5, a6) { return { \"bx--multi-select bx--multi-select--filterable\": a0, \"bx--list-box--light\": a1, \"bx--list-box--expanded\": a2, \"bx--list-box--sm\": a3, \"bx--list-box--lg\": a4, \"bx--list-box--disabled\": a5, \"bx--combo-box--warning bx--list-box--warning\": a6 }; };\nconst _c7 = function (a0) { return { \"bx--text-input--empty\": a0 }; };\nconst _c8 = function (a0) { return { \"bx--list-box__menu-icon--open\": a0 }; };\nconst _c9 = function (a0) { return { \"bx--list-box--up\": a0 }; };\nconst _c10 = [\"*\"];\nclass ComboBox {\n    /**\n     * Creates an instance of ComboBox.\n     */\n    constructor(elementRef, documentService, dropdownService, i18n) {\n        this.elementRef = elementRef;\n        this.documentService = documentService;\n        this.dropdownService = dropdownService;\n        this.i18n = i18n;\n        this.id = `dropdown-${ComboBox.comboBoxCount++}`;\n        /**\n         * List of items to fill the content with.\n         *\n         * **Example:**\n         * ```javascript\n         * items = [\n         *\t\t{\n         *\t\t\tcontent: \"Abacus\",\n         *\t\t\tselected: false\n         *\t\t},\n         *\t\t{\n         *\t\t\tcontent: \"Byte\",\n         *\t\t\tselected: false,\n         *\t\t},\n         *\t\t{\n         *\t\t\tcontent: \"Computer\",\n         *\t\t\tselected: false\n         *\t\t},\n         *\t\t{\n         *\t\t\tcontent: \"Digital\",\n         *\t\t\tselected: false\n         *\t\t}\n         * ];\n         * ```\n         *\n         */\n        this.items = [];\n        /**\n         * Combo box type (supporting single or multi selection of items).\n         */\n        this.type = \"single\";\n        /**\n         * Combo box render size.\n         *\n         * @deprecated since v4\n         */\n        this.size = \"md\";\n        /**\n         * set to `true` to place the dropdown view inline with the component\n         */\n        this.appendInline = null;\n        /**\n         * Set to `true` to show the invalid state.\n         */\n        this.invalid = false;\n        /**\n        * Set to `true` to show a warning (contents set by warnText)\n        */\n        this.warn = false;\n        /**\n         * Max length value to limit input characters\n         */\n        this.maxLength = null;\n        /**\n         * `light` or `dark` dropdown theme\n         */\n        this.theme = \"dark\";\n        /**\n         * Specify feedback (mode) of the selection.\n         * `top`: selected item jumps to top\n         * `fixed`: selected item stays at its position\n         * `top-after-reopen`: selected item jump to top after reopen dropdown\n         */\n        this.selectionFeedback = \"top-after-reopen\";\n        /**\n         * Specify aria-autocomplete attribute of text input.\n         * \"list\", is the expected value for a combobox that invokes a drop-down list\n         */\n        this.autocomplete = \"list\";\n        /**\n         * Set to `true` to disable combobox.\n         */\n        this.disabled = false;\n        /**\n         * Emits a ListItem\n         *\n         * Example:\n         * ```javascript\n         * {\n         * \t\tcontent: \"one\",\n         * \t\tselected: true\n         * }\n         * ```\n         */\n        this.selected = new EventEmitter();\n        /**\n         * Intended to be used to add items to the list.\n         *\n         * Emits an event that includes the current item list, the suggested index for the new item, and a simple ListItem\n         *\n         * Example:\n         * ```javascript\n         *\t{\n         *\t\titems: [{content: \"one\", selected: true}, {content: \"two\", selected: true}],\n         *\t\tindex: 1,\n         *\t\tvalue: {\n         *\t\t\tcontent: \"some user string\",\n         *\t\t\tselected: false\n         *\t\t}\n         *\t}\n         * ```\n         *\n         *\n         * Example:\n         * ```javascript\n         * {\n         *\tafter: 1,\n         *\tvalue: \"some user string\"\n         * }\n         * ```\n         */\n        this.submit = new EventEmitter();\n        /** emits an empty event when the menu is closed */\n        this.close = new EventEmitter();\n        /** emits the search string from the input */\n        this.search = new EventEmitter();\n        this.hostClass = true;\n        // @HostBinding(\"attr.role\") role = \"combobox\";\n        this.display = \"block\";\n        this.open = false;\n        this.showClearButton = false;\n        /** Selected items for multi-select combo-boxes. */\n        this.pills = [];\n        /** used to update the displayValue */\n        this.selectedValue = \"\";\n        this.keyboardNav = this._keyboardNav.bind(this);\n        /**\n         * controls whether the `drop-up` class is applied\n         */\n        this._dropUp = false;\n        this.noop = this._noop.bind(this);\n        this.onTouchedCallback = this._noop;\n        this.propagateChangeCallback = this._noop;\n        this._placeholder = this.i18n.getOverridable(\"COMBOBOX.PLACEHOLDER\");\n        this._closeMenuAria = this.i18n.getOverridable(\"COMBOBOX.A11Y.CLOSE_MENU\");\n        this._openMenuAria = this.i18n.getOverridable(\"COMBOBOX.A11Y.OPEN_MENU\");\n        this._clearSelectionsTitle = this.i18n.getOverridable(\"COMBOBOX.CLEAR_SELECTIONS\");\n        this._clearSelectionsAria = this.i18n.getOverridable(\"COMBOBOX.A11Y.CLEAR_SELECTIONS\");\n        this._clearSelectionTitle = this.i18n.getOverridable(\"COMBOBOX.CLEAR_SELECTED\");\n        this._clearSelectionAria = this.i18n.getOverridable(\"COMBOBOX.A11Y.CLEAR_SELECTED\");\n    }\n    /**\n     * Text to show when nothing is selected.\n     */\n    set placeholder(value) {\n        this._placeholder.override(value);\n    }\n    get placeholder() {\n        return this._placeholder.value;\n    }\n    /**\n     * Value to display for accessibility purposes on the combobox control menu when closed\n     */\n    set openMenuAria(value) {\n        this._openMenuAria.override(value);\n    }\n    get openMenuAria() {\n        return this._openMenuAria.value;\n    }\n    /**\n     * Value to display for accessibility purposes on the combobox control menu when opened\n     */\n    set closeMenuAria(value) {\n        this._closeMenuAria.override(value);\n    }\n    get closeMenuAria() {\n        return this._closeMenuAria.value;\n    }\n    /**\n     * Value to display on the clear selections icon, when multi is selected\n     */\n    set clearSelectionsTitle(value) {\n        this._clearSelectionsTitle.override(value);\n    }\n    get clearSelectionsTitle() {\n        return this._clearSelectionsTitle.value;\n    }\n    /**\n     * Value to display for accessibility purposes to clear selections, when multi is selected\n     */\n    set clearSelectionsAria(value) {\n        this._clearSelectionsAria.override(value);\n    }\n    get clearSelectionsAria() {\n        return this._clearSelectionsAria.value;\n    }\n    /**\n     * Value to display on the clear the selected item icon, when single is selected\n     */\n    set clearSelectionTitle(value) {\n        this._clearSelectionTitle.override(value);\n    }\n    get clearSelectionTitle() {\n        return this._clearSelectionTitle.value;\n    }\n    /**\n     * Value to display for accessibility purposes on the clear the selected item icon, when single is selected\n     */\n    set clearSelectionAria(value) {\n        this._clearSelectionAria.override(value);\n    }\n    get clearSelectionAria() {\n        return this._clearSelectionAria.value;\n    }\n    /**\n     * Lifecycle hook.\n     * Updates pills if necessary.\n     *\n     */\n    ngOnChanges(changes) {\n        if (changes.items) {\n            this.view.items = changes.items.currentValue;\n            this.updateSelected();\n            // If new items are added into the combobox while there is search input,\n            // repeat the search. Search should only trigger for type 'single' when there is no value selected.\n            if (this.type === \"multi\" || (this.type === \"single\" && !this.selectedValue)) {\n                this.onSearch(this.input.nativeElement.value, false);\n            }\n        }\n    }\n    /**\n     * Sets initial state that depends on child components\n     * Subscribes to select events and handles focus/filtering/initial list updates\n     */\n    ngAfterContentInit() {\n        if (this.view) {\n            this.view.type = this.type;\n            // function to check if the event is organic (isUpdate === false) or programmatic\n            const isUpdate = event => event && event.isUpdate;\n            this.view.select.subscribe(event => {\n                if (this.type === \"multi\") {\n                    this.updatePills();\n                    if (!isUpdate(event)) {\n                        if (this.itemValueKey && this.view.getSelected()) {\n                            const values = this.view.getSelected().map(item => item[this.itemValueKey]);\n                            this.propagateChangeCallback(values);\n                            // otherwise just pass up the values from `getSelected`\n                        }\n                        else {\n                            this.propagateChangeCallback(this.view.getSelected());\n                        }\n                    }\n                }\n                else {\n                    if (event.item && event.item.selected) {\n                        this.showClearButton = true;\n                        this.selectedValue = event.item.content;\n                        if (!isUpdate(event)) {\n                            if (this.itemValueKey) {\n                                this.propagateChangeCallback(event.item[this.itemValueKey]);\n                            }\n                            else {\n                                this.propagateChangeCallback(event.item);\n                            }\n                        }\n                    }\n                    else {\n                        this.selectedValue = \"\";\n                        if (!isUpdate(event)) {\n                            this.propagateChangeCallback(null);\n                        }\n                    }\n                    // not guarding these since the nativeElement has to be loaded\n                    // for select to even fire\n                    // only focus for \"organic\" selections\n                    if (!isUpdate(event)) {\n                        this.elementRef.nativeElement.querySelector(\"input\").focus();\n                        this.view.filterBy(\"\");\n                    }\n                    this.closeDropdown();\n                }\n                if (!isUpdate(event)) {\n                    this.selected.emit(event);\n                }\n            });\n            // update the rest of combobox with any pre-selected items\n            // setTimeout just defers the call to the next check cycle\n            setTimeout(() => {\n                this.updateSelected();\n            });\n            this.view.blurIntent.pipe(filter(v => v === \"top\")).subscribe(() => {\n                this.elementRef.nativeElement.querySelector(\".bx--text-input\").focus();\n            });\n        }\n    }\n    /**\n     * Binds event handlers against the rendered view\n     */\n    ngAfterViewInit() {\n        this.documentService.handleClick(event => {\n            if (!this.elementRef.nativeElement.contains(event.target) &&\n                !this.dropdownMenu.nativeElement.contains(event.target)) {\n                if (this.open) {\n                    this.closeDropdown();\n                }\n            }\n        });\n        // if appendInline is default valued (null) we should:\n        // 1. if there are scrollable parents (not including body) don't append inline\n        //    this should also cover the case where the dropdown is in a modal\n        //    (where we _do_ want to append to the placeholder)\n        if (this.appendInline === null && hasScrollableParents(this.elementRef.nativeElement)) {\n            this.appendInline = false;\n            // 2. otherwise we should append inline\n        }\n        else if (this.appendInline === null) {\n            this.appendInline = true;\n        }\n    }\n    /**\n     * Removing the `Dropdown` from the body if it is appended to the body.\n     */\n    ngOnDestroy() {\n        if (!this.appendInline) {\n            this._appendToDropdown();\n        }\n    }\n    /**\n     * Handles `Escape/Tab` key closing the dropdown, and arrow up/down focus to/from the dropdown list.\n     */\n    hostkeys(ev) {\n        if (ev.key === \"Escape\") {\n            this.closeDropdown();\n        }\n        else if ((ev.key === \"ArrowDown\" || ev.key === \"Down\") // `\"Down\"` is IE specific value\n            && (!this.dropdownMenu || !this.dropdownMenu.nativeElement.contains(ev.target))) {\n            ev.stopPropagation();\n            this.openDropdown();\n            setTimeout(() => { this.view.initFocus(); }, 0);\n        }\n        if (this.open && ev.key === \"Tab\" &&\n            (this.dropdownMenu.nativeElement.contains(ev.target) || ev.target === this.input.nativeElement)) {\n            this.closeDropdown();\n        }\n        if (this.open && ev.key === \"Tab\" && ev.shiftKey) {\n            this.closeDropdown();\n        }\n    }\n    /*\n     * no-op method for null event listeners, and other no op calls\n     */\n    _noop() { }\n    /*\n     * propagates the value provided from ngModel\n     */\n    writeValue(value) {\n        if (this.type === \"single\") {\n            if (this.itemValueKey) {\n                // clone the specified item and update its state\n                const newValue = Object.assign({}, this.view.getListItems().find(item => item[this.itemValueKey] === value));\n                newValue.selected = true;\n                this.view.propagateSelected([newValue]);\n            }\n            else {\n                // all items in propagateSelected must be iterable\n                this.view.propagateSelected([value || \"\"]);\n            }\n            this.showClearButton = !!(value && this.view.getSelected().length);\n        }\n        else {\n            if (this.itemValueKey) {\n                // clone the items and update their state based on the received value array\n                // this way we don't lose any additional metadata that may be passed in via the `items` Input\n                let newValues = [];\n                for (const v of value) {\n                    for (const item of this.view.getListItems()) {\n                        if (item[this.itemValueKey] === v) {\n                            newValues.push(Object.assign({}, item, { selected: true }));\n                        }\n                    }\n                }\n                this.view.propagateSelected(newValues);\n            }\n            else {\n                this.view.propagateSelected(value ? value : [\"\"]);\n            }\n        }\n        this.updateSelected();\n    }\n    onBlur() {\n        this.onTouchedCallback();\n    }\n    registerOnChange(fn) {\n        this.propagateChangeCallback = fn;\n    }\n    registerOnTouched(fn) {\n        this.onTouchedCallback = fn;\n    }\n    /**\n     * `ControlValueAccessor` method to programmatically disable the combobox.\n     *\n     * ex: `this.formGroup.get(\"myCoolCombobox\").disable();`\n     */\n    setDisabledState(isDisabled) {\n        this.disabled = isDisabled;\n    }\n    /**\n     * Called by `n-pill-input` when the selected pills have changed.\n     */\n    updatePills() {\n        this.pills = this.view.getSelected() || [];\n        this.checkForReorder();\n    }\n    clearSelected() {\n        this.items = this.items.map(item => {\n            if (!item.disabled) {\n                item.selected = false;\n            }\n            return item;\n        });\n        this.view.items = this.items;\n        this.updatePills();\n        // clearSelected can only fire on type=multi\n        // so we just emit getSelected() (just in case there's any disabled but selected items)\n        const selected = this.view.getSelected();\n        this.propagateChangeCallback(selected);\n        this.selected.emit(selected);\n    }\n    /**\n     * Closes the dropdown and emits the close event.\n     */\n    closeDropdown() {\n        this.open = false;\n        this.checkForReorder();\n        this.close.emit();\n        if (!this.appendInline) {\n            this._appendToDropdown();\n        }\n    }\n    /**\n     * Opens the dropdown.\n     */\n    openDropdown() {\n        if (this.disabled) {\n            return;\n        }\n        this.open = true;\n        this._dropUp = false;\n        if (!this.appendInline) {\n            this._appendToBody();\n        }\n        // set the dropdown menu to drop up if it is near the bottom of the screen\n        // setTimeout lets us do the calculations after it is visible in the DOM\n        setTimeout(() => {\n            if (this.dropUp === null || this.dropUp === undefined) {\n                this._dropUp = this._shouldDropUp();\n            }\n        }, 0);\n    }\n    /**\n     * Toggles the dropdown.\n     */\n    toggleDropdown() {\n        if (this.open) {\n            this.closeDropdown();\n        }\n        else {\n            this.openDropdown();\n        }\n    }\n    /**\n     * Sets the list group filter, and manages single select item selection.\n     */\n    onSearch(searchString, shouldEmitSearch = true) {\n        if (shouldEmitSearch) {\n            this.search.emit(searchString);\n        }\n        this.showClearButton = !!searchString;\n        this.view.filterBy(searchString);\n        if (searchString !== \"\") {\n            this.openDropdown();\n        }\n        else {\n            this.selectedValue = \"\";\n            if (this.type === \"multi\" &&\n                (this.selectionFeedback === \"top\" || this.selectionFeedback === \"top-after-reopen\")) {\n                this.view.reorderSelected();\n            }\n        }\n        if (this.type === \"single\") {\n            // deselect if the input doesn't match the content\n            // of any given item\n            const matches = this.view.getListItems().some(item => item.content.toLowerCase().includes(searchString.toLowerCase()));\n            if (!matches) {\n                const selected = this.view.getSelected();\n                if (!selected || !selected[0]) {\n                    this.view.filterBy(\"\");\n                }\n            }\n        }\n    }\n    /**\n     * Intended to be used to add items to the list.\n     */\n    onSubmit(event) {\n        this.submit.emit({\n            items: this.view.getListItems(),\n            index: 0,\n            value: {\n                content: event.target.value,\n                selected: false\n            }\n        });\n    }\n    clearInput(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        if (this.type === \"single\") { // don't want to clear selected or close if multi\n            this.clearSelected();\n            this.closeDropdown();\n        }\n        this.selectedValue = \"\";\n        this.input.nativeElement.value = \"\";\n        this.showClearButton = false;\n        this.input.nativeElement.focus();\n        this.onSearch(this.input.nativeElement.value);\n    }\n    isTemplate(value) {\n        return value instanceof TemplateRef;\n    }\n    /**\n     * Handles keyboard events so users are controlling the `Dropdown` instead of unintentionally controlling outside elements.\n     */\n    _keyboardNav(event) {\n        // \"Esc\" is an IE specific value\n        if ((event.key === \"Escape\" || event.key === \"Esc\") && this.open) {\n            event.stopImmediatePropagation(); // don't unintentionally close modal if inside of it\n        }\n        if (event.key === \"Escape\" || event.key === \"Esc\") {\n            event.preventDefault();\n            this.closeDropdown();\n            this.input.nativeElement.focus();\n        }\n        else if (this.open && event.key === \"Tab\") {\n            // this way focus will start on the next focusable item from the dropdown\n            // not the top of the body!\n            this.input.nativeElement.focus();\n            this.input.nativeElement.dispatchEvent(new KeyboardEvent(\"keydown\", { bubbles: true, cancelable: true, key: \"Tab\" }));\n            this.closeDropdown();\n        }\n    }\n    /**\n     * Creates the `Dropdown` list as an element that is appended to the DOM body.\n     */\n    _appendToBody() {\n        this.dropdownService.appendToBody(this.listbox.nativeElement, this.dropdownMenu.nativeElement, `${this.elementRef.nativeElement.className}${this.open ? \" bx--list-box--expanded\" : \"\"}`);\n        this.dropdownMenu.nativeElement.addEventListener(\"keydown\", this.keyboardNav, true);\n    }\n    /**\n     * Creates the `Dropdown` list appending it to the dropdown parent object instead of the body.\n     */\n    _appendToDropdown() {\n        this.dropdownService.appendToDropdown(this.elementRef.nativeElement);\n        this.dropdownMenu.nativeElement.removeEventListener(\"keydown\", this.keyboardNav, true);\n    }\n    /**\n     * Detects whether or not the `Dropdown` list is visible within all scrollable parents.\n     * This can be overridden by passing in a value to the `dropUp` input.\n     */\n    _shouldDropUp() {\n        // check if dropdownMenu exists first.\n        const menu = this.dropdownMenu && this.dropdownMenu.nativeElement.querySelector(\".bx--list-box__menu\");\n        // check if menu exists first.\n        const menuRect = menu && menu.getBoundingClientRect();\n        if (menu && menuRect) {\n            const scrollableParents = getScrollableParents(menu);\n            return scrollableParents.reduce((shouldDropUp, parent) => {\n                const parentRect = parent.getBoundingClientRect();\n                const isBelowParent = !(menuRect.bottom <= parentRect.bottom);\n                return shouldDropUp || isBelowParent;\n            }, false);\n        }\n        return false;\n    }\n    updateSelected() {\n        const selected = this.view.getSelected();\n        if (this.type === \"multi\") {\n            this.updatePills();\n        }\n        else if (selected) {\n            const value = selected[0] ? selected[0].content : \"\";\n            const changeCallbackValue = selected[0] ? selected[0] : \"\";\n            this.selectedValue = value;\n            this.showClearButton = !!value;\n        }\n    }\n    checkForReorder() {\n        const topAfterReopen = !this.open && this.selectionFeedback === \"top-after-reopen\";\n        if ((this.type === \"multi\") && (topAfterReopen || this.selectionFeedback === \"top\")) {\n            this.view.reorderSelected(true);\n        }\n    }\n}\nComboBox.ɵfac = function ComboBox_Factory(t) { return new (t || ComboBox)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DocumentService), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.DropdownService), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.I18n)); };\nComboBox.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: ComboBox, selectors: [[\"ibm-combo-box\"]], contentQueries: function ComboBox_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, AbstractDropdownView, 7);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.view = _t.first);\n    } }, viewQuery: function ComboBox_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 5);\n        ɵngcc0.ɵɵviewQuery(_c1, 7);\n        ɵngcc0.ɵɵviewQuery(_c2, 7);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.dropdownMenu = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.input = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.listbox = _t.first);\n    } }, hostVars: 4, hostBindings: function ComboBox_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"keydown\", function ComboBox_keydown_HostBindingHandler($event) { return ctx.hostkeys($event); });\n    } if (rf & 2) {\n        ɵngcc0.ɵɵstyleProp(\"display\", ctx.display);\n        ɵngcc0.ɵɵclassProp(\"bx--list-box__wrapper\", ctx.hostClass);\n    } }, inputs: { id: \"id\", items: \"items\", type: \"type\", size: \"size\", appendInline: \"appendInline\", invalid: \"invalid\", warn: \"warn\", maxLength: \"maxLength\", theme: \"theme\", selectionFeedback: \"selectionFeedback\", autocomplete: \"autocomplete\", disabled: \"disabled\", placeholder: \"placeholder\", openMenuAria: \"openMenuAria\", closeMenuAria: \"closeMenuAria\", clearSelectionsTitle: \"clearSelectionsTitle\", clearSelectionsAria: \"clearSelectionsAria\", clearSelectionTitle: \"clearSelectionTitle\", clearSelectionAria: \"clearSelectionAria\", itemValueKey: \"itemValueKey\", label: \"label\", helperText: \"helperText\", invalidText: \"invalidText\", warnText: \"warnText\", dropUp: \"dropUp\" }, outputs: { selected: \"selected\", submit: \"submit\", close: \"close\", search: \"search\" }, features: [ɵngcc0.ɵɵProvidersFeature([\n            {\n                provide: NG_VALUE_ACCESSOR,\n                useExisting: ComboBox,\n                multi: true\n            }\n        ]), ɵngcc0.ɵɵNgOnChangesFeature], ngContentSelectors: _c10, decls: 19, vars: 38, consts: [[1, \"bx--list-box__wrapper\"], [\"class\", \"bx--label\", 3, \"for\", \"ngClass\", 4, \"ngIf\"], [1, \"bx--list-box\", \"bx--combo-box\", 3, \"ngClass\"], [\"listbox\", \"\"], [1, \"bx--list-box__field\", 3, \"click\", \"blur\"], [\"class\", \"bx--tag bx--tag--filter bx--tag--high-contrast\", 3, \"ngClass\", 4, \"ngIf\"], [\"type\", \"text\", \"autocomplete\", \"off\", \"role\", \"combobox\", \"tabindex\", \"0\", \"aria-haspopup\", \"listbox\", \"aria-haspopup\", \"true\", 1, \"bx--text-input\", 3, \"disabled\", \"value\", \"ngClass\", \"id\", \"placeholder\", \"input\", \"blur\", \"keydown.enter\"], [\"input\", \"\"], [\"ibmIcon\", \"warning--filled\", \"size\", \"16\", \"class\", \"bx--list-box__invalid-icon\", 4, \"ngIf\"], [\"ibmIcon\", \"warning--alt--filled\", \"size\", \"16\", \"class\", \"bx--list-box__invalid-icon bx--list-box__invalid-icon--warning\", 4, \"ngIf\"], [\"role\", \"button\", \"class\", \"bx--list-box__selection\", \"tabindex\", \"0\", 3, \"title\", \"keyup.enter\", \"click\", \"blur\", 4, \"ngIf\"], [\"type\", \"button\", \"role\", \"button\", \"tabindex\", \"-1\", 1, \"bx--list-box__menu-icon\", 3, \"title\", \"ngClass\"], [\"ibmIcon\", \"chevron--down\", \"size\", \"16\"], [3, \"ngClass\"], [\"dropdownMenu\", \"\"], [4, \"ngIf\"], [\"class\", \"bx--form__helper-text\", 3, \"ngClass\", 4, \"ngIf\"], [\"class\", \"bx--form-requirement\", 4, \"ngIf\"], [1, \"bx--label\", 3, \"for\", \"ngClass\"], [3, \"ngTemplateOutlet\"], [1, \"bx--tag\", \"bx--tag--filter\", \"bx--tag--high-contrast\", 3, \"ngClass\"], [1, \"bx--tag__label\"], [\"type\", \"button\", \"tabindex\", \"0\", 1, \"bx--tag__close-icon\", 3, \"title\", \"disabled\", \"click\", \"blur\", \"keydown.enter\"], [\"focusable\", \"false\", \"preserveAspectRatio\", \"xMidYMid meet\", \"role\", \"img\", \"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"viewBox\", \"0 0 16 16\", \"aria-hidden\", \"true\", 2, \"will-change\", \"transform\"], [\"d\", \"M12 4.7l-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z\"], [\"ibmIcon\", \"warning--filled\", \"size\", \"16\", 1, \"bx--list-box__invalid-icon\"], [\"ibmIcon\", \"warning--alt--filled\", \"size\", \"16\", 1, \"bx--list-box__invalid-icon\", \"bx--list-box__invalid-icon--warning\"], [\"role\", \"button\", \"tabindex\", \"0\", 1, \"bx--list-box__selection\", 3, \"title\", \"keyup.enter\", \"click\", \"blur\"], [\"ibmIcon\", \"close\", \"size\", \"16\"], [1, \"bx--form__helper-text\", 3, \"ngClass\"], [1, \"bx--form-requirement\"]], template: function ComboBox_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵtemplate(1, ComboBox_label_1_Template, 3, 6, \"label\", 1);\n        ɵngcc0.ɵɵelementStart(2, \"div\", 2, 3)(4, \"div\", 4);\n        ɵngcc0.ɵɵlistener(\"click\", function ComboBox_Template_div_click_4_listener() { return ctx.toggleDropdown(); })(\"blur\", function ComboBox_Template_div_blur_4_listener() { return ctx.onBlur(); });\n        ɵngcc0.ɵɵtemplate(5, ComboBox_div_5_Template, 6, 7, \"div\", 5);\n        ɵngcc0.ɵɵelementStart(6, \"input\", 6, 7);\n        ɵngcc0.ɵɵlistener(\"input\", function ComboBox_Template_input_input_6_listener($event) { return ctx.onSearch($event.target.value); })(\"blur\", function ComboBox_Template_input_blur_6_listener() { return ctx.onBlur(); })(\"keydown.enter\", function ComboBox_Template_input_keydown_enter_6_listener($event) { return ctx.onSubmit($event); });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(8, ComboBox__svg_svg_8_Template, 1, 0, \"svg\", 8);\n        ɵngcc0.ɵɵtemplate(9, ComboBox__svg_svg_9_Template, 1, 0, \"svg\", 9);\n        ɵngcc0.ɵɵtemplate(10, ComboBox_div_10_Template, 2, 2, \"div\", 10);\n        ɵngcc0.ɵɵelementStart(11, \"button\", 11);\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelement(12, \"svg\", 12);\n        ɵngcc0.ɵɵelementEnd()();\n        ɵngcc0.ɵɵnamespaceHTML();\n        ɵngcc0.ɵɵelementStart(13, \"div\", 13, 14);\n        ɵngcc0.ɵɵtemplate(15, ComboBox_ng_content_15_Template, 1, 0, \"ng-content\", 15);\n        ɵngcc0.ɵɵelementEnd()();\n        ɵngcc0.ɵɵtemplate(16, ComboBox_div_16_Template, 3, 5, \"div\", 16);\n        ɵngcc0.ɵɵtemplate(17, ComboBox_div_17_Template, 3, 2, \"div\", 17);\n        ɵngcc0.ɵɵtemplate(18, ComboBox_div_18_Template, 3, 2, \"div\", 17);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.label);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction7(24, _c6, ctx.type === \"multi\", ctx.theme === \"light\", ctx.open, ctx.size === \"sm\", ctx.size === \"xl\", ctx.disabled, ctx.warn));\n        ɵngcc0.ɵɵattribute(\"data-invalid\", ctx.invalid ? true : null);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.type === \"multi\" && ctx.pills.length > 0);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"disabled\", ctx.disabled)(\"value\", ctx.selectedValue)(\"ngClass\", ɵngcc0.ɵɵpureFunction1(32, _c7, !ctx.showClearButton))(\"id\", ctx.id)(\"placeholder\", ctx.placeholder);\n        ɵngcc0.ɵɵattribute(\"aria-labelledby\", ctx.id)(\"aria-expanded\", ctx.open)(\"maxlength\", ctx.maxLength)(\"aria-autocomplete\", ctx.autocomplete);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.warn && ctx.invalid);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.invalid && ctx.warn);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showClearButton);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"title\", ctx.open ? ctx.closeMenuAria : ctx.openMenuAria)(\"ngClass\", ɵngcc0.ɵɵpureFunction1(34, _c8, ctx.open));\n        ɵngcc0.ɵɵattribute(\"aria-label\", ctx.open ? ctx.closeMenuAria : ctx.openMenuAria);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(36, _c9, ctx.dropUp !== null && ctx.dropUp !== undefined ? ctx.dropUp : ctx._dropUp));\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.open);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.helperText && !ctx.invalid && !ctx.warn);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.warn && ctx.invalid);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.invalid && ctx.warn);\n    } }, dependencies: [ɵngcc4.NgClass, ɵngcc4.NgIf, ɵngcc4.NgTemplateOutlet, ɵngcc5.IconDirective], encapsulation: 2 });\nComboBox.comboBoxCount = 0;\n/** @nocollapse */\nComboBox.ctorParameters = () => [\n    { type: ElementRef },\n    { type: DocumentService },\n    { type: DropdownService },\n    { type: I18n }\n];\nComboBox.propDecorators = {\n    placeholder: [{ type: Input }],\n    openMenuAria: [{ type: Input }],\n    closeMenuAria: [{ type: Input }],\n    clearSelectionsTitle: [{ type: Input }],\n    clearSelectionsAria: [{ type: Input }],\n    clearSelectionTitle: [{ type: Input }],\n    clearSelectionAria: [{ type: Input }],\n    id: [{ type: Input }],\n    items: [{ type: Input }],\n    type: [{ type: Input }],\n    size: [{ type: Input }],\n    itemValueKey: [{ type: Input }],\n    label: [{ type: Input }],\n    helperText: [{ type: Input }],\n    appendInline: [{ type: Input }],\n    invalid: [{ type: Input }],\n    invalidText: [{ type: Input }],\n    warn: [{ type: Input }],\n    warnText: [{ type: Input }],\n    maxLength: [{ type: Input }],\n    theme: [{ type: Input }],\n    selectionFeedback: [{ type: Input }],\n    autocomplete: [{ type: Input }],\n    dropUp: [{ type: Input }],\n    disabled: [{ type: Input }],\n    selected: [{ type: Output }],\n    submit: [{ type: Output }],\n    close: [{ type: Output }],\n    search: [{ type: Output }],\n    view: [{ type: ContentChild, args: [AbstractDropdownView, { static: true },] }],\n    dropdownMenu: [{ type: ViewChild, args: [\"dropdownMenu\", { static: false },] }],\n    input: [{ type: ViewChild, args: [\"input\", { static: true },] }],\n    listbox: [{ type: ViewChild, args: [\"listbox\", { static: true },] }],\n    hostClass: [{ type: HostBinding, args: [\"class.bx--list-box__wrapper\",] }],\n    display: [{ type: HostBinding, args: [\"style.display\",] }],\n    hostkeys: [{ type: HostListener, args: [\"keydown\", [\"$event\"],] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ComboBox, [{\n        type: Component,\n        args: [{\n                selector: \"ibm-combo-box\",\n                template: `\n\t\t<div class=\"bx--list-box__wrapper\">\n\t\t\t<label\n\t\t\t\t*ngIf=\"label\"\n\t\t\t\t[for]=\"id\"\n\t\t\t\tclass=\"bx--label\"\n\t\t\t\t[ngClass]=\"{'bx--label--disabled': disabled}\">\n\t\t\t\t<ng-container *ngIf=\"!isTemplate(label)\">{{label}}</ng-container>\n\t\t\t\t<ng-template *ngIf=\"isTemplate(label)\" [ngTemplateOutlet]=\"label\"></ng-template>\n\t\t\t</label>\n\t\t\t<div\n\t\t\t\t#listbox\n\t\t\t\t[ngClass]=\"{\n\t\t\t\t\t'bx--multi-select bx--multi-select--filterable': type === 'multi',\n\t\t\t\t\t'bx--list-box--light': theme === 'light',\n\t\t\t\t\t'bx--list-box--expanded': open,\n\t\t\t\t\t'bx--list-box--sm': size === 'sm',\n\t\t\t\t\t'bx--list-box--lg': size === 'xl',\n\t\t\t\t\t'bx--list-box--disabled': disabled,\n\t\t\t\t\t'bx--combo-box--warning bx--list-box--warning': warn\n\t\t\t\t}\"\n\t\t\t\tclass=\"bx--list-box bx--combo-box\"\n\t\t\t\t[attr.data-invalid]=\"(invalid ? true : null)\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"bx--list-box__field\"\n\t\t\t\t\t(click)=\"toggleDropdown()\"\n\t\t\t\t\t(blur)=\"onBlur()\">\n\t\t\t\t\t<div\n\t\t\t\t\t\t*ngIf=\"type === 'multi' && pills.length > 0\"\n\t\t\t\t\t\tclass=\"bx--tag bx--tag--filter bx--tag--high-contrast\"\n\t\t\t\t\t\t[ngClass]=\"{'bx--tag--disabled': disabled}\">\n\t\t\t\t\t\t<span class=\"bx--tag__label\">{{ pills.length }}</span>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t(click)=\"clearSelected()\"\n\t\t\t\t\t\t\t(blur)=\"onBlur()\"\n\t\t\t\t\t\t\t(keydown.enter)=\"clearSelected()\"\n\t\t\t\t\t\t\tclass=\"bx--tag__close-icon\"\n\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\t[title]=\"clearSelectionsTitle\"\n\t\t\t\t\t\t\t[disabled]=\"disabled\"\n\t\t\t\t\t\t\t[attr.aria-label]=\"clearSelectionAria\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\tfocusable=\"false\"\n\t\t\t\t\t\t\t\tpreserveAspectRatio=\"xMidYMid meet\"\n\t\t\t\t\t\t\t\tstyle=\"will-change: transform;\"\n\t\t\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\twidth=\"16\"\n\t\t\t\t\t\t\t\theight=\"16\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\taria-hidden=\"true\">\n\t\t\t\t\t\t\t\t<path d=\"M12 4.7l-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8z\"></path>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\t#input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\t[disabled]=\"disabled\"\n\t\t\t\t\t\t(input)=\"onSearch($event.target.value)\"\n\t\t\t\t\t\t(blur)=\"onBlur()\"\n\t\t\t\t\t\t(keydown.enter)=\"onSubmit($event)\"\n\t\t\t\t\t\t[value]=\"selectedValue\"\n\t\t\t\t\t\tclass=\"bx--text-input\"\n\t\t\t\t\t\t[ngClass]=\"{'bx--text-input--empty': !showClearButton}\"\n\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t[id]=\"id\"\n\t\t\t\t\t\t[attr.aria-labelledby]=\"id\"\n\t\t\t\t\t\t[attr.aria-expanded]=\"open\"\n\t\t\t\t\t\taria-haspopup=\"listbox\"\n\t\t\t\t\t\t[attr.maxlength]=\"maxLength\"\n\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t[attr.aria-autocomplete]=\"autocomplete\"\n\t\t\t\t\t\t[placeholder]=\"placeholder\"/>\n\t\t\t\t\t<svg\n\t\t\t\t\t\t*ngIf=\"!warn && invalid\"\n\t\t\t\t\t\tibmIcon=\"warning--filled\"\n\t\t\t\t\t\tsize=\"16\"\n\t\t\t\t\t\tclass=\"bx--list-box__invalid-icon\">\n\t\t\t\t\t</svg>\n\t\t\t\t\t<svg\n\t\t\t\t\t\t*ngIf=\"!invalid && warn\"\n\t\t\t\t\t\tibmIcon=\"warning--alt--filled\"\n\t\t\t\t\t\tsize=\"16\"\n\t\t\t\t\t\tclass=\"bx--list-box__invalid-icon bx--list-box__invalid-icon--warning\">\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div\n\t\t\t\t\t\t*ngIf=\"showClearButton\"\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\tclass=\"bx--list-box__selection\"\n\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t[attr.aria-label]=\"clearSelectionAria\"\n\t\t\t\t\t\t[title]=\"clearSelectionTitle\"\n\t\t\t\t\t\t(keyup.enter)=\"clearInput($event)\"\n\t\t\t\t\t\t(click)=\"clearInput($event)\"\n\t\t\t\t\t\t(blur)=\"onBlur()\">\n\t\t\t\t\t\t<svg ibmIcon=\"close\" size=\"16\"></svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\ttabindex=\"-1\"\n\t\t\t\t\t\tclass=\"bx--list-box__menu-icon\"\n\t\t\t\t\t\t[title]=\"open ? closeMenuAria : openMenuAria\"\n\t\t\t\t\t\t[attr.aria-label]=\"open ? closeMenuAria : openMenuAria\"\n\t\t\t\t\t\t[ngClass]=\"{'bx--list-box__menu-icon--open': open}\">\n\t\t\t\t\t\t<svg ibmIcon=\"chevron--down\" size=\"16\"></svg>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\t#dropdownMenu\n\t\t\t\t\t[ngClass]=\"{\n\t\t\t\t\t\t'bx--list-box--up': this.dropUp !== null && this.dropUp !== undefined ? dropUp : _dropUp\n\t\t\t\t\t}\">\n\t\t\t\t\t<ng-content *ngIf=\"open\"></ng-content>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\t*ngIf=\"helperText && !invalid && !warn\"\n\t\t\t\tclass=\"bx--form__helper-text\"\n\t\t\t\t[ngClass]=\"{'bx--form__helper-text--disabled': disabled}\">\n\t\t\t\t<ng-container *ngIf=\"!isTemplate(helperText)\">{{helperText}}</ng-container>\n\t\t\t\t<ng-template *ngIf=\"isTemplate(helperText)\" [ngTemplateOutlet]=\"helperText\"></ng-template>\n\t\t\t</div>\n\t\t\t<div *ngIf=\"!warn && invalid\" class=\"bx--form-requirement\">\n\t\t\t\t<ng-container *ngIf=\"!isTemplate(invalidText)\">{{ invalidText }}</ng-container>\n\t\t\t\t<ng-template *ngIf=\"isTemplate(invalidText)\" [ngTemplateOutlet]=\"invalidText\"></ng-template>\n\t\t\t</div>\n\t\t\t<div *ngIf=\"!invalid && warn\" class=\"bx--form-requirement\">\n\t\t\t\t<ng-container *ngIf=\"!isTemplate(warnText)\">{{warnText}}</ng-container>\n\t\t\t\t<ng-template *ngIf=\"isTemplate(warnText)\" [ngTemplateOutlet]=\"warnText\"></ng-template>\n\t\t\t</div>\n\t\t</div>\n\t`,\n                providers: [\n                    {\n                        provide: NG_VALUE_ACCESSOR,\n                        useExisting: ComboBox,\n                        multi: true\n                    }\n                ]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.DocumentService }, { type: ɵngcc2.DropdownService }, { type: ɵngcc3.I18n }]; }, { id: [{\n            type: Input\n        }], items: [{\n            type: Input\n        }], type: [{\n            type: Input\n        }], size: [{\n            type: Input\n        }], appendInline: [{\n            type: Input\n        }], invalid: [{\n            type: Input\n        }], warn: [{\n            type: Input\n        }], maxLength: [{\n            type: Input\n        }], theme: [{\n            type: Input\n        }], selectionFeedback: [{\n            type: Input\n        }], autocomplete: [{\n            type: Input\n        }], disabled: [{\n            type: Input\n        }], selected: [{\n            type: Output\n        }], submit: [{\n            type: Output\n        }], close: [{\n            type: Output\n        }], search: [{\n            type: Output\n        }], hostClass: [{\n            type: HostBinding,\n            args: [\"class.bx--list-box__wrapper\"]\n        }], display: [{\n            type: HostBinding,\n            args: [\"style.display\"]\n        }], placeholder: [{\n            type: Input\n        }], openMenuAria: [{\n            type: Input\n        }], closeMenuAria: [{\n            type: Input\n        }], clearSelectionsTitle: [{\n            type: Input\n        }], clearSelectionsAria: [{\n            type: Input\n        }], clearSelectionTitle: [{\n            type: Input\n        }], clearSelectionAria: [{\n            type: Input\n        }], \n    /**\n     * Handles `Escape/Tab` key closing the dropdown, and arrow up/down focus to/from the dropdown list.\n     */\n    hostkeys: [{\n            type: HostListener,\n            args: [\"keydown\", [\"$event\"]]\n        }], itemValueKey: [{\n            type: Input\n        }], label: [{\n            type: Input\n        }], helperText: [{\n            type: Input\n        }], invalidText: [{\n            type: Input\n        }], warnText: [{\n            type: Input\n        }], dropUp: [{\n            type: Input\n        }], view: [{\n            type: ContentChild,\n            args: [AbstractDropdownView, { static: true }]\n        }], dropdownMenu: [{\n            type: ViewChild,\n            args: [\"dropdownMenu\", { static: false }]\n        }], input: [{\n            type: ViewChild,\n            args: [\"input\", { static: true }]\n        }], listbox: [{\n            type: ViewChild,\n            args: [\"listbox\", { static: true }]\n        }] }); })();\n\nclass ComboBoxModule {\n}\nComboBoxModule.ɵfac = function ComboBoxModule_Factory(t) { return new (t || ComboBoxModule)(); };\nComboBoxModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: ComboBoxModule });\nComboBoxModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ providers: [DropdownService], imports: [CommonModule,\n        DropdownModule,\n        I18nModule,\n        UtilsModule,\n        IconModule, DropdownModule] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ComboBoxModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    ComboBox\n                ],\n                exports: [\n                    ComboBox,\n                    DropdownModule\n                ],\n                imports: [\n                    CommonModule,\n                    DropdownModule,\n                    I18nModule,\n                    UtilsModule,\n                    IconModule\n                ],\n                providers: [DropdownService]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ComboBoxModule, { declarations: function () { return [ComboBox]; }, imports: function () { return [CommonModule,\n        DropdownModule,\n        I18nModule,\n        UtilsModule,\n        IconModule]; }, exports: function () { return [ComboBox, DropdownModule]; } }); })();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ComboBox, ComboBoxModule };\n\n"],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EA1Ie;MA2ICuB,SAAS,EAAE,CACP;QACI/B,OAAO,EAAElT,iBADb;QAEImT,WAAW,EAAE7K,QAFjB;QAGI8K,KAAK,EAAE;MAHX,CADO;IA3IZ,CAAD;EAFwF,CAAD,CAAnC,EAqJ1D,YAAY;IAAE,OAAO,CAAC;MAAEtK,IAAI,EAAEtH,MAAM,CAACjB;IAAf,CAAD,EAA8B;MAAEuI,IAAI,EAAErH,MAAM,CAACN;IAAf,CAA9B,EAAgE;MAAE2H,IAAI,EAAEpH,MAAM,CAACX;IAAf,CAAhE,EAAkG;MAAE+H,IAAI,EAAEnH,MAAM,CAACV;IAAf,CAAlG,CAAP;EAAkI,CArJtF,EAqJwF;IAAEsC,EAAE,EAAE,CAAC;MACrJuF,IAAI,EAAE1I;IAD+I,CAAD,CAAN;IAE9IyI,KAAK,EAAE,CAAC;MACRC,IAAI,EAAE1I;IADE,CAAD,CAFuI;IAI9I0I,IAAI,EAAE,CAAC;MACPA,IAAI,EAAE1I;IADC,CAAD,CAJwI;IAM9I2I,IAAI,EAAE,CAAC;MACPD,IAAI,EAAE1I;IADC,CAAD,CANwI;IAQ9I4I,YAAY,EAAE,CAAC;MACfF,IAAI,EAAE1I;IADS,CAAD,CARgI;IAU9I6I,OAAO,EAAE,CAAC;MACVH,IAAI,EAAE1I;IADI,CAAD,CAVqI;IAY9I8I,IAAI,EAAE,CAAC;MACPJ,IAA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"},"metadata":{},"sourceType":"module"}